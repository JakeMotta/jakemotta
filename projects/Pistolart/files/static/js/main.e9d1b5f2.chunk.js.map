{"version":3,"sources":["images/ambii_logo_inverse.png","common/assets/images/ios.png","common/assets/images/playstore.png","common/assets/images/credit-card.svg","common/assets/images/visa.svg","common/assets/images/amex.svg","common/assets/images/mastercard.svg","common/assets/images/androidBtn.png","common/assets/images/appleBtn.png","common/assets/images/appLogo.png","common/assets/images/bg1.png","common/assets/images/bg2.png","common/assets/images/bg3.png","common/assets/images/bg4.jpg","common/assets/images/bg5.jpg","common/assets/images/bg6.jpg","constants/analytics.js","constants/genreColors.js","constants/images.js","constants/inStoreMessaging.js","constants/supersetDescriptions.js","constants/supersets.js","constants/tempos.js","constants/timezones.js","constants/voices.js","constants/index.js","redux-store/initialState.js","util/index.js","reducers/auth.js","constants/actionTypes.js","reducers/inStoreMessaging.js","reducers/player.js","reducers/playlists.js","reducers/schedules.js","reducers/snackbar.js","reducers/stations.js","reducers/index.js","redux-store/storeConfiguration.js","configs/urls.js","configs/api.js","actions/dispatch.js","configs/socket.js","actions/player.js","actions/auth.js","actions/locations.js","actions/stations.js","actions/schedule.js","actions/inStoreMessaging.js","actions/socket.js","actions/snackbar.js","components/antSpinner/index.js","containers/landing/index.js","containers/welcome/autoComplete/index.js","containers/welcome/addressForm/index.js","containers/welcome/companyInfo/index.js","configs/google-analytics.js","containers/welcome/signUp/index.js","containers/login/index.js","images/google-play-store.svg","components/pairToken/index.js","helpers/Auth0Helper.js","helpers/MobileAppCommunicator.js","components/stationDetails/index.js","components/bpm/index.js","components/page-title/index.js","components/dashboardModule/index.js","components/instruction-modal/index.js","containers/create/index.js","containers/mood_tag_search_bar/mood_tag/index.js","containers/mood_tag_search_bar/index.js","containers/tempo_selection/index.js","containers/era_selection/index.js","containers/create/advance_filter/index.js","components/public_stations/tracksModal/index.js","components/genre-color-bar/index.js","components/public_stations/publicStation/index.js","components/stationSection/index.js","containers/genre_section/index.js","components/ControlledLottie.js","containers/create/discover/index.js","components/station-tile/index.js","components/stationVerticalList/index.js","components/toggleInput/index.js","containers/createSchedule/index.js","components/scheduleBlock/index.js","containers/schedules/index.js","components/messageCard/index.js","containers/inStoreMessaging/index.js","components/setting_panel/index.js","components/custom-input/index.js","actions/payments.js","components/payment-form/index.js","components/activatedSubscription/index.js","containers/settings/index.js","containers/createInStoreMessaging/index.js","containers/sandbox/index.js","routes/index.js","components/header/index.js","components/music-bar/volume-slider/index.js","components/music-bar/index.js","App.js","containers/rootContainer.js","serviceWorker.js","index.js"],"names":["module","exports","categories","actions","labels","genreColors","images","googleBtn","require","iosBtn","appLogo","bg1","bg2","bg3","bg4","bg5","bg6","frequencies","title","time","supersetDescriptions","supersets","global","defaultIndividual","bar","cafe","gym","hotel","other","restaurant","salon","school","spa","shop","tempos","Slower","min","max","icon","faSnooze","Slow","faTurtle","Moderate","faSquirrel","Fast","faRabbitFast","Faster","faRocket","timezones","full_language_names","proper_voice_name","userTypes","initialState","auth","user","jwt","location","isApple","inApp","snackbar","notification","message","loader","requestInProgress","locations","data","count","limit","skip","playlists","schedules","stations","topTrack","artists","tracks","playlistList","genreList","eraList","moodList","stationPreviews","genre","era","mood","activeStationPreview","selectedPreviews","ID","track","zones","activeSchedule","player","locationJWT","showPlayer","isPlaying","skipDisabled","trackNumber","trackMap","playerError","inStoreMessaging","messages","objArrayToMap","arr","key","map","item","get","hashCode","s","Math","abs","split","reduce","a","b","charCodeAt","checkForMobile","window","outerWidth","getTime","isNaN","floor","slice","getBPMInfo","bpm","getDeviceId","deviceID","localStorage","getItem","length","result","characters","charactersLength","i","charAt","random","toUpperCase","generateRandomString","setItem","getTrackNumberByTrack","advertisement","substring","ism","err","console","log","auth_reducer","state","action","type","Object","assign","favoritesMap","station","currentTrack","favorites","explicitAllowed","pairedDevice","lastTrack","currentTrackNumber","trackSchedule","schedule","inStoreMessaging_reducer","player_reducer","removeItem","playlists_reducer","selected_stations_preview_reducer","snackbar_reducer","stations_reducer","combineReducers","createBrowserHistory","configureStore","middlewares","thunk","createStore","rootReducer","compose","applyMiddleware","config","API_URL","SOCKET_URL","APP_TITLE","HTTP","method","uri","headers","params","url","trim","query","Promise","resolve","reject","axios","then","response","catch","alert","status","setInApp","dispatch","setTrackSchedule","setPairedDevice","setLastTrack","setTrackMap","setLocation","setLocationJWT","setStation","setCurrentTrack","setIsPlaying","setDisableSkip","setTrackNumber","setUser","setSchedule","setLocationSchedules","socket","io","socketChannels","addPlayerListeners","playerPaired","playerUnPaired","playerDisconnected","playerPlayed","playerPaused","disconnectPlayer","getState","locationId","error","connectPlayer","res","currentTrackByNumber","playNextReq","newStation","newTrackSchedule","newUrls","newTrackNumber","skipSong","songCompletion","trackScheduleId","trackScheduleLength","queue","queueHash","nextTrack","stationId","toString","playNextRes","checkIfAdvertisement","isAdvertisement","isInStoreMessage","skipTimer","setTimeout","clearTimeout","removePlayerListeners","removeEventListener","updateStationListener","on","updateCurrentTrackListener","removeStationListener","auth0setLogin","toLowerCase","setIsApple","loginSuccess","obj","token","deviceName","uniqueId","deviceBrand","override","mixMaxRegister","id","email","name","groupName","signUp","signUpSuccess","signUpFailed","finally","toggleFavorite","newFavorites","_id","splice","push","toggleExplicit","previousExplicitState","setExplicit","getDiscoverPulicStations","filteredData","tempoList","forEach","setPublicStationList","getStationDetails","assignStation","companyId","createSchedule","getSchedule","editSchedule","saveSchedule","scheduleId","getMyPlaylists","assignSchedule","setSnackbarMessage","deleteSchedule","deletedSchedule","getMessages","createPreviewMessage","voice","language","speed","hash","createMessage","frequency","savedPreviews","editMessage","messageId","deleteMessage","updateFrequency","getVoiceOptions","startSockets","setSnackbarNotification","_setSnackbarNotification","_setSnackbarMessage","AntSpinner","style","fontSize","color","spin","Main","props","this","auth0","isAuthenticated","history","width","height","position","display","alignItems","justifyContent","indicator","spinning","Component","connect","bindActionCreators","withRouter","withAuth0","FormItem","Form","Item","google","AutoSearchForm","getLocation","navigator","geolocation","getCurrentPosition","coords","setState","myLocation","lng","longitude","lat","latitude","info","onSuggestSelect","suggest","gmaps","address_components","component","types","indexOf","city","long_name","addressLineOne","addressLineTwo","postalCode","country","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","userData","label","cords","companySearch","onSumbit","missingData","address","getFieldDecorator","form","className","rules","required","ref","el","_geoSuggest","onChange","e","placeholder","maps","LatLng","radius","WrappedApp","create","AddressForm","onSubmit","validateFieldsAndScroll","values","validTimezone","checkIfValidTimezone","isLoading","onSearch","searchText","keys","timezoneRes","filter","includes","selectedTimezone","onSelect","value","dropdownError","timezoneData","hideRequiredMark","float","initialValue","onPressEnter","dataSource","onClick","Option","Select","CompanyInfo","countryCode","businessType","preventDefault","businessSelected","userType","firstName","lastName","phoneNumber","concat","parsePhoneNumber","handleMenuClick","replace","prefixSelector","borderRight","pattern","addonBefore","overlay","menu","trigger","textTransform","faChevronDown","marginLeft","logEvent","category","ReactGA","event","parseInt","trackScreen","pageview","pathname","search","trackModal","modal","modalview","Step","Steps","companySteps","Login","next","current","steps","signUpSubmit","success","prev","progressDot","textAlign","0","1","marginRight","_onLogin","password","isLogin","Password","block","loginWithRedirect","_style","_linearGradient","_path","_linearGradient2","_path2","_linearGradient3","_path3","_linearGradient4","_path4","pairToken","char","index","fontWeight","margin","_extends","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","createElement","viewBox","gradientUnits","y1","x2","y2","offset","stopColor","d","x1","ForwardRef","forwardRef","Auth0Helper","lock","Auth0Lock","configurationBaseUrl","autoclose","autofocus","closable","allowShowPassword","redirectUrl","origin","responseType","sso","theme","logo","primaryColor","languageDictionary","signUpTitle","forgotPasswordTitle","additionalSignUpFields","show","initialScreen","logout","MobileAppCommunicator","endpoint","ReactNativeWebView","postMessage","JSON","stringify","Content","Layout","resizeListener","StationDetails","close","isLoggedIn","startStationDisabled","startStation","send","isBack","favoriteStation","favoriteDisabled","isBackgroundImage","explicit","isMobile","document","body","scrollTop","documentElement","addEventListener","setStationDetails","prevProps","isEqual","setStationBackgroundImage","removeStationBackgroundImage","waitHeader","setInterval","stationHeader","getElementById","backgroundImage","cover","clearInterval","thisStationId","stationQueue","stationFavorited","checkIfFavorited","isActiveStation","backgroundColor","undefined","hex","size","loading","disabled","faPlayCircle","faHeart","description","src","alt","opacity","artist","album","BPM","animate","hideText","animation","toFixed","PageTitle","subtitle","backArrow","backArrowPress","faArrowLeft","DashboardModule","content","contentArray","Array","isArray","React","Children","child","cloneElement","visible","onOk","onCancel","playStation","arrayOfCode","openLink","link","open","centered","footer","code","ambiiLogo","faApple","phoneImage","errorTimer","testInterval","CreateSoundTrack","checkPlayerState","isThisDevicePlaying","playerInfo","controllerStyle","getSongTime","scrollIntoView","behavior","showPlaylistModal","playlistId","playlistModalId","afterCreateStaion","showStationSearch","toggleStationSearch","collapse","getElementsByClassName","parseLocationName","connectPress","showAppModal","loadPlayer","loadingPlayer","showConnectModal","changeStationPress","playButtonDisabled","loadingExplicit","artistName","isFixHeader","pageHeight","showErrorModal","userName","errorTitle","errorMessage","errorIcon","errorButton","currentSongTime","currentSongDuration","showInstructions","stationHistory","createUserName","viewedMobile","emit","userId","closeErrorMessage","innerHTML","useTrack","songImage","locationName","songTrack","songArtist","stationName","faHeartbeat","faGrinBeamSweat","songData","getTrackData","isIndividual","locationInUse","activeStation","scheduleName","modalWidth","hasTrackOverflow","hasArtistOverflow","nowPlayingInfoWrapper","nowPlayingTrack","nowPlayingArtist","getBoundingClientRect","Boolean","bodyStyle","minHeight","padding","borderRadius","overflow","maxHeight","openAdBlockMessage","faMobile","borderColor","marginTop","faTv","faPause","faPlay","stubTrue","faStepForward","faTimes","sendToMobileDevice","faMusic","marginBottom","faKey","faCog","checked","faTvMusic","faSpeaker","faCommentMusic","AmbiiLogo","MoodTag","isHovered","onMouseOver","onMouseOut","performSelect","text","onMouseEnter","onMouseLeave","MoodTagSearchBar","removeTag","onChangeText","searchTags","items","tag","tags","filterTagArray","second","Set","selectedTags","x","has","handleClick","node","contains","isSearchFocused","handleHeight","tagListRef","onFocus","c","tagInput","faSearch","top","TempoSelection","performSelectTempo","tempo","currentSelectedTempo","selectTempo","deSelectTempo","reverse","AdvanceFilter","browseMoods","onSelectTempo","onDeselectTempo","onSelectMood","browseEraRange","onSelectEra","TracksModal","albumCover","shape","GenreColorBar","dataA","dataB","genres","roundBottom","simple","entries","sort","dataC","totalPercentage","calculateEachPercentage","percent","bpmInfo","music","borderBottomLeftRadius","borderBottomRightRadius","bottom","left","PublicStation","modalVisible","hovered","showModal","hideModal","stationPress","rowIndex","browse","tileStyle","previewCardStyle","bpmMean","border","showStats","PureComponent","StationSection","showArrows","showLeftArrow","showRightArrow","diff","outer","scrollView","getElement","clientWidth","inner","scrollWrapper","preMargin","round","showViewAll","buttonPress","faChevronLeft","rightMoveSpeed","scrollRight","scrollBy","forceUpdate","faCaretLeft","me","onScroll","company","leftMoveSpeed","scrollLeft","faCaretRight","clicked","GenresSection","ControlledLottie","isStopped","isPaused","animationData","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","options","calculateBrowse","loadNumber","buildPercentages","returnedObj","toVector","vector","cosSim","A","B","dotproduct","mA","mB","sqrt","scoreString","searchString","targetString","score","j","ngram","pow","playlist","mean","browseTempoRange","searchScore","targetGenres","browseGenres","targetMoods","genresSelected","moodsSelected","genreSimilarities","moodSimilarities","moods","total","calculatedPlaylists","_checkIfAllFalse","_checkIsFiltering","isSearching","isSelectingGenre","isSelectingMood","onSetFiltering","isFiltering","onSelectGenre","selectedGenres","showAdvancedSearch","showClearFilters","selectedMoods","from","to","onSetSearchText","searchTimeout","isStation","defaultGenres","defaultMoods","getBusinessType","stationsAlreadyLoaded","getPlaylists","showAdFreeModal","globalStations","businessTypeStations","hasFavorites","favoritesQueue","superset","businessTypeSuperset","playlistSuperset","str","businessTypeMenu","updatePreference","selectedKeys","login","flex","animationIn","isVisible","Search","prevState","faFilter","paddingRight","clearAdvancedFilters","loadMoreStations","favorite","StationTile","StationVerticalList","expanded","displayData","elem","toggleExpand","ToggleInput","handleUpdate","copy","val","toggleInput","activeInput","inputRef","focus","createRef","handleClickOutside","handleKeyDown","onUpdate","flexDirection","faPenSquare","confirm","Modal","CreateSchedule","renderHeader","date","getDay","validateEvent","start","getDate","end","getHours","getMinutes","revert","saveScheduleChanges","isSaving","calendarEvents","calendarComponentRef","getApi","getEvents","tempStations","moment","format","day","extendedProps","closeSchedule","backToDashboard","mySchedule","match","showMusicPlayer","accessFullCalendarAPI","bind","draggableEl","Draggable","itemSelector","eventData","eventEl","getAttribute","sideSection","calendar","setOption","faDesktop","faSmile","remove","categorizedKeys","globalStationKeys","showErrorMessage","stationNameUpdate","faExternalLinkAlt","defaultView","header","defaultDate","allDayDefault","eventDurationEditable","editable","events","droppable","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","eventDrop","eventReceive","slotDuration","eventClick","startRecur","Date","now","allDaySlot","eventOverlap","columnHeaderText","eventResize","forceEventDuration","ScheduleBlock","stopPropagation","callback","hidden","wait","timeout","hasData","stopLoading","faTrash","Schedules","getAllLocations","creatingSchedule","createNewSchedule","faPlus","MessageCard","messageData","setPreviewUrl","faVolume","faEdit","delete","defaultValue","updateMessageFrequency","InStoreMessaging","previewTrackUrl","rap","audioEl","play","activeMessages","inactiveMessages","element","autoPlay","controls","muted","volume","onCanPlay","playTrack","onEnded","onError","m","useState","business","payment","security","setting","faUser","faAngleRight","faStoreAlt","faCreditCard","faLockAlt","CustomInput","addSubscription","PaymentForm","toggle","useSelector","useDispatch","stripe","useStripe","elements","useElements","enterLoading","setEnterLoading","nameOnCard","postal_code","line1","cardBillingDetails","setCardBillingDetails","handleChange","handleSubmit","createPaymentMethod","card","CardNumberElement","CardExpiryElement","CardCvcElement","billing_details","phone","paymentMethod","placement","payment_method","cardCvcAndExpElementOptions","base","showIcon","iconStyle","htmlType","ActivatedSubscription","cardDetails","otherResposeDetails","subscriptionData","expDate","formButton","reason","fetchCardDetails","stripeCustomer","myDate","customer","subscriptions","current_period_end","toDateString","param","visa","amex","mastercard","creditcard","renderSwitch","brand","last4","exp_month","exp_year","active","cancelSubscription","subId","subscription","stripeSubscription","okButtonProps","okText","Group","updatedLocation","Settings","formToggle","subscribed","TextArea","Input","ButtonGroup","Button","CreateInStoreMessaging","languageCode","voiceOptions","sortedLanguageArray","editingExistingMessage","previewMessageUrl","isPreviewing","postPreviewChanges","locallySavedPreviews","parse","voiceOptionList","parent","getMessageHash","md5","checkIfValidISM","checkIfHashExists","onFailure","onSuccess","msg","maxLength","rows","v","renderLanguageOptions","renderVoiceOptions","freq","previewMessage","saveMessage","faPlusCircle","Sandbox","routes","path","exact","isChild","private","duration","AppHeader","route","logInOut","hasStation","destroy","windowSize","innerWidth","activePath","tab","pos","mobileHeaderMenu","mode","faSignalStream","faClock","faMicrophone","faSignOut","rotation","isCreateSchedulePage","devMode","headStyle","faBars","checkIfActiveTab","paddingLeft","faAcorn","printStuff","VolumeSlider","myVolume","changeVolume","calculateVolumeHeight","orientation","tooltip","onChangeStart","startDrag","onChangeComplete","endDrag","MusicBar","localVolume","parseFloat","currentTime","previousVolume","showVolumeControl","dragging","isrc","checkIfVolumeSlider","updateTrackState","isSafari","pause","currentTrackISRC","currentTrackUrl","promise","playerInfoWrapper","artistOverflow","trackOverflow","getCurrentTrack","songError","preload","togglePlay","newVolume","setVolume","toggleVolumeDrag","faVolumeMute","toggleMute","faVolumeUp","closePlayer","initialize","AmbiiRouter","getLock","initiateLogin","idToken","checkSession","mobileAuth","Routes","render","showMenu","RouterWithAuth","App","initAnalytics","snackbarMessageDuration","siteSpeedSampleRate","testMode","hostname","openNotification","openMessage","hasNotification","hasMessage","warn","RootContainer","store","stripePromise","loadStripe","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e9d1b5f2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ambii_logo_inverse.188927ed.png\";","module.exports = __webpack_public_path__ + \"static/media/ios.c969fdc0.png\";","module.exports = __webpack_public_path__ + \"static/media/playstore.6b8a494d.png\";","module.exports = __webpack_public_path__ + \"static/media/credit-card.10e3740d.svg\";","module.exports = __webpack_public_path__ + \"static/media/visa.0d1fbbc4.svg\";","module.exports = __webpack_public_path__ + \"static/media/amex.a9eddb34.svg\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.543bc93b.svg\";","module.exports = __webpack_public_path__ + \"static/media/androidBtn.e65a89bc.png\";","module.exports = __webpack_public_path__ + \"static/media/appleBtn.99f1ed98.png\";","module.exports = __webpack_public_path__ + \"static/media/appLogo.811d25b4.png\";","module.exports = __webpack_public_path__ + \"static/media/bg1.069f3dec.png\";","module.exports = __webpack_public_path__ + \"static/media/bg2.5a06bbee.png\";","module.exports = __webpack_public_path__ + \"static/media/bg3.9f68fc4b.png\";","module.exports = __webpack_public_path__ + \"static/media/bg4.815bb5d4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg5.b7d2890a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg6.435f2fc0.jpg\";","export const categories = {\n  welcome: \"Welcome\",\n  discover: \"Discover\",\n  dashboard: \"Dashboard\",\n  schedule: \"Schedule\",\n  player: \"Player\",\n  general: \"General\",\n};\n\nexport const actions = {\n  // Welcome\n  login: \"Logged into web application\",\n  signup: \"Signed up for web application\",\n  failedLogin: \"Failed to login\",\n  timezone: \"Selected a new timezone\",\n\n  // Discover\n  stationPreview: \"Previewed a station\",\n  startStation: \"Started station\",\n  updatePreference: \"Updated station preference\",\n  advancedBrowse: \"Swapped to advance station browse\",\n  stationBrowse: \"Swapped to station browse\",\n  search: \"Search station\",\n\n  // Dashboard\n  startPlayer: \"Started web player\",\n  closePlayer: \"Closed web player\",\n  connect: \"Pressed connect button\",\n\n  // Scheduling\n  createSchedule: \"Created Schedule\",\n  saveSchedule: \"Saved Schedule\",\n  closeSchedule: \"Closed Schedule\",\n  backToDashboard: \"Back To Dashboard\",\n  changeScheduleName: \"Changed Schedule Name\",\n  viewedMobile: \"Viewed on Mobile Device\",\n\n  // General\n  button: \"Clicked a button\",\n  toggledFavorite: \"Toggled a station as favorite\",\n  signout: \"User signed out of web application\",\n\n  // Error\n};\n\nexport const labels = {\n  button: \"button\",\n  error: \"error\",\n};\n","export const genreColors = {\n  \"Electronica\": \"#44d474\",\n  \"Alternative & Punk\": \"#d9964a\",\n  \"Rock\": \"#d64b46\",\n  \"Pop\": \"#d04283\",\n  \"Classical\": \"#8046d6\",\n  \"Traditional\": \"#c178ff\",\n  \"Jazz\": \"#42c4d0\",\n  \"Soundtrack\": \"#E6DD5D\",\n  \"Urban\": \"#191919\",\n  \"Other\": \"#999999\",\n};\n","export const images = {\n  googleBtn: require(\"../common/assets/images/androidBtn.png\"),\n  iosBtn: require(\"../common/assets/images/appleBtn.png\"),\n  appLogo: require(\"../common/assets/images/appLogo.png\"),\n  bg1: require(\"../common/assets/images/bg1.png\"),\n  bg2: require(\"../common/assets/images/bg2.png\"),\n  bg3: require(\"../common/assets/images/bg3.png\"),\n  bg4: require(\"../common/assets/images/bg4.jpg\"),\n  bg5: require(\"../common/assets/images/bg5.jpg\"),\n  bg6: require(\"../common/assets/images/bg6.jpg\"),\n};\n","export const frequencies = [\n  { title: \"Inactive\", time: \"0\" },\n  { title: \"Every 15 Minutes\", time: \"15\" },\n  { title: \"Every 30 Minutes\", time: \"30\" },\n  { title: \"Every Hour\", time: \"60\" },\n  { title: \"Every Few Hours\", time: \"180\" },\n  // { title: \"Custom\", time: \"custom\" },\n];\n","export const supersetDescriptions = {\n  \"Popular Today\": \"The Top Hits of Today\",\n  \"Holiday Music\": \"Get into the spirit of the season!\",\n  \"Flattening the Curve\": \"Battling COVID-19, one song at a time.\",\n  \"Upbeat Energy\": \"Energetic songs to get the mood flowing.\",\n  \"Laid-back, Low-key.\": \"Songs for relaxation and chill-out times.\",\n  \"Learning to Grow\": \"A series for those looking to overcome rough times, through different genres of music.\",\n  \"Decades\": \"Your home for all decades of music.\",\n  \"Ahead of the Curve\": \"A series for those who are tomorrow's trendsetters.\",\n  \"Liquid Courage\": \"Beats for those that are bold and those that are beautiful.\",\n  \"Beats and Beers\": \"Cheer on your favorite team with these country hits!\",\n  \"Taproom Treasures\": \"Stripped-down music for the sophisticated drinker.\",\n  \"Flirtatious Friday Night\": \"She's sitting right there.\",\n  \"Settled-Down Speakeasy\": \"Jazzy tunes for a sparkilng night.\",\n  \"Dancin' Across the World\": \"Iresistable, international glimmers of firey fun.\",\n  \"Coffee Curiosity\": \"A perfect morning moodsetter.\",\n  \"Bookstore Barista\": \"Quiet jazz for newspapers and novelists.\",\n  \"Classical Cappuccino\": \"Upscale grandiose through caffine and classical.\",\n  \"Countryside Cafe\": \"For french toast, syrup, and kickin' up those boots in the morning.\",\n  \"Late Night Study \": \"Beats for the studious individual \",\n  \"Glitz At the Ritz\": \"Wonder and wow through jazzy band ballads.\",\n  \"Loungeside Lovers\": \"Ambiance for the low-key days and nights.\",\n  \"Hearthside Hip\": \"R&B treasures for the late-night bonfire vibes\",\n  \"Travelers Rest\": \"Soft stripped music to lay down to.\",\n  \"Elegant Entertainment\": \"Classical masterpieces for the sophisticated traveler.\",\n  \"Tropical Getaway\": \"A cabana soundtrack for pina coladas and the poolside.\",\n  \"Pep Rally Pop\": \"Let's get this bread.\",\n  \"Study Beats\": \"Lo-fi music for the late study nights.\",\n  \"Intelligence through Inspiration\": \"Ambiance for peaceful reflection and quiet times.\",\n  \"Classical Concentration\": \"Inspiration through piano, strings, and eras of talent\",\n  \"Developing Brains\": \"For the little ones.\",\n  \"Academy Alternative\": \"Alternative hits for those looking to get work done.\",\n  \"Boutique Beats\": \"Continuous flow and feel-good vibes.\",\n  \"Diamonds Are Forever\": \"Inspirational classical music for the sophisticated shopper.\",\n  \"Retail R&B\": \"R&B and pop hits for the casual customer.\",\n  \"Food Court Finds\": \"Grab a bite to eat with this easy-listening soundtrack!\",\n  \"Girls Night Out\": \"Empowering women through confident, feel-good beats.\",\n  \"Upscaled Grace\": \"Elegance through classical masterpieces.\",\n  \"Jukebox of the Ages\": \"Your home for all decades of music.\",\n  \"Wax and Relax\": \"Set the mood with the perfect ambiiance.\",\n  \"Hairdresser Hop\": \"R&B and hip hop hits for the trendsetter.\",\n  \"Nails, Hair, Hips, Heels\": \"Endless feel-good beats.\",\n  \"Pumpin Metal\": \"Rock and Metal soundtrack for the heavy lifter.\",\n  \"Persistence Pop\": \"Keep that grind up.\",\n  \"Pre-Game Pump Up\": \"Get in your head, get in the ring.\",\n  \"Fire Dancing Fiesta\": \"High-energy music for the dancers...and for that perfect body.\",\n  \"Heavy Lifting Hype\": \"Get turnt.\",\n  \"Hamburger Hits\": \"Quick beats for quick bites.\",\n  \"Barbecue Bash\": \"Perfect for the backyard and the beer.\",\n  \"Asian Eats\": \"You don't need a plane ticket.\",\n  \"Taco Truck Temposetter\": \"Are you going to finish all 10 of those tacos?\",\n  \"Boba Beats\": \"Passionfruit, peach stars, pearls, and perfection.\",\n  \"Royalty Dining\": \"Elegnat music for roses and candlelit dinners.\",\n  \"Ethereal Elegance\": \"Transcend within yourself.\",\n  \"Self-Care Classical\": \"Classical music to rejuvinate the brain.\",\n  \"Asian Getaway\": \"Sounds through Japaneese cherry blossoms and night-market eats.\",\n  \"Relaxin' R&B\": \"Good vibes only.\",\n  \"Hot Spring Hits\": \"Glimmering hits for feel-good moments.\",\n  \"Working From Home\": \"Chill beats for ultimate focus and productivity.\",\n  \"New Hobby, New Self\": \"Cooking, dancing, stretching, reading- with this time, anything is possible.\",\n  \"A Time For Reflection\": \"Rise above and let serenity flow in this time of unrest.\",\n  \"Go Hard or (Stay) Home\": \"Quarantine ain't stopping these muscle gains.\",\n  \"Treasured Throwbacks\": \"Remembering the days before this period of time.\",\n  \"Positive Vibes Only (Singing in the Shower)\": \"Sing your heart out to these songs of joy and jubilation!\",\n};\n","export const supersets = {\n  global: [\"Popular Today\"],\n  defaultIndividual: [\"Working From Home\", \"New Hobby, New Self\", \"A Time For Reflection\", \"Go Hard or (Stay) Home\", \"Treasured Throwbacks\", \"Positive Vibes Only (Singing in the Shower)\"],\n  bar: [\"Liquid Courage\", \"Beats and Beers\", \"Taproom Treasures\", \"Flirtatious Friday Night\", \"Settled-Down Speakeasy\", \"Dancin' Across the World\"],\n  cafe: [\"Coffee Curiosity\", \"Bookstore Barista\", \"Classical Cappuccino\", \"Boba Beats\", \"Countryside Cafe\", \"Late Night Study \"],\n  gym: [\"Pumpin Metal\", \"Persistence Pop\", \"Pre-Game Pump Up\", \"Fire Dancing Fiesta\", \"Heavy Lifting Hype\"],\n  hotel: [\"Glitz At the Ritz\", \"Loungeside Lovers\", \"Hearthside Hip\", \"Travelers Rest\", \"Elegant Entertainment\", \"Tropical Getaway\"],\n  other: [\"Flattening the Curve\", \"Upbeat Energy\", \"Laid-back, Low-key.\", \"Learning to Grow\", \"Decades\", \"Ahead of the Curve\"],\n  restaurant: [\"Hamburger Hits\", \"Barbecue Bash\", \"Asian Eats\", \"Taco Truck Temposetter\", \"Boba Beats\", \"Royalty Dining\"],\n  salon: [\"Girls Night Out\", \"Upscaled Grace\", \"Jukebox of the Ages\", \"Wax and Relax\", \"Hairdresser Hop\", \"Nails, Hair, Hips, Heels\"],\n  school: [\"Pep Rally Pop\", \"Study Beats\", \"Intelligence through Inspiration\", \"Classical Concentration\", \"Developing Brains\", \"Academy Alternative\"],\n  spa: [\"Ethereal Elegance\", \"Tropical Getaway\", \"Self-Care Classical\", \"Asian Getaway\", \"Relaxin' R&B\", \"Hot Spring Hits\"],\n  shop: [\"Boutique Beats\", \"Diamonds Are Forever\", \"Jukebox of the Ages\", \"Retail R&B\", \"Girls Night Out\", \"Food Court Finds\"],\n};\n","import { faSnooze, faTurtle, faSquirrel, faRabbitFast, faRocket } from \"@fortawesome/pro-regular-svg-icons\";\n\nexport const tempos = {\n  Slower: { title: \"Slower\", min: 0, max: 55, icon: faSnooze },\n  Slow: { title: \"Slow\", min: 55, max: 75, icon: faTurtle },\n  Moderate: { title: \"Moderate\", min: 75, max: 95, icon: faSquirrel },\n  Fast: { title: \"Fast\", min: 95, max: 115, icon: faRabbitFast },\n  Faster: { title: \"Faster\", min: 115, max: 900, icon: faRocket },\n};\n","export const timezones = {\n  \"America/Adak\": \"-09:00\",\n  \"America/Anchorage\": \"-08:00\",\n  \"America/Boise\": \"-06:00\",\n  \"America/Chicago\": \"-05:00\",\n  \"America/Denver\": \"-06:00\",\n  \"America/Detroit\": \"-04:00\",\n  \"America/Indiana/Indianapolis\": \"-04:00\",\n  \"America/Indiana/Knox\": \"-05:00\",\n  \"America/Indiana/Marengo\": \"-04:00\",\n  \"America/Indiana/Petersburg\": \"-04:00\",\n  \"America/Indiana/Tell_City\": \"- 05:00\",\n  \"America/Indiana/Vevay\": \"-04:00\",\n  \"America/Indiana/Vincennes\": \"-04:00\",\n  \"America/Indiana/Winamac\": \"-04:00\",\n  \"America/Juneau\": \"-08:00\",\n  \"America/Kentucky/Louisville\": \"-04:00\",\n  \"America/Kentucky/Monticello\": \"-04:00\",\n  \"America/Los_Angeles\": \"-07:00\",\n  \"America/Menominee\": \"-05:00\",\n  \"America/Metlakatla\": \"-08:00\",\n  \"America/New_York\": \"-04:00\",\n  \"America/Nome\": \"-08:00\",\n  \"America/North_Dakota/Beulah\": \"-05:00\",\n  \"America/North_Dakota/Center\": \"-05:00\",\n  \"America/North_Dakota/New_Salem\": \"-05:00\",\n  \"America/Phoenix\": \"-07:00\",\n  \"America/Sitka\": \"-08:00\",\n  \"America/Yakutat\": \"-08:00\",\n  \"Pacific/Honolulu\": \"-10:00\",\n};\n","export const full_language_names = {\n  \"ar-XA\": \"Arabic\",\n  \"bn-IN\": \"Bengali (India)\",\n  \"cmn-CN\": \"Mandarin Chinese\",\n  \"cmn-TW\": \"Mandarin Chinese\",\n  \"cs-CZ\": \"Czech (Czech Republic)\",\n  \"da-DK\": \"Danish (Denmark)\",\n  \"de-DE\": \"German (Germany)\",\n  \"el-GR\": \"Greek (Greece)\",\n  \"en-AU\": \"English (Australia)\",\n  \"en-GB\": \"English (UK)\",\n  \"en-IN\": \"English (India)\",\n  \"en-US\": \"English (US)\",\n  \"es-ES\": \"Spanish (Spain)\",\n  \"fi-FI\": \"Finnish (Finland)\",\n  \"fil-PH\": \"Filipino (Philippines)\",\n  \"fr-CA\": \"French (Canada)\",\n  \"fr-FR\": \"French (France)\",\n  \"gu-IN\": \"Gujarati (India)\",\n  \"hi-IN\": \"Hindi (India)\",\n  \"hu-HU\": \"Hungarian (Hungary)\",\n  \"id-ID\": \"Indonesian (Indonesia)\",\n  \"it-IT\": \"Italian (Italy)\",\n  \"ja-JP\": \"Japanese (Japan)\",\n  \"kn-IN\": \"Kannada (India)\",\n  \"ko-KR\": \"Korean (South Korea)\",\n  \"ml-IN\": \"Malayalam (India)\",\n  \"nb-NO\": \"Norwegian (Norway)\",\n  \"nl-NL\": \"Dutch (Netherlands)\",\n  \"pl-PL\": \"Polish (Poland)\",\n  \"pt-BR\": \"Portuguese (Brazil)\",\n  \"pt-PT\": \"Portuguese (Portugal)\",\n  \"ru-RU\": \"Russian (Russia)\",\n  \"sk-SK\": \"Slovak (Slovakia)\",\n  \"sv-SE\": \"Swedish (Sweden)\",\n  \"ta-IN\": \"Tamil (India)\",\n  \"te-IN\": \"Telugu (India)\",\n  \"th-TH\": \"Thai (Thailand)\",\n  \"tr-TR\": \"Turkish (Turkey)\",\n  \"uk-UA\": \"Ukrainian (Ukraine)\",\n  \"vi-VN\": \"Vietnamese (Vietnam)\",\n  \"yue-HK\": \"Chinese (Hong Kong)\",\n};\n\nexport const proper_voice_name = {\n  \"Female A\": \"Amazing Female\",\n  \"Female B\": \"Awesome Female\",\n  \"Female C\": \"Charming Female\",\n  \"Female D\": \"Excellent Female\",\n  \"Female E\": \"Fabulous Female\",\n  \"Female F\": \"Fantastic Female\",\n  \"Female G\": \"Outstanding Female\",\n  \"Female H\": \"Remarkable Female\",\n  \"Female I\": \"Spectacular Female\",\n  \"Female J\": \"Splendid Female\",\n  \"Female K\": \"Stellar Female\",\n  \"Female L\": \"Strong Female\",\n  \"Male A\": \"Amazing Male\",\n  \"Male B\": \"Awesome Male\",\n  \"Male C\": \"Charming Male\",\n  \"Male D\": \"Excellent Male\",\n  \"Male E\": \"Fabulous Male\",\n  \"Male F\": \"Fantastic Male\",\n  \"Male G\": \"Outstanding Male\",\n  \"Male H\": \"Remarkable Male\",\n  \"Male I\": \"Spectacular Male\",\n  \"Male J\": \"Splendid Male\",\n  \"Male K\": \"Stellar Male\",\n  \"Male L\": \"Strong Male\",\n};\n","export * from \"./actionTypes\";\nexport * from \"./analytics\";\nexport * from \"./genreColors\";\nexport * from \"./genreProperNames\";\nexport * from \"./images\";\nexport * from \"./inStoreMessaging.js\";\nexport * from \"./supersetDescriptions\";\nexport * from \"./supersets\";\nexport * from \"./tempos\";\nexport * from \"./timezones\";\nexport * from \"./voices\";\n\nexport const userTypes = {\n  Owner: \"Owner\",\n  Individual: \"Individual\",\n};\n\nexport const defaultStationCount = 12;\n","let initialState = {\n  auth: {\n    user: null,\n    jwt: null,\n    location: {},\n    isApple: false,\n    inApp: false,\n  },\n  snackbar: {\n    notification: {},\n    message: {},\n  },\n  loader: {\n    requestInProgress: 0,\n  },\n  locations: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  playlists: {\n    schedules: [],\n  },\n  stations: {\n    topTrack: [],\n    artists: [],\n    tracks: [],\n    playlistList: [],\n    genreList: [],\n    eraList: [],\n    moodList: [],\n    data: [],\n    count: 0,\n    skip: 0,\n    limit: 10,\n  },\n  stationPreviews: {\n    genre: [],\n    era: [],\n    mood: [],\n    activeStationPreview: [],\n  },\n  selectedPreviews: {\n    ID: \"\",\n    track: [],\n  },\n  zones: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  schedules: {\n    activeSchedule: null,\n    schedules: [],\n  },\n  player: {\n    locationJWT: null,\n    showPlayer: false,\n    isPlaying: false,\n    skipDisabled: false,\n    trackNumber: 0,\n    trackMap: {},\n    playerError: {},\n  },\n  inStoreMessaging: {\n    messages: [],\n  },\n};\n\nexport default initialState;\n","import { get } from \"lodash\";\nimport { tempos } from \"../constants\";\n\nexport const tagTypes = {\n  explicit: { name: \"Explicit\", color: \"#EA526F\" },\n};\n\nexport const capitolizeFirstLetter = (str) => {\n  if (!str) return \"\";\n  return str.charAt(0).toUpperCase() + str.substring(1, str.length);\n};\n\nexport const generateRandomString = (length) => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result.toUpperCase();\n};\n\n/**\n * Converts an object-array to map\n * @param {*} arr - Array to convert\n * @param {*} key - Object key\n */\nexport const objArrayToMap = (arr, key) => {\n  if (!arr || !key) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[get(item, key, null)] = item);\n  });\n  return map;\n};\n\n// Convert array to map\nexport const arrayToMap = (arr) => {\n  if (!arr) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[item] = true);\n  });\n  return map;\n};\n\nexport const hashCode = (s) => {\n  if (!s) return \"\";\n  return \"https://random-station-artwork.s3-us-west-2.amazonaws.com/\" + (Math.abs(s.split(\"\").reduce((a, b) => ((a << 5) - a + b.charCodeAt(0)) | 0, 0)) % 101) + \".jpg\";\n};\n\n// Check screen width for mobile dimensions\nexport const checkForMobile = () => {\n  let width = window.outerWidth;\n  if (width <= 650) return true;\n  return false;\n};\n\n// Converts seconds into \"0:13\" time format\nexport const getTime = (time) => {\n  if (!isNaN(time)) return Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\n  else return \"0:00\";\n};\n\n// Gets the BPM info\nexport const getBPMInfo = (bpm) => {\n  if (bpm >= 0 && bpm <= 55) return tempos[\"Slower\"];\n  else if (bpm >= 55 && bpm <= 75) return tempos[\"Slow\"];\n  else if (bpm >= 75 && bpm <= 95) return tempos[\"Moderate\"];\n  else if (bpm >= 95 && bpm <= 115) return tempos[\"Fast\"];\n  else if (bpm >= 115 && bpm <= 900) return tempos[\"Faster\"];\n  else return tempos[\"Moderate\"];\n};\n\n// Creates, sets, and returns a deviceID\nexport const getDeviceId = () => {\n  let deviceID = localStorage.getItem(\"deviceID\"); // Get previously generated deviceID (if any)\n  if (!deviceID) {\n    deviceID = \"web-\" + generateRandomString(10); // If no deviceID, create one\n    localStorage.setItem(\"deviceID\", deviceID); // Store deviceID\n  }\n  return deviceID;\n};\n\nexport const getTrackNumberByTrack = (track, arr) => {\n  try {\n    const advertisement = get(track, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n    const ism = get(track, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n    if (advertisement || ism) return false;\n\n    for (let i = 0; i < arr.length; i++) if (get(arr[i], \"isrc\", \"\") === get(track, \"isrc\", track)) return i;\n\n    return 0;\n  } catch (err) {\n    console.log(\"caught getTrackNumberByTrack err: \", err);\n    return false;\n  }\n};\n","import { SET_TRACK_NUMBER, SET_SCHEDULE, SET_INAPP, SET_IS_APPLE, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_EXPLICIT, SET_TRACK_SCHEDULE, SET_USER, LOGIN_SUCCESS, SET_LOCATION, SET_STATION, SET_CURRENT_TRACK, SET_FAVORITES } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nconst auth_reducer = (state = initialState.auth, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, { ...action.data });\n    case SET_USER:\n      return Object.assign({}, state, { user: action.data });\n    case SET_LOCATION:\n      return Object.assign({}, state, { location: { ...action.data, favoritesMap: objArrayToMap(get(action, \"data.favorites\", []), \"_id\") } });\n    case SET_STATION:\n      return Object.assign({}, state, { location: { ...state.location, station: action.data } });\n    case SET_CURRENT_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, currentTrack: action.data } });\n    case SET_FAVORITES:\n      return Object.assign({}, state, { location: { ...state.location, favorites: action.data, favoritesMap: objArrayToMap(get(action, \"data\", []), \"_id\") } });\n    case SET_EXPLICIT:\n      return Object.assign({}, state, { location: { ...state.location, explicitAllowed: action.data } });\n    case SET_PAIRED_DEVICE:\n      return Object.assign({}, state, { location: { ...state.location, pairedDevice: action.data } });\n    case SET_LAST_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, lastTrack: action.data } });\n    case SET_TRACK_NUMBER:\n      return Object.assign({}, state, { location: { ...state.location, currentTrackNumber: action.data } });\n    case SET_TRACK_SCHEDULE:\n      return Object.assign({}, state, { location: { ...state.location, trackSchedule: action.data } });\n    case SET_SCHEDULE:\n      return Object.assign({}, state, { location: { ...state.location, schedule: action.data } });\n    case SET_IS_APPLE: // This is an action for APPLE review\n      return Object.assign({}, state, { isApple: action.data });\n    case SET_INAPP: // Is the user viewing the webapp via our mobile app\n      if (get(action, \"data\", false)) {\n        localStorage.setItem(\"inApp\", true); // Store in local storage. Needed because when app user does login/out, we refresh the page, which removes an inApp reference\n        window.inApp = true;\n      }\n      return Object.assign({}, state, { inApp: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default auth_reducer;\n","// Auth\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const SET_LOCATION = \"SET_LOCATION\";\nexport const SET_USER = \"SET_USER\";\nexport const SET_FAVORITES = \"SET_FAVORITES\";\nexport const SET_PAIRED_DEVICE = \"SET_PAIRED_DEVICE\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILED = \"SIGNUP_FAILED\";\nexport const SET_IS_APPLE = \"SET_IS_APPLE\";\nexport const SET_INAPP = \"SET_INAPP\";\nexport const SET_SCHEDULE = \"SET_SCHEDULE\";\nexport const SET_STATION = \"SET_STATION\";\nexport const SET_CURRENT_TRACK = \"SET_CURRENT_TRACK\";\n\n// Loader\nexport const LOADER_SHOW = \"LOADER_SHOW\";\nexport const LOADER_HIDE = \"LOADER_HIDE\";\n\n// Player\nexport const SET_TRACK_SCHEDULE = \"SET_TRACK_SCHEDULE\";\nexport const SET_EXPLICIT = \"SET_EXPLICIT\";\nexport const SET_LAST_TRACK = \"SET_LAST_TRACK\";\nexport const SET_TRACK_MAP = \"SET_TRACK_MAP\";\nexport const SET_TRACK_NUMBER = \"SET_TRACK_NUMBER\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_SHOW_PLAYER = \"SET_SHOW_PLAYER\";\nexport const SET_LOCATION_JWT = \"SET_LOCATION_JWT\";\nexport const DISCONNECT_PLAYER_SUCCESS = \"DISCONNECT_PLAYER_SUCCESS\";\nexport const PLAYER_ERROR = \"PLAYER_ERROR\";\nexport const SET_SKIP_DISABLED = \"SET_SKIP_DISABLED\";\n\n// Snackbar\nexport const SET_SNACKBAR_NOTIFICATION = \"SET_SNACKBAR_NOTIFICATION\";\nexport const SET_SNACKBAR_MESSAGE = \"SET_SNACKBAR_MESSAGE\";\n\n// Playlist\nexport const SET_PLAYLISTS = \"SET_PLAYLISTS\";\n\n// Stations\nexport const GET_PUBLIC_STATIONS_FOR_DISCOVER = \"GET_PUBLIC_STATIONS_FOR_DISCOVER\";\n\n// Create Schedule\nexport const ADD_SCHEDULE = \"ADD_SCHEDULE\";\nexport const ACTIVE_SCHEDULE = \"ACTIVE_SCHEDULE\";\n\n// In-Store Messaging\nexport const SET_INSTORE_MESSAGES = \"SET_INSTORE_MESSAGES\";\n","import { SET_INSTORE_MESSAGES } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst inStoreMessaging_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_INSTORE_MESSAGES:\n      return Object.assign({}, state, { messages: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default inStoreMessaging_reducer;\n","import { SET_SKIP_DISABLED, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_TRACK_MAP, SET_TRACK_NUMBER, SET_IS_PLAYING, SET_SHOW_PLAYER, SET_LOCATION_JWT } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst player_reducer = (state = initialState.player, action) => {\n  switch (action.type) {\n    case SET_TRACK_MAP:\n      return Object.assign({}, state, { trackMap: action.data });\n    case SET_TRACK_NUMBER:\n      return Object.assign({}, state, { trackNumber: action.data });\n    case SET_IS_PLAYING:\n      return Object.assign({}, state, { isPlaying: action.data });\n    case SET_SKIP_DISABLED:\n      return Object.assign({}, state, { skipDisabled: action.data });\n    case SET_SHOW_PLAYER:\n      return Object.assign({}, state, { showPlayer: action.data });\n    case SET_LOCATION_JWT:\n      return Object.assign({}, state, { locationJWT: action.data });\n    case PLAYER_ERROR:\n      return Object.assign({}, state, { playerError: action.data });\n    case DISCONNECT_PLAYER_SUCCESS:\n      localStorage.removeItem(\"location-jwt\");\n      return Object.assign({}, state, { locationJWT: null });\n    default:\n      return state;\n  }\n};\n\nexport default player_reducer;\n","import { SET_PLAYLISTS } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst playlists_reducer = (state = initialState.playlists, action) => {\n  switch (action.type) {\n    case SET_PLAYLISTS:\n      return Object.assign([], state, { schedules: action.data });\n    default:\n      return state;\n  }\n};\nexport default playlists_reducer;\n","import { ADD_SCHEDULE, ACTIVE_SCHEDULE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst selected_stations_preview_reducer = (state = initialState.selectedPreviews, action) => {\n  switch (action.type) {\n    case ADD_SCHEDULE:\n      return Object.assign(\n        {},\n        { ...state },\n        {\n          data: null,\n        }\n      );\n    case ACTIVE_SCHEDULE:\n      return Object.assign({}, state, {\n        activeSchedule: action.data,\n      });\n    default:\n      return state;\n  }\n};\nexport default selected_stations_preview_reducer;\n","import { SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst snackbar_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_SNACKBAR_NOTIFICATION:\n      return Object.assign({}, state, { notification: action.data });\n    case SET_SNACKBAR_MESSAGE:\n      return Object.assign({}, state, { message: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default snackbar_reducer;\n","import { GET_PUBLIC_STATIONS_FOR_DISCOVER } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst stations_reducer = (state = initialState.stations, action) => {\n  switch (action.type) {\n    case GET_PUBLIC_STATIONS_FOR_DISCOVER:\n      return Object.assign({}, state, {\n        playlistList: action.data.playlistList,\n        genreList: action.data.genreList,\n        eraList: action.data.eraList,\n        moodList: action.data.moodList,\n      });\n    default:\n      return state;\n  }\n};\nexport default stations_reducer;\n","import { combineReducers } from \"redux\";\nimport auth from \"./auth\";\nimport inStoreMessaging from \"./inStoreMessaging\";\nimport player from \"./player\";\nimport playlists from \"./playlists\";\nimport schedules from \"./schedules\";\nimport snackbar from \"./snackbar\";\nimport stations from \"./stations\";\n\nexport default combineReducers({\n  auth,\n  inStoreMessaging,\n  player,\n  playlists,\n  schedules,\n  snackbar,\n  stations,\n});\n","/* eslint-disable no-undef */\n\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport reduxImmutableStateInvariant from \"redux-immutable-state-invariant\";\nimport thunk from \"redux-thunk\";\nimport { createBrowserHistory } from \"history\";\n// 'routerMiddleware': the new way of storing route changes with redux middleware since rrV4.\n// import { routerMiddleware } from 'react-router-redux';\nimport rootReducer from \"../reducers\";\nexport const history = createBrowserHistory();\n\nfunction configureStoreProd(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  return createStore(rootReducer, initialState, compose(applyMiddleware(...middlewares)));\n}\n\nfunction configureStoreDev(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n    reduxImmutableStateInvariant(),\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\n  const store = createStore(rootReducer, initialState, composeEnhancers(applyMiddleware(...middlewares)));\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept(\"../reducers\", () => {\n      const nextReducer = require(\"../reducers\").default; // eslint-disable-line global-require\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n\nconst configureStore = process.env.NODE_ENV === \"production\" ? configureStoreProd : configureStoreDev;\n\nexport default configureStore;\n","let config = {\n  API_URL: \"https://prod.ambii.io/v2\", // prodB\n  SOCKET_URL: \"https:/prod.ambii.io\",\n  // API_URL: \"https://hola.ambii.io/v2\", // prodA\n  // SOCKET_URL: \"https:/hola.ambii.io\",\n  // API_URL: \"https://hola-dev.ambii.io/v2\", // dev\n  // SOCKET_URL: \"https:/hola-dev.ambii.io\",\n  // API_URL: \"http://localhost:4040/v2\", // local\n  // SOCKET_URL: \"http://localhost:4040\",\n  APP_TITLE: \"Ambii\",\n};\n\nexport default config;\n","import axios from \"axios\";\nimport config from \"./urls\";\nimport { get } from \"lodash\";\n\nexport async function HTTP(method, uri, data, headers = null, params = null) {\n  const url = `${config.API_URL}${uri}`.trim();\n  let query = {\n    method: method,\n    url: url,\n    headers: {},\n  };\n\n  if (headers !== null) query.headers = headers;\n  if (params !== null) query.params = params;\n  if (method === \"post\" || method === \"put\" || method === \"delete\" || method === \"patch\") query.data = data;\n\n  query.headers[\"Authorization\"] = \"Bearer \" + localStorage.getItem(\"access-token\");\n\n  return new Promise(function (resolve, reject) {\n    axios(query)\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((err) => {\n        console.log(\"Caught api error: \", err);\n\n        if (err.message === \"Network Error\") {\n          window.alert(err.message);\n        } else if (get(err, \"response.data.message\", null) === \"The token has expired, please login again!\") {\n          // Used to catch if another device connects while web player is connected\n          resolve(false);\n        } else if (err.response && err.response.status === 401) {\n          localStorage.removeItem(\"access-token\");\n          // window.location.reload(true);\n        } else {\n          reject(err);\n        }\n      });\n  });\n}\n","import { SET_INAPP, SET_IS_APPLE, SET_INSTORE_MESSAGES, GET_PUBLIC_STATIONS_FOR_DISCOVER, ACTIVE_SCHEDULE, SET_SCHEDULE, SET_PLAYLISTS, SET_FAVORITES, LOGIN_SUCCESS, SET_USER, SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_LOCATION, SET_LOCATION_JWT, SET_TRACK_NUMBER, SET_SHOW_PLAYER, SET_IS_PLAYING, SET_TRACK_SCHEDULE, SET_EXPLICIT, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_TRACK_MAP, SET_STATION, SET_CURRENT_TRACK, SET_SKIP_DISABLED, SIGNUP_SUCCESS, SIGNUP_FAILED, LOADER_SHOW, LOADER_HIDE } from \"../constants\";\n\nexport const setInApp = (data) => (dispatch) => {\n  dispatch({\n    type: SET_INAPP,\n    data,\n  });\n};\n\nexport const setIsApple = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_APPLE,\n    data,\n  });\n};\n\nexport const setFavorites = (data) => (dispatch) => {\n  dispatch({\n    type: SET_FAVORITES,\n    data,\n  });\n};\n\nexport const setTrackSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_SCHEDULE,\n    data,\n  });\n};\n\nexport const setExplicit = (data) => (dispatch) => {\n  dispatch({\n    type: SET_EXPLICIT,\n    data,\n  });\n};\n\nexport const setPairedDevice = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PAIRED_DEVICE,\n    data,\n  });\n};\n\nexport const setLastTrack = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LAST_TRACK,\n    data,\n  });\n};\n\nexport const setTrackMap = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_MAP,\n    data,\n  });\n};\n\nexport const setLocation = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION,\n    data,\n  });\n};\n\nexport const setJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setLocationJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setStation = (data) => (dispatch) => {\n  dispatch({\n    type: SET_STATION,\n    data,\n  });\n};\n\nexport const setCurrentTrack = (data) => (dispatch) => {\n  dispatch({\n    type: SET_CURRENT_TRACK,\n    data,\n  });\n};\n\nexport const playerError = (data) => (dispatch) => {\n  dispatch({\n    type: PLAYER_ERROR,\n    data,\n  });\n};\n\nexport const showPlayer = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SHOW_PLAYER,\n    data,\n  });\n};\n\nexport const setIsPlaying = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_PLAYING,\n    data,\n  });\n};\n\nexport const setDisableSkip = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SKIP_DISABLED,\n    data,\n  });\n};\n\nexport const setTrackNumber = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_NUMBER,\n    data,\n  });\n};\n\nexport const disconnectPlayerSuccess = () => (dispatch) => {\n  dispatch({ type: DISCONNECT_PLAYER_SUCCESS });\n};\n\nexport const loginSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: LOGIN_SUCCESS,\n    data,\n  });\n};\n\nexport const setUser = (data) => (dispatch) => {\n  dispatch({\n    type: SET_USER,\n    data,\n  });\n};\n\nexport const _setSnackbarNotification = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_NOTIFICATION,\n    data,\n  });\n};\n\nexport const _setSnackbarMessage = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_MESSAGE,\n    data,\n  });\n};\n\nexport const setActiveSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: ACTIVE_SCHEDULE,\n    data,\n  });\n};\n\nexport const setSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SCHEDULE,\n    data,\n  });\n};\n\nexport const setLocationSchedules = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PLAYLISTS,\n    data,\n  });\n};\n\nexport const setPublicStationList = (data) => (dispatch) => {\n  dispatch({\n    type: GET_PUBLIC_STATIONS_FOR_DISCOVER,\n    data,\n  });\n};\n\nexport const setInStoreMessages = (data) => (dispatch) => {\n  dispatch({\n    type: SET_INSTORE_MESSAGES,\n    data,\n  });\n};\n\nexport const signUpSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_SUCCESS,\n    data,\n  });\n};\n\nexport const signUpFailed = (error) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_FAILED,\n    error,\n  });\n};\n\nexport const showLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_SHOW,\n  });\n};\n\nexport const hideLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_HIDE,\n  });\n};\n","import config from \"./urls\";\nimport io from \"socket.io-client\";\n\nexport const socket = io(config.SOCKET_URL);\n\nexport const socketChannels = {\n  //default socket client function\n  connect: \"connect-web\",\n  //default socket client function\n  disconnect: \"disconnect\",\n  //default socket client function\n  reconnect: \"reconnect\",\n  //server will fire to user when player connects with station\n  playerPaired: \"player-paired\",\n  //server will fire to user when player unpaired itself with station\n  playerUnPaired: \"player-un-paired\",\n  //server will fire to user when player disconnects only (goes offline)\n  playerDisconnected: \"player-disconnected\",\n  //server will fire to user, when player starts playing a song\n  playerPlayed: \"player-played\",\n  //server will fire to user, when player gets paused\n  playerPaused: \"player-paused\",\n  //server will fire to user and player when a playable songs adds into a station\n  stationUpdated: \"station-updated\",\n  //server will fire to user, when player call play next song\n  onPlayNext: \"player-called-next\",\n};\n","import { HTTP } from \"../configs/api\";\nimport { socket, socketChannels } from \"../configs/socket\";\nimport { setPairedDevice, showPlayer, setLastTrack, setDisableSkip, setTrackNumber, setTrackMap, setLocation, setTrackSchedule, setLocationJWT, setStation, setCurrentTrack, disconnectPlayerSuccess, setIsPlaying } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap, getDeviceId, getTrackNumberByTrack } from \"../util\";\n\nexport const addPlayerListeners = () => (dispatch) => {\n  playerPaired(dispatch);\n  playerUnPaired(dispatch);\n  playerDisconnected(dispatch);\n  playerPlayed(dispatch);\n  playerPaused(dispatch);\n};\n\nexport function disconnectPlayer() {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve, reject) => {\n      let locationJWT = localStorage.getItem(\"location-jwt\");\n\n      // Return if required data missing\n      if (!locationJWT) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/disconnect\", { locationId: get(getState(), \"auth.location._id\", \"\"), locationJWT, deviceID: getDeviceId() }, { \"player-access-token\": locationJWT })\n        .then(async (response) => {\n          try {\n            console.log(\"disconnect: \", response);\n            dispatch(setPairedDevice(get(response, \"data.data.pairedDevice\", {}))); // Set the paired device to incoming. Important for changing UI\n            dispatch(disconnectPlayerSuccess());\n            dispatch(showPlayer(false));\n          } catch (err) {\n            console.log(\"Caught error on disconnectPlayer: \", err);\n          }\n          resolve(get(response, \"data.data\", null));\n        })\n        .catch((error) => {\n          console.log(\"disconnectPlayer error: \", error);\n          reject(error.response);\n        });\n    });\n  };\n}\n\nexport function connectPlayer(data) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      // Return if required data missing\n      if (!data) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/connect\", data)\n        .then(async (response) => {\n          const res = get(response, \"data.data\", null);\n          if (get(res, \"data\", null) === \"DEVICE_ALREADY_PAIRED\") return resolve(\"DEVICE_ALREADY_PAIRED\");\n          // Location already connected to\n          else {\n            // Location not connected to\n\n            let locationJWT = get(res, \"jwt\", null);\n            localStorage.setItem(\"location-jwt\", locationJWT); // Save location jwt to local storage\n\n            let location = get(res, \"location\", {});\n            let trackSchedule = get(location, \"trackSchedule\", {});\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n            let currentTrack = get(location, \"currentTrack\", null); // Get the currentTrackNumber from server\n            let currentTrackNumber = get(location, \"currentTrackNumber\", 0); // Get the currentTrackNumber from server\n            let currentTrackByNumber = get(trackSchedule, \"queue[\" + currentTrackNumber + \"]\", currentTrack); // Get the currentTrack by number\n            // console.log(\"connectPlayer : \", { response });\n\n            // Dispatch parent data first\n            dispatch(setLocation(location)); // Save location updates\n            dispatch(setLocationJWT(locationJWT)); // Save location's jwt\n            dispatch(setTrackMap(trackMap)); // Save track map\n            dispatch(setTrackNumber(currentTrackNumber)); // Save track map\n            dispatch(setCurrentTrack(currentTrackByNumber));\n\n            // Dispatch specific data into parent\n            dispatch(setTrackSchedule(trackSchedule)); // Set Track Schedule\n            dispatch(showPlayer(true));\n\n            resolve(res);\n          }\n        })\n        .catch((error) => {\n          console.log(\"connectPlayer error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function playNextReq({ jwt, data }) {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve) => {\n      try {\n        // Return if required data missing\n        if (!jwt || !data) return resolve(false);\n\n        HTTP(\"post\", \"/auth/player/play-next\", data, { \"player-access-token\": jwt })\n          .then(async (response) => {\n            if (response) {\n              let data = get(response, \"data.data\", {});\n              console.log(\"playnext res: \", data);\n              const newStation = get(data, \"newStation\", false);\n              const newTrackSchedule = get(data, \"newTrackSchedule\", false);\n              const newUrls = get(data, \"newUrls\", false);\n              let currentTrack = get(getState(), \"auth.location.currentTrack\", get(data, \"track\", null));\n              let trackNumber = get(getState(), \"player.trackNumber\", 0);\n\n              // Check for DEVICE_ALREADY_PAIRED warning\n              if (get(data, \"data\", \"\") === \"DEVICE_ALREADY_PAIRED\") return resolve(get(data, \"data\", \"\"));\n\n              // If the station has changed in the background\n              if (newStation) {\n                let station = get(data, \"station\", {});\n                dispatch(setStation(station)); // Set location updates\n              }\n\n              // If the track schedule has changed\n              if (newTrackSchedule || newUrls) {\n                let trackSchedule = get(data, \"trackSchedule\", {});\n                let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n                // Dispatch parent data first\n                dispatch(setTrackMap(trackMap)); // Set track map\n\n                // May be needed, as change in track schedule may shift things around\n                let newTrackNumber = newStation ? 0 : getTrackNumberByTrack(currentTrack, get(trackSchedule, \"queue\", []));\n                if (trackNumber !== newTrackNumber) {\n                  if (newTrackNumber || newTrackNumber === 0) dispatch(setTrackNumber(newTrackNumber));\n                  else {\n                    // Current track was not in the new queue\n                    let lastTrack = get(getState(), \"auth.location.lastTrack\", \"\"); // Get 'lastTrack'\n                    newTrackNumber = getTrackNumberByTrack(lastTrack, get(trackSchedule, \"queue\", [])); // Get 'lastTrack' position in new queue\n\n                    // Set track number\n                    dispatch(setTrackNumber(newTrackNumber ? newTrackNumber : trackNumber));\n                  }\n                }\n\n                // Dispatch specific data into parent\n                dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n              }\n              resolve(true);\n            } else resolve(false);\n          })\n          .catch((error) => {\n            console.log(\"error: \", error);\n            resolve(false);\n          });\n      } catch (err) {\n        console.log(\"playNextReq err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\nexport function skipSong({ songCompletion }) {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve) => {\n      try {\n        if (!songCompletion) songCompletion = \"0\";\n\n        let location = get(getState(), \"auth.location\", {});\n        let player = get(getState(), \"player\", {});\n\n        dispatch(setDisableSkip(true));\n        let trackSchedule = get(location, \"trackSchedule\", \"\");\n        let trackScheduleId = get(trackSchedule, \"_id\", \"\");\n        let trackScheduleLength = get(trackSchedule, \"queue\", []).length - 1;\n        let queue = get(trackSchedule, \"queue\", []);\n        let queueHash = get(trackSchedule, \"queueHash\", \"\");\n        let lastTrack = get(location, \"currentTrack\", {});\n        let trackNumber = get(player, \"trackNumber\", 0);\n        let nextTrack = null;\n\n        // Get the next track / track number\n        if (trackNumber + 1 <= trackScheduleLength) {\n          nextTrack = queue[trackNumber + 1] || \"\";\n          trackNumber += 1;\n        } else {\n          nextTrack = get(location, \"trackSchedule.queue[\" + 0 + \"]\", \"\");\n          trackNumber = 0;\n        }\n\n        dispatch(setLastTrack(lastTrack)); // Reset last track\n        dispatch(setCurrentTrack(nextTrack));\n        dispatch(setTrackNumber(trackNumber));\n\n        let playNextRes = await dispatch(\n          playNextReq({\n            jwt: get(player, \"locationJWT\", null),\n            data: {\n              locationId: get(location, \"_id\", null),\n              stationId: get(location, \"station._id\", null),\n              trackScheduleId,\n              nextTrack,\n              lastTrack,\n              deviceID: getDeviceId(),\n              songCompletion,\n              currentTrackNumber: trackNumber.toString(),\n              queueHash,\n            },\n          })\n        );\n\n        if (playNextRes) {\n          console.log(\"music bar props: \", getState());\n          if (playNextRes === \"DEVICE_ALREADY_PAIRED\") {\n            dispatch(setIsPlaying(false));\n            dispatch(setDisableSkip(false));\n            await dispatch(disconnectPlayer());\n            return resolve(playNextRes);\n          }\n        } else return resolve(false);\n\n        resolve(true);\n      } catch (err) {\n        dispatch(setDisableSkip(false));\n        console.log(\"caught callPlayNext err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\n// Checks to see if we need to disable skip on the current song\nexport function checkIfAdvertisement(currentTrack) {\n  return function (dispatch) {\n    let isAdvertisement = get(currentTrack, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n    let isInStoreMessage = get(currentTrack, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n    if (isAdvertisement || isInStoreMessage) dispatch(setDisableSkip(true));\n    else {\n      let skipTimer = setTimeout(() => {\n        clearTimeout(skipTimer);\n        dispatch(setDisableSkip(false));\n      }, 1000); // How long to disable skip for\n    }\n  };\n}\n\nexport const removePlayerListeners = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.playerPaired);\n  socket.removeEventListener(socketChannels.playerUnPaired);\n  socket.removeEventListener(socketChannels.playerDisconnected);\n  socket.removeEventListener(socketChannels.playerPlayed);\n  socket.removeEventListener(socketChannels.playerPaused);\n};\n\nexport const updateStationListener = () => (dispatch) => {\n  socket.on(socketChannels.stationUpdated, (data) => {\n    dispatch(setStation(data));\n  });\n};\n\nexport const updateCurrentTrackListener = () => (dispatch) => {\n  socket.on(socketChannels.onPlayNext, (data) => {\n    dispatch(setCurrentTrack(get(data, \"track\", {})));\n  });\n};\n\nexport const removeStationListener = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.stationUpdated);\n};\n\nconst playerPaired = (dispatch) => {\n  socket.on(socketChannels.playerPaired, (data) => {\n    console.log(\"Player Paired\", data);\n  });\n};\n\nconst playerUnPaired = (dispatch) => {\n  socket.on(socketChannels.playerUnPaired, (data) => {\n    console.log(\"Player UnPaired\", data);\n  });\n};\n\nconst playerDisconnected = (dispatch) => {\n  socket.on(socketChannels.playerDisconnected, (data) => {\n    console.log(\"Player Disconnected\", data);\n  });\n};\n\nconst playerPlayed = (dispatch) => {\n  socket.on(socketChannels.playerPlayed, (data) => {\n    console.log(\"Player playerPlayed\", data);\n  });\n};\n\nconst playerPaused = (dispatch) => {\n  socket.on(socketChannels.playerPaused, (data) => {\n    console.log(\"Player playerPaused\");\n  });\n};\n","import { HTTP } from \"../configs/api\";\nimport { setIsApple, loginSuccess, setUser, setLocation, hideLoader, showLoader, signUpFailed, signUpSuccess } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { getDeviceId } from \"../util\";\nimport { connectPlayer } from \"./player\";\n\nexport function auth0setLogin() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      HTTP(\"post\", \"/auth/login\")\n        .then((response) => {\n          console.log(\"auth0setLogin res: \", response);\n          let data = get(response, \"data.data\", null);\n          let location = get(data, \"defaultLocation\", {});\n\n          // The fact this line (and any subsequent code) exists is reltih\n          if (get(data, \"user.email\", \"\").toLowerCase() === \"apple@ambii.io\") dispatch(setIsApple(true));\n\n          // Dispatch\n          dispatch(loginSuccess(data));\n          dispatch(setUser(get(data, \"user\", {})));\n          dispatch(setLocation(location));\n          getDeviceId();\n\n          // Auto-connects player\n          if (get(location, \"pairedDevice.uniqueId\", null) === getDeviceId()) {\n            let obj = {\n              token: get(location, \"token\", \"\"),\n              deviceName: \"web\",\n              uniqueId: getDeviceId(),\n              deviceBrand: \"web\",\n              override: false,\n            };\n\n            dispatch(connectPlayer(obj));\n          }\n\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"auth0setLogin error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function auth0clearLogin() {\n  return function (dispatch) {\n    dispatch(setUser({}));\n    dispatch(setLocation({}));\n  };\n}\n\nexport function mixMaxRegister({ id, email, name }) {\n  return function (dispatch) {\n    HTTP(\"post\", \"/public/create-new-mix-max-contact\", { id, email, name, groupName: \"Signed Up Users\" });\n  };\n}\n\nexport function signUp(data) {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      dispatch(showLoader());\n      HTTP(\"post\", \"/auth/sign-up\", data)\n        .then((response) => {\n          let data = get(response, \"data.data\");\n\n          if (get(response, \"data.success\", false)) {\n            dispatch(signUpSuccess(data));\n            dispatch(setUser(get(data, \"user\", {})));\n            dispatch(setLocation(get(data, \"defaultLocation\", {})));\n          }\n          resolve(response.data);\n        })\n        .catch((error) => {\n          let message = get(error, \"response\", \"\");\n          dispatch(signUpFailed(message));\n          reject(message);\n        })\n        .finally(() => {\n          dispatch(hideLoader());\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setExplicit, setTrackSchedule, setFavorites, setTrackMap, setTrackNumber, setLastTrack, setLocation } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\n// Toggle Station Favorite\nexport function toggleFavorite({ locationId, stationId, favorites }) {\n  return function (dispatch) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !stationId || !favorites) return resolve(false);\n\n      HTTP(\"post\", `/api/location/${locationId}/toggleFavorite/`, { locationId, stationId }, auth)\n        .then((response) => {\n          let station = get(response, \"data.data.station\", {});\n          let type = get(response, \"data.data.type\", {});\n          let newFavorites = [...favorites];\n\n          if (type === \"remove\") {\n            for (let i = 0; i < newFavorites.length; i++) if (newFavorites[i]._id === station) newFavorites.splice(i, 1);\n          } else newFavorites.push(station);\n\n          // Set favorites\n          dispatch(setFavorites(newFavorites));\n\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(true);\n        });\n    });\n  };\n}\n\n// Toggle Explicit\nexport function toggleExplicit({ locationId, currentTrack }) {\n  return function (dispatch, getState) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !currentTrack) return resolve(false);\n\n      let previousExplicitState = get(getState(), \"auth.location.explicitAllowed\", false);\n      HTTP(\"post\", `/api/location/${locationId}/toggleExplicit/`, { locationId, currentTrack }, auth)\n        .then((response) => {\n          let data = get(response, \"data.data\", {});\n          let explicitAllowed = get(data, \"explicitAllowed\", false);\n          dispatch(setExplicit(explicitAllowed)); // Set location data\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(previousExplicitState);\n        });\n    });\n  };\n}\n\nexport function updateTheLocation(data) {\n  return async (dispatch) => {\n    //Getting new location from database\n    HTTP(\"get\", `/api/location/${data}`)\n      .then((response) => {\n        dispatch(setLocation(response.data.data));\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setStation, setCurrentTrack, setTrackNumber, setPublicStationList, setTrackSchedule, setTrackMap, setSchedule } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nexport function getDiscoverPulicStations() {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      HTTP(\"get\", \"/public/station\")\n        .then((res) => {\n          let data = get(res, \"data.data\", {});\n\n          let filteredData = {\n            eraList: [],\n            genreList: [],\n            moodList: [],\n            tempoList: [],\n            playlistList: [],\n          };\n\n          get(data, \"playlistList\", []).forEach((station) => {\n            if (station.track.length > 0) filteredData.playlistList.push(station);\n          });\n\n          dispatch(setPublicStationList(filteredData));\n\n          resolve(filteredData);\n        })\n        .catch((err) => {\n          console.log(\"getDiscoverPulicStations error in action \", err);\n          reject(err);\n        });\n    });\n  };\n}\n\nexport function getStationDetails(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!id) return resolve(false);\n\n      if (get(auth, \"access-token\", false)) {\n        HTTP(\"get\", `/api/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      } else {\n        HTTP(\"get\", `/public/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      }\n    });\n  };\n}\n\nexport function assignStation(companyId, stationId) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !companyId) || !stationId) return resolve(false);\n\n      HTTP(\"post\", `/api/company/${companyId}/station/${stationId}`, null, auth)\n        .then((response) => {\n          console.log(\"assignStation: \", response);\n          let data = get(response, \"data.data\", false);\n          let station = get(data, \"station\", false);\n          let trackSchedule = get(data, \"trackSchedule\", false);\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n          let currentTrack = get(data, \"currentTrack\", false);\n          let currentTrackNumber = get(data, \"currentTrackNumber\", false);\n\n          dispatch(setSchedule(null)); // Set schedule to null, since we've assigned a single station\n          if (station) dispatch(setStation(station));\n          if (trackSchedule) dispatch(setTrackSchedule(trackSchedule));\n          if (trackMap) dispatch(setTrackMap(trackMap));\n          if (currentTrack) dispatch(setCurrentTrack(currentTrack));\n          if (currentTrackNumber) dispatch(setTrackNumber(currentTrackNumber));\n\n          resolve(data);\n        })\n        .catch((err) => {\n          console.log(\"Error :\", err);\n          reject(err.response);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { message } from \"antd\";\nimport { setSchedule, setActiveSchedule, setLocationSchedules, setStation, setTrackMap, setTrackSchedule, setCurrentTrack, setTrackNumber } from \"./dispatch\";\nimport { setSnackbarMessage } from \"./index\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nexport function createSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/createSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Create Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"createSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not create schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/getSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Get Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"getSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not find schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function editSchedule(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      dispatch(setActiveSchedule(id));\n      resolve(true);\n    });\n  };\n}\n\nexport function saveSchedule({ companyId, scheduleId, name, stations }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId || !name || !stations) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/schedule\", { scheduleId, name, stations }, auth)\n        .then((response) => {\n          let schedule = get(response, \"data\", {});\n          console.log(\"create playlist res in action \", response);\n          dispatch(setSchedule(schedule));\n          resolve(schedule);\n        })\n        .catch((error) => {\n          console.log(\"setSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"cannot find artist or track\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getMyPlaylists({ companyId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"get\", \"/api/company/\" + companyId + \"/getSchedules\", null, auth)\n        .then((res) => {\n          console.log(\"getMyPlaylists res: \", res);\n          let data = get(res, \"data.data.schedules\", []);\n          dispatch(setLocationSchedules(data));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"getMyPlaylists error\", err.response);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function assignSchedule({ companyId, scheduleId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/assignSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"assignSchedule: \", response);\n          let data = get(response, \"data.data\", false);\n          let schedule = get(data, \"schedule\", false);\n          let station = get(data, \"station\", false);\n          let trackSchedule = get(data, \"trackSchedule\", false);\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n          let currentTrack = get(data, \"currentTrack\", false);\n          let currentTrackNumber = get(data, \"currentTrackNumber\", false);\n\n          if (data) {\n            if (schedule) dispatch(setSchedule(schedule));\n            if (station) dispatch(setStation(station));\n            if (trackSchedule) dispatch(setTrackSchedule(trackSchedule));\n            if (trackMap) dispatch(setTrackMap(trackMap));\n            if (currentTrack) dispatch(setCurrentTrack(currentTrack));\n            if (currentTrackNumber) dispatch(setTrackNumber(currentTrackNumber));\n          } else dispatch(setSnackbarMessage({ message: \"Schedule is already playing!\", type: \"info\" }));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"assignSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function deleteSchedule({ companyId, scheduleId }) {\n  return function (dispatch, getState) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/deleteSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"deleteSchedule: \", response);\n          let deletedSchedule = get(response, \"data.data._id\", null);\n          if (deletedSchedule) {\n            let schedules = [...get(getState(), \"playlists.schedules\", [])];\n\n            // Remove deleted schedule from client\n            for (let i = 0; i < schedules.length; i++) if (get(schedules[i], \"_id\", \"\") === deletedSchedule) schedules.splice(i, 1);\n\n            dispatch(setLocationSchedules(schedules));\n          }\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"deleteSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setInStoreMessages } from \"./dispatch\";\nimport { get } from \"lodash\";\n\nexport function getMessages({ companyId, locationId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId) return resolve(false);\n\n      HTTP(\"post\", \"/api/listMessages\", { companyId, locationId }, auth)\n        .then((response) => {\n          console.log(\"getMessages res\", response);\n          dispatch(setInStoreMessages(get(response, \"data.data\", [])));\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"getMessages error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for creating a message preview\nexport function createPreviewMessage({ voice, language, message, speed, hash }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !hash) return resolve(false);\n\n      HTTP(\"post\", \"/api/createPreviewMessage\", { voice, language, message, speed, hash }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"createPreviewMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for creating a message\nexport function createMessage({ companyId, locationId, title, voice, language, message, speed, frequency, savedPreviews, hash }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !title || !message) return resolve(false);\n\n      HTTP(\"post\", \"/api/createMessage\", { companyId, locationId, title, voice, language, message, speed, frequency, savedPreviews, hash }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"createMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for editing an existing message\nexport function editMessage({ companyId, locationId, messageId, title, voice, language, message, speed, frequency, savedPreviews, hash }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !title || !message) return resolve(false);\n\n      HTTP(\"post\", \"/api/editMessage\", { companyId, locationId, messageId, title, voice, language, message, speed, frequency, savedPreviews, hash }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"editMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for deleting a message\nexport function deleteMessage({ companyId, locationId, id }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id) return resolve(false);\n\n      HTTP(\"post\", \"/api/deleteMessagingFile\", { companyId, locationId, id }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"deleteMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for updating a message's frequency\nexport function updateFrequency({ companyId, locationId, id, frequency }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id || !frequency) return resolve(false);\n\n      HTTP(\"post\", \"/api/changeMessagingFileFrequency\", { companyId, locationId, id, frequency }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"updateFrequency error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for retrieving Google text-to-speech voice options\nexport function getVoiceOptions() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false)) return resolve(false);\n\n      HTTP(\"get\", \"/public/listVoices\", null, auth)\n        .then((response) => {\n          resolve(get(response, \"data.data\", []));\n        })\n        .catch((error) => {\n          console.log(\"getVoiceData error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { setSnackbarMessage } from \"./index\";\nimport { socket, socketChannels } from \"../configs/socket\";\n\nexport function startSockets() {\n  return function (dispatch) {\n    dispatch(onSocketConnect());\n    dispatch(onSocketDisconnect());\n    dispatch(onSocketReconnect());\n  };\n}\n\nexport function onSocketConnect() {\n  return function (dispatch) {\n    socket.on(\"connect\", function () {\n      console.log(\"Socket Connected\");\n    });\n  };\n}\n\nexport function onSocketDisconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.disconnect, function () {\n      console.log(\"Socket Disconnected\");\n      dispatch(setSnackbarMessage({ message: \"Connection Lost\", type: \"warn\" }));\n    });\n  };\n}\n\nexport function onSocketReconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.reconnect, function () {\n      console.log(\"Socket Reconnected\");\n      dispatch(setSnackbarMessage({ message: \"Reconnected\", type: \"success\" }));\n    });\n  };\n}\n","import { _setSnackbarNotification, _setSnackbarMessage } from \"./dispatch\";\n\nexport function setSnackbarNotification(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarNotification(data));\n  };\n}\n\nexport function setSnackbarMessage(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarMessage(data));\n  };\n}\n","import React from \"react\";\nimport { Icon } from \"antd\";\n\nconst AntSpinner = <Icon type=\"loading\" style={{ fontSize: 24, color: \"#D04283\" }} spin />;\n\nexport default AntSpinner;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    if (this.props.auth0.isAuthenticated && this.props.auth.user) {\n      this.props.history.push(\"/nowPlaying\");\n    }\n    return (\n      <div style={{ width: \"100%\", height: \"100%\", position: \"fixed\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <Spin indicator={AntSpinner} spinning={true} />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    auth: state.auth,\n  };\n}\n\nexport default connect(mapStateToPropsRouter, mapDispatchToProps)(withRouter(withAuth0(Main)));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Geosuggest from \"react-geosuggest\";\nimport { Form, message } from \"antd\";\nimport { get } from \"lodash\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\nconst google = window.google;\n\nclass AutoSearchForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      userData: {\n        name: \"\",\n        addressLineOne: \"\",\n        addressLineTwo: \"\",\n        city: \"\",\n        state: \"\",\n        postalCode: \"\",\n        cords: [],\n      },\n      myLocation: { lng: 0, lat: 0 },\n    };\n  }\n\n  componentDidMount() {\n    this.getLocation();\n  }\n\n  getLocation = async () => {\n    const currentLocation = await navigator.geolocation;\n    currentLocation.getCurrentPosition((res) => {\n      if (res.coords) {\n        this.setState({\n          myLocation: {\n            lng: res.coords.longitude,\n            lat: res.coords.latitude,\n          },\n        });\n      } else {\n        message.info(\"location permission not granted\");\n      }\n    });\n  };\n\n  onSuggestSelect = async (suggest) => {\n    let addressLineOne, addressLineTwo, city, state, postalCode, country;\n    if (suggest && suggest.gmaps) {\n      let address = suggest.gmaps.address_components;\n      address.forEach((component) => {\n        let types = component.types;\n        if (types.indexOf(\"locality\") > -1) city = component.long_name;\n        if (types.indexOf(\"sublocality_level_1\") > -1 || types.indexOf(\"route\") > -1 || types.indexOf(\"administrative_area_level_2\") > -1) addressLineOne = component.long_name;\n        if (types.indexOf(\"sublocality_level_2\") > -1) addressLineTwo = component.long_name;\n        if (types.indexOf(\"administrative_area_level_1\") > -1) state = component.long_name;\n        if (types.indexOf(\"postal_code\") > -1) postalCode = component.long_name;\n        if (types.indexOf(\"country\") > -1 || types.indexOf(\"political\") > -1) country = component.long_name;\n      });\n\n      let timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      let lng = get(suggest, \"location.lng\", \"\");\n      let lat = get(suggest, \"location.lat\", \"\");\n\n      let userData = {\n        ...this.props.userData,\n        name: get(suggest, \"gmaps.name\", suggest.label),\n        addressLineOne,\n        addressLineTwo,\n        city,\n        state,\n        postalCode,\n        country,\n        timezone,\n        cords: [lng, lat],\n        companySearch: true,\n      };\n\n      this.setState({ userData }, () => {\n        if (get(this.state, \"userData.addressLineOne\", false) && get(this.state, \"userData.postalCode\", false) && get(this.state, \"userData.city\", false) && get(this.state, \"userData.state\", false) && get(this.state, \"userData.timezone\", false)) {\n          this.props.onSumbit(userData);\n        } else {\n          userData.missingData = true;\n          this.setState({ userData }, () => {\n            message.error(\"Some required data is missing. Please fill out the below fields.\", 5);\n            this.props.onSumbit(userData);\n          });\n        }\n      });\n    }\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { myLocation } = this.state;\n\n    return (\n      <Form className=\"auto-complete-form\">\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"userData\", {\n            rules: [{ required: true, message: \"Please input Company name or address.\" }],\n          })(<Geosuggest ref={(el) => (this._geoSuggest = el)} onChange={(e) => console.log(e)} placeholder=\"Ambii Inc. 123 Main St\" onSuggestSelect={this.onSuggestSelect} location={new google.maps.LatLng(myLocation.lat, myLocation.lng)} radius={20} country={\"us\"} />)}\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AutoSearchForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, message, AutoComplete } from \"antd\";\nimport { get } from \"lodash\";\nimport { timezones } from \"../../../constants\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\n\nclass AddressForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      dropdownError: false,\n      selectedTimezone: \"\",\n      timezoneData: {}, // Map to search through\n      timezones: [], // Masterlist of data\n      timezoneRes: [], // Results to show\n      userData: {\n        name: get(this.props, \"userData.name\", \"\"),\n        addressLineOne: get(this.props, \"userData.addressLineOne\", \"\"),\n        addressLineTwo: get(this.props, \"userData.addressLineTwo\", \"\"),\n        city: get(this.props, \"userData.city\", \"\"),\n        country: get(this.props, \"userData.country\", \"United States\"),\n        state: get(this.props, \"userData.state\", \"\"),\n        cords: get(this.props, \"userData.cords\", []),\n        postalCode: get(this.props, \"userData.postalCode\", \"\"),\n        timezone: get(this.props, \"userData.timezone\", \"\"),\n      },\n    };\n  }\n\n  componentDidMount() {\n    let timezoneRes = [];\n    let keys = Object.keys(timezones);\n    keys.forEach((timezone) => {\n      timezoneRes.push(timezone);\n    });\n    let timezoneRecommendation = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    let selectedTimezone = timezoneRecommendation;\n    this.setState({ timezoneRes, selectedTimezone });\n  }\n\n  checkIfValidTimezone(timezone) {\n    if (!timezone) return false;\n    else {\n      if (timezones[timezone]) return true;\n      else return false;\n    }\n  }\n\n  onSubmit = (e) => {\n    console.log(e);\n    //e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      console.log(\"vals: \", values);\n      let validTimezone = this.checkIfValidTimezone(get(values, \"timezone\", \"\"));\n      if (!err && validTimezone) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            ...this.props.userData,\n            ...this.state.userData,\n            name: get(values, \"name\", \"\").toString(),\n            addressLineOne: get(values, \"addressLineOne\", \"\").toString(),\n            addressLineTwo: get(values, \"addressLineTwo\", \"\").toString(),\n            city: get(values, \"city\", \"\").toString(),\n            state: get(values, \"state\", \"\").toString(),\n            postalCode: get(values, \"postalCode\", \"\").toString(),\n            country: get(values, \"country\", \"United States\").toString(),\n            cords: get(values, \"cords\", []),\n            timezone: get(values, \"timezone\", Intl.DateTimeFormat().resolvedOptions().timeZone),\n          };\n\n          this.props.onSumbit(userData);\n        });\n      } else {\n        if (!validTimezone) message.error(\"Invalid timezone selection\");\n        else if (err) message.error(\"One or more fields has an error\");\n        else {\n          message.error(\"An error occurred\");\n        }\n      }\n    });\n  };\n\n  onSearch = (searchText) => {\n    let keys = Object.keys(timezones);\n    let timezoneRes = keys.filter((s) => s.toLowerCase().includes(searchText.toLowerCase()));\n    this.setState({ selectedTimezone: searchText, timezoneRes: searchText.length <= 0 ? keys : timezoneRes });\n  };\n\n  onSelect = (value) => {\n    this.setState({ selectedTimezone: value });\n  };\n\n  render() {\n    const { timezoneRes, selectedTimezone } = this.state;\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit}>\n        <p style={{ float: \"right\" }}>* Indicates a required field </p>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"name\", {\n            rules: [{ required: true, message: \"Please input your company name\" }],\n            initialValue: this.state.userData.name,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Company Name\"\n            />\n          )}\n        </FormItem>\n\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineOne\", {\n            rules: [{ required: true, message: \"Please input your Address\" }],\n            initialValue: this.state.userData.addressLineOne,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Address Line 1\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineTwo\", {\n            initialValue: this.state.userData.addressLineTwo,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"Enter Address Line 2\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"city\", {\n            rules: [{ required: true, message: \"Please input City\" }],\n            initialValue: this.state.userData.city,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter City\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"state\", {\n            rules: [{ required: true, message: \"Please input your state\" }],\n            initialValue: this.state.userData.state,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter State\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"postalCode\", {\n            rules: [{ required: true, message: \"Please input your Postal Code\" }],\n            initialValue: this.state.userData.postalCode,\n          })(\n            <Input\n              type=\"number\"\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Postal Code\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"timezone\", {\n            rules: [{ required: true, message: \"Please input your location's timezone\" }],\n            initialValue: selectedTimezone,\n          })(<AutoComplete placeholder={\"* Enter Location Timezone\"} dataSource={timezoneRes} style={{ width: \"100%\" }} onSelect={(e) => this.onSelect(e)} onSearch={(e) => this.onSearch(e)} />)}\n        </FormItem>\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={() => this.onSubmit()}>\n          Confirm Address\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AddressForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, Select, Dropdown, Menu } from \"antd\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/pro-regular-svg-icons\";\nimport { get } from \"lodash\";\nimport \"antd/dist/antd.css\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\n\nclass CompanyInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businessType: \"Select Business Type\",\n      dropdownError: false,\n      countryCode: \"1\",\n    };\n  }\n\n  menu() {\n    return (\n      <Menu onClick={(e) => this.handleMenuClick(e)} id={\"company-info-dropdown-menu\"}>\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n  }\n\n  handleMenuClick(e) {\n    this.setState({ businessType: e.key, dropdownError: false });\n  }\n\n  // Standardizes the phone number\n  parsePhoneNumber(phoneNumber) {\n    return phoneNumber.replace(/\\D/g, \"\");\n  }\n\n  onSubmit = (e) => {\n    const { countryCode, businessType } = this.state;\n    e.preventDefault();\n    let businessSelected = businessType.toLowerCase() !== \"Select Business Type\".toLowerCase();\n    let userType = get(this.props, \"userData.userType\", \"company\");\n\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      let errors = Object.keys(err || []);\n      if (errors.length <= 0 && (userType === \"company\" ? businessSelected : true)) {\n        let userData = {\n          ...this.props.userData,\n          firstName: values.firstName ?? \"\",\n          lastName: values.lastName ?? \"\",\n          phoneNumber: countryCode.concat(this.parsePhoneNumber(get(values, \"phone\", \"234567890\"))),\n          businessType: userType === \"individual\" ? \"other\" : businessType,\n        };\n\n        if (userType === \"individual\") {\n          if (!get(this.props, \"userData.name\", null)) userData.name = \"Individual\";\n          if (!get(this.props, \"userData.addressLineOne\", null)) userData.addressLineOne = \"\";\n          if (!get(this.props, \"userData.addressLineTwo\", null)) userData.addressLineTwo = \"\";\n          if (!get(this.props, \"userData.city\", null)) userData.city = \"\";\n          if (!get(this.props, \"userData.state\", null)) userData.state = \"\";\n          if (!get(this.props, \"userData.postalCode\", null)) userData.postalCode = \"\";\n          if (!get(this.props, \"userData.timezone\", null)) userData.timezone = \"\";\n          if (!get(this.props, \"userData.cords\", null)) userData.cords = [];\n        }\n\n        this.props.onSumbit(userData);\n      } else {\n        if (!businessSelected) this.setState({ dropdownError: true });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { businessType, dropdownError, countryCode } = this.state;\n\n    const prefixSelector = getFieldDecorator(\"prefix\", { initialValue: countryCode })(\n      <Select style={{ width: 70, borderRight: \"1px solid #d9d9d9\" }}>\n        <Option value=\"1\">+1</Option>\n      </Select>\n    );\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit} className={\"company-info-form\"}>\n        {get(this.props, \"userData.userType\", \"company\") === \"company\" && (\n          <>\n            <Form.Item className=\"form-item no-margin\" label={\"First Name:\"}>\n              {getFieldDecorator(\"firstName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your first name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter First Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item className=\"form-item no-margin\" label={\"Last Name:\"}>\n              {getFieldDecorator(\"lastName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your last name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter Last Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item label={\"Phone\"}>\n              {getFieldDecorator(\"phone\", {\n                rules: [{ required: true, message: \"Please input your phone number!\", min: 10, pattern: /^[0-9 ()-]*$/ }],\n              })(<Input addonBefore={prefixSelector} placeholder={\"Phone Number\"} />)}\n            </Form.Item>\n\n            <Form.Item label={\"Type\"}>\n              <Dropdown overlay={this.menu()} trigger={[\"click\"]} className={dropdownError ? \"button-error\" : \"\"}>\n                <Button style={{ textTransform: \"capitalize\" }}>\n                  {businessType} <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"5px\" }} />\n                </Button>\n              </Dropdown>\n            </Form.Item>\n          </>\n        )}\n\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={(e) => this.onSubmit(e)}>\n          Continue\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(CompanyInfo);\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import ReactGA from \"react-ga\";\n\n// Initializes analytics\nexport const startGoogleAnalytics = () => {\n  ReactGA.initialize(\"UA-167385126-1\", {\n    siteSpeedSampleRate: 100,\n    testMode: document.location.hostname.includes(\"business.ambii.io\") ? false : true,\n  });\n};\n\n/**\n * @param {category} - Category of action\n * @param {action} - Action user performed\n * @param {value} - (optional) any potential value\n * @param {label} - Item which was interacted with\n */\nexport const logEvent = ({ category, action, value, label }) => {\n  // console.log(\"hit event: \", { category, action, value, label });\n  ReactGA.event({\n    category,\n    action,\n    value: value ? parseInt(value) : null,\n    label,\n  });\n};\n\n// Tracks screen based on url\nexport const trackScreen = () => {\n  // console.log(\"hit screen: \", window.location.pathname + window.location.search)\n  ReactGA.pageview(window.location.pathname + window.location.search);\n};\n\n// Tracks modals when page does not reload\nexport const trackModal = (modal) => {\n  // console.log(\"hit modal: \", modal)\n  ReactGA.modalview(modal);\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { signUp, mixMaxRegister } from \"../../../actions\";\nimport AutoSearchForm from \"../autoComplete\";\nimport AddressForm from \"../addressForm\";\nimport CompanyDetails from \"../companyInfo\";\nimport { Form, Steps, Button, message, Spin } from \"antd\";\nimport { trackScreen, logEvent } from \"../../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport \"../index.scss\";\n\nconst { Step } = Steps;\nlet companySteps = [{ key: \"Company\" }, { key: \"Contact Info\" }];\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      current: 0,\n      companySearch: true,\n      steps: companySteps,\n      userData: {},\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n  }\n\n  next = (userData) => {\n    if (userData) {\n      let missingData = get(userData, \"missingData\", false);\n      if (missingData) delete userData[\"missingData\"];\n\n      this.setState({ current: missingData ? this.state.current : this.state.current + 1, userData, steps: companySteps, companySearch: missingData ? false : this.state.companySearch });\n    }\n\n    if (this.state.current === this.state.steps.length - 1) {\n      this.signUpSubmit(userData);\n    }\n  };\n\n  signUpSubmit = (userData) => {\n    this.setState({ isLoading: true }, () => {\n      if (userData) {\n        delete userData[\"missingData\"]; // Remove from final object\n        delete userData[\"companySearch\"]; // Remove from final object\n\n        this.props.actions\n          .signUp(userData)\n          .then((res) => {\n            this.props.actions.mixMaxRegister({ id: get(res, \"data.user._id\", \"\"), email: get(userData, \"email\", \"\"), name: get(userData, \"firstName\", \"Ambii\") + \" \" + get(userData, \"lastName\", \"User\") });\n            this.setState({ isLoading: false });\n            if (res.success) {\n              logEvent({ category: categories.welcome, action: actions.signup, value: get(userData, \"email\", \"\") });\n              this.props.history.push(\"/\");\n            }\n          })\n          .catch((err) => {\n            logEvent({ category: categories.welcome, action: actions.signup, value: err, label: labels.error });\n            this.setState({ isLoading: false, current: 0 });\n            message.error(get(err, \"userData.message\", \"Something went wrong. Please try again\"));\n          });\n      } else {\n        this.setState({ isLoading: false });\n        message.error(\"Fields are missing\");\n      }\n    });\n  };\n\n  prev = () => {\n    this.setState({ current: this.state.current - 1 });\n  };\n\n  render() {\n    const { current, steps, userData, isLoading, companySearch } = this.state;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={isLoading}>\n        <div className={\"signup-modal-subtitle\"}>{\"Let's set up your first location!\"}</div>\n        <div className=\"signUp-container\">\n          {current >= 0 && (\n            <Steps className=\"steps\" progressDot current={current} style={{ textAlign: \"justify\" }}>\n              {steps.map((item) => (\n                <Step key={item.key} title={item.key} />\n              ))}\n            </Steps>\n          )}\n          {\n            {\n              0: companySearch ? <div className={\"signup-modal-subsubtitle\"}>{\"Please enter business name or address\"}</div> : null,\n              1: <div className={\"signup-modal-subsubtitle\"}>{\"Please enter your contact information\"}</div>,\n            }[current]\n          }\n          <div className=\"form_container\">\n            {\n              {\n                0: companySearch ? <AutoSearchForm onSumbit={this.next} userData={userData} /> : <AddressForm onSumbit={this.next} userData={userData} />,\n                1: <CompanyDetails onSumbit={this.next} userData={userData} />,\n              }[current]\n            }\n            <div className={\"button_row\"} style={{ float: \"right\" }}>\n              {!isLoading && current > 0 && (\n                <Button onClick={() => this.prev()} style={{ marginRight: \"10px\" }}>\n                  Previous\n                </Button>\n              )}\n              {companySearch && current === 0 ? <Button onClick={() => this.setState({ companySearch: false })}>Manually Enter Company</Button> : null}\n              {!companySearch && current === 0 ? (\n                <Button onClick={() => this.setState({ companySearch: true })} style={{ marginRight: \"10px\" }}>\n                  Search Company\n                </Button>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ signUp, mixMaxRegister }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Spin, Button, message } from \"antd\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport { get } from \"lodash\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nconst FormItem = Form.Item;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLogin: false,\n      userData: {\n        email: \"\",\n        password: \"\",\n      },\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n\n    let token = localStorage.getItem(\"access-token\");\n    if (token) this.props.history.push(\"/nowPlaying\");\n  }\n\n  _onLogin = () => {\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            email: values.email,\n            password: values.password,\n          };\n          // this.props.actions\n          //   .login(userData)\n          //   .then(() => {\n          //     logEvent({ category: categories.welcome, action: actions.login });\n          //     this.setState({ isLoading: false });\n          //     this.props.history.push(\"/nowPlaying\");\n          //   })\n          //   .catch((err) => {\n          //     logEvent({ category: categories.welcome, action: actions.failedLogin });\n          //     message.error(get(err, \"message\", \"invalid email password\"));\n          //     this.setState({ isLoading: false });\n          //   });\n        });\n      } else {\n        message.error(\"Fields Required\");\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={this.state.isLoading}>\n        <div className=\"form-container\">\n          <Form className=\"form-wrapper\" hideRequiredMark={true} onSubmit={this._onLogin}>\n            <FormItem className=\"form-item no-margin\">\n              {getFieldDecorator(\"email\", {\n                rules: [\n                  { type: \"email\", message: \"The input is not a valid Email!\" },\n                  { required: true, message: \"Please input your Email!\" },\n                ],\n              })(\n                <Input\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Email\"\n                />\n              )}\n            </FormItem>\n\n            <FormItem\n              // label=\"Password\"\n              className=\"form-item\"\n            >\n              {getFieldDecorator(\"password\", {\n                rules: [{ required: true, message: \"Please input your password!\" }],\n              })(\n                <Input.Password\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Password\"\n                />\n              )}\n            </FormItem>\n            <Button className=\"login-btn\" block type=\"primary\" onClick={() => this.props.auth0.loginWithRedirect()}>\n              Login\n            </Button>\n          </Form>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(WrappedApp)));\n","var _style, _linearGradient, _path, _linearGradient2, _path2, _linearGradient3, _path3, _linearGradient4, _path4;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgGooglePlayStore = function SvgGooglePlayStore(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    viewBox: \"0 0 408 466.9\",\n    width: 2185,\n    height: 2500,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", null, \".st0{fill:url(#SVGID_1_)}.st1{fill:url(#SVGID_2_)}.st2{fill:url(#SVGID_3_)}.st3{fill:url(#SVGID_4_)}\")), _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_1_\",\n    gradientUnits: \"userSpaceOnUse\",\n    y1: 112.094,\n    x2: 261.746,\n    y2: 112.094\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#63be6b\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.506,\n    stopColor: \"#5bbc6a\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#4ab96a\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M261.7 142.3L15 1.3C11.9-.5 8-.4 5 1.4c-3.1 1.8-5 5-5 8.6 0 0 .1 13 .2 34.4l179.7 179.7 81.8-81.8z\"\n  })), _linearGradient2 || (_linearGradient2 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_2_\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 0.152,\n    y1: 223.393,\n    x2: 179.896,\n    y2: 223.393\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#3ec6f2\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#45afe3\"\n  }))), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M.2 44.4C.5 121.6 1.4 309 1.8 402.3L180 224.1.2 44.4z\"\n  })), _linearGradient3 || (_linearGradient3 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_3_\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 179.896,\n    y1: 229.464,\n    x2: 407.976,\n    y2: 229.464\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#faa51a\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.387,\n    stopColor: \"#fab716\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.741,\n    stopColor: \"#fac412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#fac80f\"\n  }))), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st2\",\n    d: \"M402.9 223l-141.2-80.7-81.9 81.8 92.4 92.4L403 240.3c3.1-1.8 5-5.1 5-8.6 0-3.6-2-6.9-5.1-8.7z\"\n  })), _linearGradient4 || (_linearGradient4 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_4_\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 1.744,\n    y1: 345.521,\n    x2: 272.296,\n    y2: 345.521\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#ec3b50\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#e7515b\"\n  }))), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st3\",\n    d: \"M1.7 402.3c.2 33.3.3 54.6.3 54.6 0 3.6 1.9 6.9 5 8.6 3.1 1.8 6.9 1.8 10 0l255.3-148.9-92.4-92.4L1.7 402.3z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGooglePlayStore, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/google-play-store.6fec8523.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport \"./index.scss\";\n\nconst pairToken = ({ token, fontSize }) => (\n  <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n    {token\n      ? token.split(\"\").map((char, index) => {\n          return (\n            <div key={index} className={\"token-character\"}>\n              <p style={{ fontWeight: \"bold\", color: \"#2A2A2A\", fontSize: fontSize || \"28px\", margin: \"0\" }}>{char}</p>\n            </div>\n          );\n        })\n      : null}\n  </div>\n);\n\nexport default pairToken;\n","import Auth0Lock from \"auth0-lock\";\n\nexport default class Auth0Helper {\n  static initialize() {\n    // Dev\n    // window.lock = new Auth0Lock(\"MkozMO1FrxX4SNXS6xZ8y2UNpCX9RM1x\", \"auth.ambii.io\", {\n      // Prod\n    window.lock = new Auth0Lock(\"U6LfUnEpkLYrtnZ2u3IAuSDlraBebeGP\", \"auth.ambii.io\", {\n      configurationBaseUrl: \"https://ambii.us.auth0.com\",\n      autoclose: true,\n      autofocus: true,\n      closable: true,\n      allowShowPassword: true,\n      auth: {\n        redirectUrl: window.location.origin,\n        responseType: \"id_token\",\n        sso: true,\n      },\n      theme: {\n        logo: `${window.location.origin}/icon.png`,\n        primaryColor: \"#d04283\",\n      },\n      languageDictionary: {\n        title: \"\",\n        signUpTitle: \"\",\n        forgotPasswordTitle: \"\",\n      },\n      additionalSignUpFields: [\n        // Save this in case we need it later.\n        //\n        // {\n        //   name: \"given_name\",\n        //   icon: iconToDataURI(faIdBadge),\n        //   placeholder: \"First Name\",\n        //   storage: \"root\",\n        //   validator: function (txt) {\n        //     return {\n        //       valid: txt.length > 0 && txt.length < 100,\n        //       hint: \"The first name field is required\", // optional\n        //     };\n        //   },\n        // },\n      ],\n    });\n  }\n\n  static getLock() {\n    return window.lock;\n  }\n\n  static isLoggedIn() {\n    return localStorage.getItem(\"access-token\");\n  }\n\n  static login() {\n    window.lock.show();\n  }\n\n  static signUp() {\n    window.lock.show({ initialScreen: \"signUp\" });\n  }\n\n  static logout() {\n    localStorage.removeItem(\"access-token\");\n    localStorage.removeItem(\"location-jwt\");\n    window.lock.logout();\n  }\n}\n","export default class MobileAppCommunicator {\n  static inApp() {\n    return window.inApp;\n  }\n\n  static send(endpoint, data) {\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          data: data,\n          endpoint: endpoint,\n        })\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Layout, Spin, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getStationDetails, assignStation, toggleFavorite } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport { hashCode, checkForMobile } from \"../../util\";\nimport { get, isEqual } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlayCircle } from \"@fortawesome/pro-regular-svg-icons\";\nimport { faHeart } from \"@fortawesome/pro-solid-svg-icons\";\nimport AntSpinner from \"../antSpinner\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\nimport { message } from \"antd\";\n\nconst { Content } = Layout;\n\nlet resizeListener = null;\n\nclass StationDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      station: {},\n      isBackgroundImage: false,\n      explicit: false,\n      startStationDisabled: false,\n      favoriteDisabled: false,\n      isMobile: false,\n    };\n  }\n\n  componentDidMount() {\n    this.checkForMobile();\n\n    // Scrolls us to top of page when page loads\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n\n    // Listens for window resize\n    resizeListener = window.addEventListener(\"resize\", () => {\n      this.checkForMobile();\n    });\n\n    this.setStationDetails();\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"playlistId\", null), get(prevProps, \"playlistId\", null))) {\n      this.setStationDetails();\n    }\n  }\n\n  async setStationDetails() {\n    this.setState({ isLoading: true }, async () => {\n      const id = get(this.props, \"match.params.id\", null) || get(this.props, \"playlistId\", null);\n      if (id) {\n        let result = await this.props.actions.getStationDetails(id);\n        let explicit = get(result, \"explicit\", false);\n        this.setState({ isLoading: false, explicit, station: result });\n      } else this.setState({ isLoading: false });\n    });\n  }\n\n  assignStation = () => {\n    const { location, close, history, actions, user, inApp } = this.props;\n    const { station } = this.state;\n\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n\n    this.setState({ startStationDisabled: true }, () => {\n      let companyId = get(user, \"company._id\", \"\");\n      actions\n        .assignStation(companyId, station._id)\n        .then((res) => {\n          this.setState({ startStationDisabled: false }, () => {\n            logEvent({ category: categories.discover, action: actions.startStation, value: get(station, \"_id\", \"Error\") });\n\n            if (inApp) {\n              // Things to do if we're using Mobile App\n              let myLocation = get(this.props, \"myLocation\", null);\n              let trackSchedule = get(res, \"trackSchedule.queue\", null); // Grab data directly from the server res, so no async issues\n\n              close(); // close the modal\n\n              // Sends needed data to player for instant station swap\n              if (myLocation && trackSchedule) MobileAppCommunicator.send(\"newStation\", { location: myLocation, trackSchedule });\n              else MobileAppCommunicator.send(\"newStation\", null);\n            }\n\n            if (get(location, \"pathname\", \"\").toLowerCase().includes(\"nowplaying\")) close();\n            else {\n              if (inApp) history.push(\"/discover\");\n              // If we're in-app, put user back to discover page\n              else history.push(\"/nowPlaying\", { isBack: true }); // If we're in web, put user to dashboard\n            }\n          });\n        })\n        .catch((err) => {\n          console.log(\"assignStation err: \", err);\n          message.error(\"There was an error when assigning the station. Please refresh and try again.\");\n          this.setState({ startStationDisabled: false });\n        });\n    });\n  };\n\n  favoriteStation = () => {\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n    this.setState({ favoriteDisabled: true }, () => {\n      let locationId = get(this.props, \"myLocation._id\", \"\");\n      let stationId = get(this.state, \"station._id\", \"\");\n      let favorites = get(this.props, \"myLocation.favorites\", []);\n\n      this.props.actions.toggleFavorite({ locationId, stationId, favorites }).then(() => {\n        logEvent({ category: categories.general, action: actions.toggledFavorite, value: stationId });\n        this.setState({ favoriteDisabled: false });\n      });\n    });\n  };\n\n  checkForMobile() {\n    const { isBackgroundImage } = this.state;\n    this.setState({ isMobile: checkForMobile() }, () => {\n      if (this.state.isMobile && !isBackgroundImage) this.setStationBackgroundImage();\n      if (!this.state.isMobile && isBackgroundImage) this.removeStationBackgroundImage();\n    });\n  }\n\n  setStationBackgroundImage() {\n    let { station } = this.state;\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = \"url('\" + station.cover + \"')\";\n        if (station.cover) this.setState({ isBackgroundImage: true });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  removeStationBackgroundImage() {\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = null;\n        this.setState({ isBackgroundImage: false });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  checkIfFavorited(station) {\n    let favorites = get(this.props, \"myLocation.favoritesMap\", []);\n    if (favorites[station]) return true;\n    else return false;\n  }\n\n  render() {\n    const { isLoading, station, explicit, startStationDisabled, favoriteDisabled, isMobile, source } = this.state;\n    let thisStationId = get(station, \"_id\", \"\");\n    let stationQueue = get(station, \"track\", []);\n    let stationFavorited = this.checkIfFavorited(thisStationId);\n    let hasSchedule = get(this.props, \"myLocation.schedule._id\", \"\");\n    let isActiveStation = hasSchedule ? false : get(this.props, \"myLocation.station._id\", \"\") === thisStationId;\n\n    return (\n      <Layout className=\"create-layout\">\n        <Content className=\"create-body\">\n          <Spin indicator={AntSpinner} spinning={isLoading}>\n            <div id=\"station-header\" className=\"cover-content-wrapper\" style={{ backgroundColor: station.hex !== undefined ? station.hex : \"#aa4e9f\" }}>\n              <div className=\"headerLeft\">\n                <div className=\"station-head-wrapper\">\n                  <h1 className=\"cover-heading\">{station.name}</h1>\n                </div>\n\n                <div className=\"cover-btn-div\">\n                  <Button size=\"large\" loading={startStationDisabled} className={\"cover-btn\".concat(isActiveStation ? \" disabledButton\" : \"\")} disabled={isActiveStation || startStationDisabled} onClick={this.assignStation}>\n                    {isActiveStation ? null : <FontAwesomeIcon icon={faPlayCircle} className={\"cover-icon\"} />}\n                    <div> {isActiveStation ? \"Now Playing\" : \"Start\"} </div>\n                  </Button>\n                  <Button size=\"large\" loading={favoriteDisabled} className=\"cover-btn\" disabled={favoriteDisabled} onClick={this.favoriteStation}>\n                    <FontAwesomeIcon icon={faHeart} className={\"cover-icon\".concat(stationFavorited ? \" favorited\" : \"\")} />\n                    <div> {stationFavorited ? \"Favorited\" : \"Favorite\"} </div>\n                  </Button>\n                </div>\n                <div className=\"description\">{station.description}</div>\n              </div>\n\n              <div className=\"headerRight\">\n                <img src={!station.cover && station.name ? hashCode(station.name) : station.cover} className=\"stationImage\" alt={\"\"} />\n              </div>\n            </div>\n            <div className={\"station-table-wrapper\"}>\n              <div className={\"station-table-item station-table-header\"}>\n                <div className={\"station-table-track title\"}>\n                  <h1>Track</h1>\n                </div>\n                <div className={\"station-table-artist title\"}>\n                  <h1>Artist/Album</h1>\n                </div>\n              </div>\n              {stationQueue.map((track, i) => (\n                <div className={\"station-table-item\"} key={track._id} style={{ opacity: i > stationQueue.length * 0.5 ? (stationQueue.length + 1 - i) / stationQueue.length : 1 }}>\n                  <div className={\"station-table-track\"}>{track.title}</div>\n                  <div className={\"station-table-artist\"}>\n                    {track.artist[0]}, {track.album}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Spin>\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ getStationDetails, assignStation, toggleFavorite }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    user: state.auth.user,\n    stations: state.stations.data,\n    count: state.stations.count,\n    myLocation: state.auth.location,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationDetails));\n","import React from \"react\";\nimport \"./index.scss\";\n\n/**\n * @param {bool} animate - Should bpm be animated\n * @param {number} speed - Animation speed\n * @param {number} value - Value to display next to '<value> BPM'\n * @param {string} display - [\"column\", \"row\"] - Styling of the bpm div\n * @param {bool} hideText - Display the bpm\n * @param {object} style - React in-line styling\n */\n\nconst BPM = ({ animate, speed, value, display, hideText, style }) => (\n  <div className={\"bpm-container\".concat(display === \"column\" ? \" column\" : \" row\")} style={style}>\n    <div className={\"beat-container\"} style={{ animation: animate ? `bpm ${speed}s linear infinite` : \"none\" }} />\n    {!hideText && value && <div className={\"bpm-text\"}>{`${parseInt(value).toFixed(0)} BPM`}</div>}\n  </div>\n);\n\nexport default BPM;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\n/**\n * @param {string} title - Big text to display\n * @param {string} subtitle - Small text below title\n * @param {object} style - React in-line styling\n * @param {bool} backArrow - Show back arrow\n * @param {function} backArrowPress - Action to take when back arrow pressed\n */\n\nconst PageTitle = ({ title, subtitle, style, backArrow, backArrowPress }) => {\n  return (\n    <div className={\"title-container\"} style={style}>\n      {backArrow && (\n        <div className=\"backArrow\" onClick={backArrowPress}>\n          <FontAwesomeIcon icon={faArrowLeft} />\n        </div>\n      )}\n      <div className={\"flexCol\"}>\n        <div className={\"create-list-view-title\"}> {title} </div>\n        <div className={\"create-list-view-subtitle\"}> {subtitle} </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PageTitle;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./index.scss\";\n\nclass DashboardModule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { title, content, icon, style } = this.props;\n    let contentArray = Array.isArray(content);\n\n    return (\n      <div className=\"dashboard-module\" style={style}>\n        <div className=\"dashboard-header\">\n          <div className=\"dashboard-icon\">{icon && <FontAwesomeIcon icon={icon} style={{ fontSize: \"24px\" }} />}</div>\n          <div className=\"dashboard-title\">{title}</div>\n          <div className=\"dashboard-icon\"></div>\n        </div>\n        <div className=\"dashboard-content\">{contentArray ? React.Children.map(content, (child) => React.cloneElement(child)) : content}</div>\n      </div>\n    );\n  }\n}\n\nexport default DashboardModule;\n","import { Modal } from \"antd\";\nimport React from \"react\";\nimport phoneImage from \"../../common/assets/images/ios.png\";\nimport { withRouter } from \"react-router\";\nimport ambiiLogo from \"../../common/assets/images/playstore.png\";\nimport { ReactComponent as GooglePlay } from \"../../images/google-play-store.svg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faApple } from \"@fortawesome/free-brands-svg-icons\";\nimport { connect } from \"react-redux\";\nimport \"./index.scss\";\n\nconst InstructionModal = ({ visible, onOk, onCancel, history, myLocation, playStation, isApple }) => {\n  const arrayOfCode = myLocation?.token?.split(\"\");\n  const openLink = (link) => {\n    window.open(link, \"_blank\");\n  };\n\n  return (\n    <Modal\n      centered\n      className={\"instructionModalContainer\"}\n      visible={visible}\n      onOk={onOk}\n      onCancel={() => {\n        onCancel();\n      }}\n      closable={true}\n      footer={null}\n    >\n      <div className=\"instructionModalWrapper\">\n        <div className=\"contentWrapper\">\n          <div className=\"content\">\n            <h1 className=\"headerText\">Connect Player</h1>\n            <div className=\"contentInfo\">\n              <h3>\n                Download the <span style={{ color: \"#D04283\", fontWeight: \"bold\" }}> Ambii - Music for Business</span> app on your phone/tablet and enter the code\n              </h3>\n              <div className=\"storeCodeWrapper\">\n                <h2 className=\"headerText\">Store Code</h2>\n                <div className=\"storeCodes\">{arrayOfCode !== undefined ? arrayOfCode.map((code) => <div className=\"codeBox\">{code}</div>) : null}</div>\n              </div>\n              <div className=\"logos\">\n                <div className=\"ambiiLogo\">\n                  <img src={ambiiLogo} height=\"100%\" width=\"100%\" alt=\"...\" />\n                </div>\n                <div className=\"store-button-wrapper\" onClick={() => openLink(\"https://play.google.com/store/apps/details?id=com.ambii_business_music\")}>\n                  {!isApple && (\n                    <div className=\"store-button\">\n                      <GooglePlay className={\"connect-music-icon brand-icon\"} style={{ width: 24, height: 48 }} />\n                      <div className=\"store-button-text\">\n                        <div className=\"store-button-subtitle\">Download on</div>\n                        <div className=\"store-button-title\"> Google Play </div>\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"store-button\" onClick={() => openLink(\"https://apps.apple.com/us/app/ambii-music-for-business/id1501666271\")}>\n                    <FontAwesomeIcon icon={faApple} className={\"connect-music-icon brand-icon\"} style={{ fontSize: \"32px\" }} />\n                    <div className=\"store-button-text\">\n                      <div className=\"store-button-subtitle\">Download on</div>\n                      <div className=\"store-button-title\"> App Store </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <p\n                className=\"playOnWeb\"\n                onClick={() => {\n                  onOk();\n                  playStation();\n                }}\n              >\n                or play on the web instead\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"imageWrapper\">\n          <img src={phoneImage} alt=\"...\" height=\"100%\" width=\"100%\" />\n        </div>\n      </div>\n    </Modal>\n  );\n};\nconst mapStateToProps = (state) => {\n  return {\n    myLocation: state.auth.location,\n  };\n};\nexport default connect(mapStateToProps)(withRouter(InstructionModal));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { disconnectPlayer, setIsPlaying, skipSong, setDisableSkip, addPlayerListeners, removePlayerListeners, updateStationListener, updateCurrentTrackListener, removeStationListener, connectPlayer, playerError, assignStation, toggleExplicit } from \"../../actions\";\nimport { socket, socketChannels } from \"../../configs/socket\";\nimport PairToken from \"../../components/pairToken\";\nimport { get, isEqual, stubTrue } from \"lodash\";\nimport { Button, Modal, Spin, Switch } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMobile, faSpeaker, faTvMusic, faTv, faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport { faCommentMusic, faMusic, faHeartbeat, faKey, faCog, faPause, faPlay, faStepForward } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faApple } from \"@fortawesome/free-brands-svg-icons\";\nimport { checkForMobile, getDeviceId } from \"../../util\";\nimport { ReactComponent as GooglePlay } from \"../../images/google-play-store.svg\";\nimport AmbiiLogo from \"../../images/ambii_logo_inverse.png\";\nimport AdBlockDetect from \"react-ad-block-detect\";\nimport StationDetails from \"../../components/stationDetails\";\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\nimport BPM from \"../../components/bpm\";\nimport PageTitle from \"../../components/page-title\";\nimport { categories, actions, labels } from \"../../constants\";\nimport DashboardModule from \"../../components/dashboardModule\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\nimport InstructionModal from \"../../components/instruction-modal\";\n\nlet errorTimer = null;\nlet testInterval = null;\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile: checkForMobile(),\n      isLoading: false,\n      loadingPlayer: false,\n      artistName: \"\",\n      searchText: undefined,\n      isFixHeader: false,\n      pageHeight: 0,\n      showStationSearch: false,\n      showAppModal: false,\n      showConnectModal: false,\n      showErrorModal: false,\n      playlistModalId: false,\n      playButtonDisabled: false,\n      userName: \"\",\n      errorTitle: \"\",\n      errorMessage: \"\",\n      errorIcon: \"\",\n      errorButton: \"\",\n      playerInfo: {\n        token: get(this.props, \"myLocation.token\", \"\"),\n        deviceName: \"web\",\n        uniqueId: getDeviceId(),\n        deviceBrand: \"web\",\n        override: false,\n      },\n      loadingExplicit: false,\n      currentSongTime: \"0:00\",\n      currentSongDuration: \"0:00\",\n      controllerStyle: false,\n      showInstructions: false,\n    };\n  }\n\n  componentDidMount() {\n    let { myLocation, user, actions, inApp } = this.props;\n    if (myLocation?.pairedDevice?.deviceBrand === null && myLocation?.stationHistory?.length < 2) {\n      this.setState({ showInstructions: true });\n    }\n\n    trackScreen();\n    if (inApp) MobileAppCommunicator.send(\"player\", \"player/\" + get(myLocation, \"token\", \"\"));\n\n    this.checkPlayerState();\n\n    this.setState({ isMobile: checkForMobile(), userName: this.createUserName() }, () => {\n      if (this.state.isMobile) logEvent({ category: categories.dashboard, action: actions.viewedMobile });\n    });\n\n    // Connect sockets\n    if (get(user, \"_id\", null)) {\n      socket.emit(socketChannels.connect, { userId: user._id });\n      actions.addPlayerListeners();\n      actions.updateStationListener();\n      actions.updateCurrentTrackListener();\n    }\n  }\n\n  checkPlayerState = () => {\n    let { myLocation, player } = this.props;\n\n    let deviceBrand = get(myLocation, \"pairedDevice.deviceBrand\", \"\");\n    let isThisDevicePlaying = deviceBrand && get(this.state, \"playerInfo.uniqueId\", \"\") === get(myLocation, \"pairedDevice.uniqueId\", \"\");\n\n    let playerInfo = { ...this.state.playerInfo };\n    playerInfo.token = get(myLocation, \"token\", \"\");\n\n    // FALSE - NO DEVICE IS PLAYING\n    // WEB - THIS DEVICE IS PLAYING MUSIC\n    // OTHER - ANOTHER WEB DEVICE IS PLAYING MUSIC\n    // MOBILE - A MOBILE DEVICE IS PLAYING MUSIC\n\n    this.setState({ playerInfo, isLoading: !get(myLocation, \"station\", null) ? true : false, explicitAllowed: get(myLocation, \"explicitAllowed\", false), controllerStyle: !deviceBrand ? false : isThisDevicePlaying ? \"WEB\" : !isThisDevicePlaying ? \"OTHER\" : \"MOBILE\" }, () => {\n      // If player is visible\n      if (get(player, \"showPlayer\", null)) {\n        this.getSongTime(); // Grab song times at start\n\n        // If player is playing\n        if (get(player, \"isPlaying\", null)) {\n          clearInterval(testInterval);\n          testInterval = setInterval(() => {\n            this.getSongTime(); // Grab song times at start\n          }, 100);\n        }\n      } else {\n        clearInterval(testInterval);\n      }\n    });\n  };\n\n  componentWillUnmount() {\n    try {\n      this.props.actions.removePlayerListeners();\n      this.props.actions.removeStationListener();\n      clearInterval(testInterval);\n      clearTimeout(errorTimer);\n    } catch (err) {\n      console.log(\"caught error when unmounting 'nowPlaying' page: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // If paired device or station is updated (and is not null)\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null)) && get(this.props, \"myLocation\", null)) {\n      if (!get(this.props, \"myLocation.station\", null)) this.props.history.push(\"/discover\");\n      this.checkPlayerState();\n    }\n\n    if (!isEqual(get(this.props, \"player.playerError\", null), get(prevProps, \"player.playerError\", null)) && get(this.props, \"player.playerError.error\", null)) {\n      console.log(\"got player error!\", get(this.props, \"player.playerError\", {}));\n\n      let errorTitle = get(this.props, \"player.playerError.title\", \"\");\n      let errorMessage = get(this.props, \"player.playerError.message\", \"\");\n      let errorIcon = get(this.props, \"player.playerError.icon\", \"\");\n      let errorButton = get(this.props, \"player.playerError.button\", \"\");\n\n      this.setState({ showErrorModal: true, errorTitle, errorMessage, errorIcon, errorButton }); // Open the error modal\n      this.props.actions.playerError({}); // Reset player error in redux\n      trackModal(\"Error Modal\"); // Track Error Modal\n      logEvent({ category: categories.dashboard, value: errorMessage, label: labels.error });\n\n      errorTimer = setTimeout(() => {\n        this.closeErrorMessage();\n        clearTimeout(errorTimer);\n        errorTimer = null;\n      }, 300 * 1000);\n    }\n\n    if (!isEqual(get(this.props, \"player.isPlaying\", null), get(prevProps, \"player.isPlaying\", null)) || !isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      clearInterval(testInterval);\n      testInterval = setInterval(() => {\n        if (get(this.props, \"player.isPlaying\", null)) this.getSongTime();\n        else this.getSongTime();\n      }, 100);\n    }\n\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.checkPlayerState();\n    }\n\n    // If playback device has changed\n    if (!isEqual(get(this.props, \"myLocation.pairedDevice.deviceName\", null), get(prevProps, \"myLocation.pairedDevice.deviceName\", null))) {\n      console.log(\"Changed playback device\");\n    }\n  }\n\n  // Gets the song time / duration from the music bar\n  getSongTime() {\n    try {\n      let currentSongTime = document.getElementById(\"current-song-time\").innerHTML;\n      let currentSongDuration = document.getElementById(\"current-song-duration\").innerHTML;\n      let songCompletion = document.getElementById(\"invis-current-song-time\").innerHTML;\n      this.setState({ currentSongTime, currentSongDuration, songCompletion });\n    } catch (err) {\n      console.log(\"getSongTime err: \", err);\n    }\n  }\n\n  // Creates a username based on user's first / last name\n  createUserName() {\n    let firstName = get(this.props, \"user.firstName\", \"\");\n    let lastName = get(this.props, \"user.lastName\", \"\");\n\n    firstName = firstName.substring(0, 1).toUpperCase() + firstName.substring(1, firstName.length);\n    lastName = lastName.substring(0, 1).toUpperCase() + lastName.substring(1, lastName.length);\n\n    return firstName + \" \" + lastName;\n  }\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Playlist Modal\");\n    logEvent({ category: categories.dashboard, action: actions.stationPreview, value: playlistId, label: labels.button });\n  };\n\n  afterCreateStaion = () => {\n    this.setState({ showStationSearch: false });\n  };\n\n  toggleStationSearch = () => {\n    const showStationSearch = !this.state.showStationSearch;\n    this.setState({ showStationSearch });\n    if (showStationSearch) {\n      setTimeout(() => {\n        const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n        if (collapse && collapse.length) {\n          collapse[0].scrollIntoView();\n        }\n      }, 100);\n    }\n  };\n\n  parseLocationName = (myLocation) => {\n    if (!myLocation) return;\n    return myLocation.split(\",\")[0];\n  };\n\n  // Gets track data from our station\n  getTrackData(currentTrack) {\n    const { myLocation } = this.props;\n    let useTrack = currentTrack;\n    if (!useTrack) useTrack = get(myLocation, \"station.track[\" + 0 + \"]\", null);\n    let obj = {\n      songImage: get(useTrack, \"picture\", null),\n      locationName: get(myLocation, \"name\", null),\n      songTrack: get(useTrack, \"title\", null),\n      bpm: get(useTrack, \"bpm\", null),\n      songArtist: get(useTrack, \"artist\", null),\n      token: get(myLocation, \"token\", null),\n      stationName: get(myLocation, \"station.name\", null),\n    };\n\n    if (Array.isArray(obj.songArtist)) obj.songArtist = obj.songArtist[0];\n\n    return obj;\n  }\n\n  // Actions when user presses Connect\n  connectPress = () => {\n    this.setState({ showAppModal: true });\n    trackModal(\"Connect Modal\"); // Track Connect Modal\n    logEvent({ category: categories.dashboard, action: actions.connect, label: labels.button });\n  };\n\n  loadPlayer = ({ override }) => {\n    let data = { ...this.state.playerInfo, override };\n    this.setState({ loadingPlayer: true }, () => {\n      this.props.actions.connectPlayer(data).then(() => {\n        this.setState({ showConnectModal: false, loadingPlayer: false });\n      });\n    });\n  };\n\n  // Actions when user presses Change Station\n  changeStationPress = () => {\n    logEvent({ category: categories.dashboard, action: actions.button, value: \"Back\", label: labels.button });\n    this.props.history.push(\"/discover\");\n  };\n\n  playStation = () => {\n    const { playButtonDisabled } = this.state;\n    if (!playButtonDisabled) {\n      this.setState({ playButtonDisabled: true }, () => {\n        this.props.actions\n          .connectPlayer(this.state.playerInfo)\n          .then((res) => {\n            this.setState({ playButtonDisabled: false }, () => {\n              if (res === \"DEVICE_ALREADY_PAIRED\") {\n                trackModal(\"Device Already Connected Modal\");\n                this.setState({ showConnectModal: true });\n              }\n              logEvent({ category: categories.dashboard, action: actions.startPlayer, label: labels.button });\n            });\n          })\n          .catch((err) => {\n            this.setState({ playButtonDisabled: false });\n            console.log(\"caught err: \", err);\n          });\n      });\n    }\n  };\n\n  openLink(link) {\n    window.open(link, \"_blank\");\n  }\n\n  closeErrorMessage() {\n    this.setState({ showErrorModal: false, errorTitle: \"\", errorMessage: \"\", errorIcon: \"\", errorButton: \"\" });\n  }\n\n  openAdBlockMessage() {\n    this.setState({\n      showErrorModal: true,\n      errorTitle: \"Please Disable Ad-Block\",\n      errorMessage: \"All of our advertisements help fund small business relief programs. Please help us help them by disabling your ad-blocker.\",\n      errorIcon: <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} style={{ color: \"#d04283\" }} />,\n      errorButton: \"Ok, Got It\",\n    });\n  }\n\n  toggleExplicit = () => {\n    this.setState({ loadingExplicit: true }, () => {\n      this.props.actions\n        .toggleExplicit({\n          locationId: get(this.props, \"myLocation._id\", \"\"),\n          currentTrack: get(this.props, \"currentTrack\", null),\n        })\n        .then(() => {\n          this.setState({ loadingExplicit: false });\n        });\n    });\n  };\n\n  // Things to do for mobile\n  sendToMobileDevice(token) {\n    const { inApp } = this.props;\n    if (inApp) MobileAppCommunicator.send(\"player\", \"player/\" + token);\n    else this.openLink(\"https://ambii.app.link/OpenMobile\");\n  }\n\n  // Skip Song functionality\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { isApple, myLocation } = this.props;\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { isLoading, loadingExplicit, songCompletion, controllerStyle, showAppModal, showConnectModal, showErrorModal, loadingPlayer, errorTitle, errorMessage, errorIcon, errorButton, playlistModalId, userName, isMobile, playButtonDisabled, currentSongTime, currentSongDuration } = this.state;\n    let songData = this.getTrackData(get(myLocation, \"currentTrack\", null));\n    let { songImage, locationName, songTrack, songArtist, token, stationName } = songData;\n    let isIndividual = get(myLocation, \"company.isIndividual\", get(myLocation, \"name\", \"\").toLowerCase() === \"individual\");\n    let locationInUse = get(myLocation, \"isPlaying\", false); // Is this location playing music anywhere (any device)\n    let activeStation = get(myLocation, \"station._id\", null);\n    let explicitAllowed = get(myLocation, \"explicitAllowed\", false);\n    let scheduleName = get(myLocation, \"schedule.name\", false);\n    let scheduleId = get(myLocation, \"schedule._id\", \"\");\n    let modalWidth = checkForMobile() ? \"90%\" : \"80%\";\n\n    let hasTrackOverflow = false;\n    let hasArtistOverflow = false;\n    let bpm = get(songData, \"bpm\", 100);\n    if (!bpm) bpm = 100; // If no bpm, default it to 100bpm\n\n    let nowPlayingInfoWrapper = document.getElementById(\"now-playing-info-wrapper\") || null;\n    let nowPlayingTrack = document.getElementById(\"now-playing-track\") || null;\n    let nowPlayingArtist = document.getElementById(\"now-playing-artist\") || null;\n\n    if (nowPlayingInfoWrapper && nowPlayingTrack && nowPlayingArtist) {\n      nowPlayingInfoWrapper = nowPlayingInfoWrapper.getBoundingClientRect().width - (checkForMobile() ? 0 : 310);\n      nowPlayingTrack = nowPlayingTrack.getBoundingClientRect().width;\n      nowPlayingArtist = nowPlayingArtist.getBoundingClientRect().width;\n\n      if (nowPlayingInfoWrapper < nowPlayingTrack) hasTrackOverflow = true;\n      if (nowPlayingInfoWrapper < nowPlayingArtist) hasArtistOverflow = true;\n    }\n\n    return (\n      <div className={\"dashboard-page-wrapper\"}>\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={modalWidth} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} source={\"dashboard\"} />\n        </Modal>\n        <PageTitle\n          title={\n            <span>\n              Welcome <span style={{ color: \"#D04283\" }}>Back</span>\n            </span>\n          }\n          subtitle={isIndividual ? userName : locationName}\n          backArrow={true}\n          backArrowPress={() => this.changeStationPress()}\n        />\n\n        <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\", maxHeight: \"100%\" }}>\n          <div className=\"dashboard-content-wrapper\">\n            <div className=\"nowPlayingContainer\">\n              <div className=\"imgAndInfo\" id={\"now-playing-info-wrapper\"}>\n                <div className=\"songImageContainer\">\n                  <img className=\"songImage noselect\" src={songImage} alt={\"\"} />\n                </div>\n                <div className=\"infoContainer\">\n                  <div className=\"nowPlayingTitle\">\n                    Now Playing\n                    {locationInUse && bpm && <BPM animate={true} speed={60 / bpm} value={bpm} hideText={true} style={{ marginLeft: \"12px\", justifyContent: \"flex-start\" }} />}\n                  </div>\n                  <div className=\"songTitle\" style={{ justifyContent: isMobile && !hasTrackOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-track\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                      {songTrack}\n                    </span>\n                  </div>\n                  <div className=\"songArtist\" style={{ justifyContent: isMobile && !hasArtistOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-artist\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                      {songArtist}\n                    </span>\n                  </div>\n                  <div>\n                    Station:\n                    <span className={\"now-playing-station\"} onClick={() => this.showPlaylistModal(activeStation)}>\n                      {stationName}\n                    </span>\n                  </div>\n                  {scheduleName && (\n                    <div>\n                      Schedule:\n                      <span className={\"now-playing-station\"} onClick={() => this.props.history.push(`/createSchedule/${scheduleId}`)}>\n                        {scheduleName}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                <div className={\"adblock-div\"} onClick={() => this.openAdBlockMessage()}>\n                  <AdBlockDetect>\n                    <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} />\n                  </AdBlockDetect>\n                </div>\n              </div>\n            </div>\n\n            <div className={\"module-row\"}>\n              {controllerStyle === \"MOBILE\" ? (\n                <DashboardModule\n                  title={\"Playing on Mobile\"}\n                  icon={faMobile}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"OTHER\" ? (\n                <DashboardModule\n                  title={\"Playing on Another Device\"}\n                  icon={faTv}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"WEB\" ? (\n                <DashboardModule\n                  title={\"Playing on Web\"}\n                  icon={faTv}\n                  style={{ backgroundColor: \"#D04283\", borderColor: \"#FFF\", color: \"#FFF\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-music-controller\"}>\n                        <div className=\"dashboard-music-time\">\n                          {currentSongTime} / {currentSongDuration}\n                        </div>\n                        <div className=\"dashboard-music-controls\">\n                          {/* Play/Pause Button */}\n                          {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(false)} /> : <FontAwesomeIcon icon={faPlay} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(stubTrue)} />}\n\n                          {/* Skip Button */}\n                          {<FontAwesomeIcon icon={faStepForward} className={\"music-controller-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n\n                          {/* Close Button */}\n                          <FontAwesomeIcon icon={faTimes} className={\"music-controller-icon close-icon\"} onClick={() => this.props.actions.disconnectPlayer()} />\n                        </div>\n                      </div>\n\n                      {/* Mobile Button */}\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\", marginTop: \"10px\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              ) : (\n                <DashboardModule\n                  title={\"Play Music\"}\n                  icon={faMusic}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginBottom: \"15px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              )}\n\n              <div className={\"flexCol\"} style={{ justifyContent: \"space-evenly\" }}>\n                <DashboardModule title={\"Store Code\"} icon={faKey} content={[<PairToken token={token} fontSize={\"22px\"} />]} />\n\n                <DashboardModule\n                  title={\"Settings\"}\n                  icon={faCog}\n                  content={\n                    <div className={\"dashboard-setting-wrapper\"}>\n                      <div className={\"dashboard-setting-text\"}>Allow Explicit</div>\n                      <div className={\"dashboard-setting-option\"}>\n                        <Switch style={{ width: \"30px\" }} checked={explicitAllowed} disabled={explicitAllowed === null} loading={loadingExplicit} onClick={() => this.toggleExplicit()} />\n                      </div>\n                    </div>\n                  }\n                />\n              </div>\n            </div>\n          </div>\n        </Spin>\n\n        {/* CONNECTION INSTRUCTIONS */}\n        <Modal visible={showAppModal} onOk={() => this.setState({ showAppModal: false })} onCancel={() => this.setState({ showAppModal: false })} width={modalWidth} footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Connect Device</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"mobile-phone\"}>\n                <FontAwesomeIcon icon={faMobile} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faMusic} className={\"special-music-icon\"} />\n              </div>\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"speaker-group\"}>\n                <FontAwesomeIcon icon={faSpeaker} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faCommentMusic} className={\"connect-music-icon\"} />\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">\n              {isApple ? (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on the App Store.\n                </>\n              ) : (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on Google Play or the App Store onto your mobile device\n                </>\n              )}\n            </div>\n\n            <div className=\"store-wrapper rowItem\">\n              <img src={AmbiiLogo} className={\"connect-music-icon ambii-logo\"} alt={\"\"} />\n              <div className=\"store-button-wrapper\" onClick={() => this.openLink(\"https://play.google.com/store/apps/details?id=com.ambii_business_music\")}>\n                {!isApple && (\n                  <div className=\"store-button\">\n                    <GooglePlay className={\"connect-music-icon brand-icon\"} style={{ width: 24, height: 48 }} />\n                    <div className=\"store-button-text\">\n                      <div className=\"store-button-subtitle\">Download on</div>\n                      <div className=\"store-button-title\"> Google Play </div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"store-button\" onClick={() => this.openLink(\"https://apps.apple.com/us/app/ambii-music-for-business/id1501666271\")}>\n                  <FontAwesomeIcon icon={faApple} className={\"connect-music-icon brand-icon\"} style={{ fontSize: \"32px\" }} />\n                  <div className=\"store-button-text\">\n                    <div className=\"store-button-subtitle\">Download on</div>\n                    <div className=\"store-button-title\"> App Store </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">2. Once downloaded, enter your Store Code</div>\n\n            <div className=\"connect-text\" style={{ marginTop: \"25px\", fontSize: \"24px\" }}>\n              Store Code: <span className=\"connect-token\">{token}</span>\n            </div>\n          </div>\n        </Modal>\n\n        {/* DEVICE ALREADY CONNECTED */}\n        <Modal visible={showConnectModal} onOk={() => this.setState({ showConnectModal: false })} onCancel={() => this.setState({ showConnectModal: false })} width={modalWidth} footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Device Already Connected!</div>\n            <div className=\"connect-text\">Another device is already connected to this account. Would you like to play music on this device instead?</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n            </div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton\"} loading={loadingPlayer} disabled={loadingPlayer} onClick={() => this.loadPlayer({ override: true })}>\n                Yes, Connect\n              </Button>\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.setState({ showConnectModal: false })}>\n                No, Cancel\n              </Button>\n            </div>\n          </div>\n        </Modal>\n\n        {/* WEB PLAYER OVERRIDEN */}\n        <Modal visible={showErrorModal} onOk={() => this.closeErrorMessage()} onCancel={() => this.closeErrorMessage()} width={modalWidth} footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">{errorTitle}</div>\n\n            <div className=\"connect-text\">{errorMessage}</div>\n\n            <div className=\"connect-display rowItem\">{errorIcon}</div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.closeErrorMessage()}>\n                {errorButton ? errorButton : \"Ok\"}\n              </Button>\n            </div>\n          </div>\n        </Modal>\n\n        <InstructionModal\n          visible={this.state.showInstructions}\n          onOk={() => this.setState({ showInstructions: false })}\n          playStation={this.playStation}\n          isApple={isApple}\n          onCancel={() => {\n            this.setState({ showInstructions: false });\n          }}\n        />\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        updateStationListener,\n        updateCurrentTrackListener,\n        removeStationListener,\n        connectPlayer,\n        playerError,\n        assignStation,\n        toggleExplicit,\n        setDisableSkip,\n        skipSong,\n        setIsPlaying,\n        disconnectPlayer,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    player: state.player,\n    currentTrack: state.auth.location.currentTrack,\n    isApple: state.auth.isApple,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport \"./index.scss\";\n\nexport default class MoodTag extends Component {\n  state = {\n    isHovered: false,\n  };\n\n  onMouseOver = () => {\n    this.setState({ isHovered: true });\n  };\n  onMouseOut = () => {\n    this.setState({ isHovered: false });\n  };\n\n  render() {\n    const { performSelect, text } = this.props;\n    return (\n      <div className=\"mood_tag\" onMouseEnter={this.onMouseOver} onMouseLeave={this.onMouseOut} onClick={performSelect}>\n        <span style={{ marginLeft: 8 }}>{text}</span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ReactResizeDetector from \"react-resize-detector\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport MoodTag from \"./mood_tag\";\nimport \"./index.scss\";\n\nexport default class MoodTagSearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: this.props.items,\n      search: \"\",\n      isSearchFocused: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  removeTag = (mood) => () => {\n    this.props.performSelect(mood);\n  };\n\n  onChangeText = (e) => {\n    this.setState({ search: e.target.value }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  performSelect = (mood) => () => {\n    this.props.performSelect(mood);\n    this.setState({ search: \"\" }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  filterTagArray = () => {\n    const second = new Set(this.props.selectedTags);\n    const difference = [...this.state.tags].filter((x) => !second.has(x));\n    return difference;\n  };\n\n  handleClick = (e) => {\n    if (this.node.contains(e.target)) {\n      return;\n    }\n\n    this.setState({ isSearchFocused: false });\n  };\n\n  render() {\n    const { search, isSearchFocused } = this.state;\n\n    return (\n      <ReactResizeDetector handleHeight>\n        {({ height }) => (\n          <div className=\"mood_container\" ref={(node) => (this.node = node)}>\n            <div className={`input-tag ${isSearchFocused ? \"red-focus\" : \"\"}`}>\n              <ul className=\"input-tag__tags\" ref={(tagListRef) => (this.tagListRef = tagListRef)}>\n                {this.props.selectedTags.map((tag, i) => (\n                  <li key={tag}>\n                    {tag}\n                    <button type=\"button\" className=\"remove_btn\" onClick={this.removeTag(tag)}>\n                      +\n                    </button>\n                  </li>\n                ))}\n                <li className=\"input-tag__tags__input\">\n                  <textarea\n                    className=\"mood_searchBar\"\n                    type=\"text\"\n                    placeholder=\"Search for Moods\"\n                    onFocus={() => this.setState({ isSearchFocused: true })}\n                    value={search}\n                    onChange={this.onChangeText}\n                    ref={(c) => {\n                      this.tagInput = c;\n                    }}\n                  />\n                  <FontAwesomeIcon icon={faSearch} color=\"rgba(95, 95, 95, 0.4)\" />\n                </li>\n              </ul>\n            </div>\n            {isSearchFocused ? (\n              <div className=\"tag-result\" style={{ position: \"absolute\", top: height }}>\n                {this.filterTagArray().map((mood, i) => (\n                  <MoodTag key={i} text={mood} performSelect={this.performSelect(mood)} />\n                ))}\n              </div>\n            ) : null}\n          </div>\n        )}\n      </ReactResizeDetector>\n    );\n  }\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { tempos } from \"../../constants\";\nimport \"./index.scss\";\n\nexport default function TempoSelection(props) {\n  const performSelectTempo = (tempo, index) => () => {\n    if (index !== props.currentSelectedTempo) {\n      props.selectTempo(tempo, index);\n    } else {\n      props.deSelectTempo();\n    }\n  };\n\n  const renderTempos = () => {\n    let tempoKeys = Object.keys(tempos);\n    return tempoKeys.map((tempo, i) => (\n      <div key={i} className=\"wrapper\">\n        <div\n          className=\"energy\"\n          onClick={performSelectTempo([tempos[tempo].min, tempos[tempo].max], i)}\n          style={{\n            backgroundColor: i === props.currentSelectedTempo ? \"rgba(95, 95, 95, 0.1)\" : \"white\",\n          }}\n        >\n          <div className=\"content\">\n            <div className=\"inner\">\n              <FontAwesomeIcon icon={tempos[tempo].icon} className=\"tempo_icon\" />\n              <span>{tempos[tempo].title}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ));\n  };\n\n  return <div className=\"tempo_container\">{renderTempos()}</div>;\n}\n","import React from \"react\";\nimport { Range } from \"rc-slider\";\nimport \"./index.scss\";\n\nconst LABEL = [`10's`, `00's`, `90's`, `80's`, `70's`, `60's`].reverse();\n\nexport default function EraSelection(props) {\n  const renderLabel = () => {\n    return LABEL.map((label, i) => (\n      <div id={i} className=\"label_container\">\n        <span className=\"label\">{label}</span>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"era_container\">\n      <Range\n        step={10}\n        min={1950}\n        max={2020}\n        defaultValue={props.defaultValue}\n        dots\n        onAfterChange={props.selectEra}\n        trackStyle={[{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }]}\n        railStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\n        dotStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\", border: \"none\" }}\n        handleStyle={[\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n        ]}\n      />\n      <div className=\"labels\">\n        <div id=\"oldies\">Oldies</div>\n        <div className=\"label_body\">{renderLabel()}</div>\n        <div id=\"modern\">Modern</div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport MoodTagSearchBar from \"../../mood_tag_search_bar\";\nimport TempoSelection from \"../../tempo_selection\";\nimport EraSelection from \"../../era_selection\";\n\nconst AdvanceFilter = ({ browseMoods, currentSelectedTempo, onSelectTempo, onDeselectTempo, browseEraRange, onSelectEra, onSelectMood }) => (\n  <div>\n    <div className=\"moodWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Tags</div>\n      <div className=\"browseSelectionsContainer\">\n        <MoodTagSearchBar items={Object.keys(browseMoods)} selectedTags={Object.keys(browseMoods).filter((mood) => browseMoods[mood] === true)} performSelect={onSelectMood} />\n      </div>\n    </div>\n\n    <div className=\"tempoWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Energy</div>\n      <div className=\"browseSelectionsContainer\">\n        <TempoSelection currentSelectedTempo={currentSelectedTempo} selectTempo={onSelectTempo} deSelectTempo={onDeselectTempo} />\n      </div>\n    </div>\n\n    {/* <div className=\"eraWrapper\" style={{ margin: 'auto' }}>\n          <div className=\"browseSettingsTitle\">{'Era'}</div>\n          <div className=\"browseSelectionsContainer\">\n            <EraSelection\n              defaultValue={[browseEraRange.from, browseEraRange.to]}\n              selectEra={onSelectEra}\n            />\n          </div>\n        </div> */}\n  </div>\n);\n\nexport default AdvanceFilter;\n","import React from \"react\";\nimport { Modal, Avatar } from \"antd\";\nimport \"./index.scss\";\n\nconst TracksModal = ({ visible, onCancel, tracks, title }) => (\n  <Modal title={title} visible={visible} onCancel={onCancel} footer={[]}>\n    {tracks.map((track, key) => (\n      <div className=\"track-container\" key={key}>\n        {track.albumCover ? <Avatar shape=\"square\" size={50} src={track.albumCover} /> : <Avatar shape=\"square\" size={50} icon=\"user\" />}\n        <div>\n          <p style={{ marginLeft: 10 }} className=\"heading-regular margin-0\">\n            {track.title}\n          </p>\n          <p style={{ marginLeft: 10 }} className=\"margin-0\">\n            {track.artist}\n          </p>\n        </div>\n      </div>\n    ))}\n  </Modal>\n);\n\nexport default TracksModal;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { genreColors } from \"../../constants\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\n/**\n * @param {array} genres - Array of genres\n * @param {bool} showStats - Display of text % (such as '72%', 26%', ...)\n * @param {object} style - React in-line styling\n * @param {object} simple - Show only the genre color bar (no bpm info)\n */\n\nconst GenreColorBar = ({ genres, roundBottom, bpm, simple }) => {\n  const data = Object.entries(genres || [])\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n\n  let dataA,\n    dataB,\n    dataC = 0;\n\n  try {\n    dataA = data[0][1];\n    dataB = data[1][1];\n    dataC = data[2][1];\n  } catch (err) {\n    console.log(\"Not all genre fields available\");\n  }\n\n  const totalPercentage = (dataA && dataA > 0.1 ? dataA : 0) + (dataB && dataB > 0.1 ? dataB : 0) + (dataC && dataC > 0.1 ? dataC : 0);\n\n  const calculateEachPercentage = (percent) => {\n    return percent / totalPercentage;\n  };\n\n  let bpmInfo = getBPMInfo(bpm);\n\n  return (\n    <div className=\"genre-container\">\n      <div className=\"genre-color-bar\">\n        {data.map((music, i) => {\n          const genre = music[0];\n          const percent = calculateEachPercentage(music[1]);\n\n          return (\n            <div className={\"genre-wrapper\"} style={{ width: `${percent * 100}%`, display: percent > 0.1 ? \"flex\" : \"none\" }} key={genre}>\n              <div\n                className={\"genre-chunk\"}\n                style={{\n                  backgroundColor: genreColors[genre],\n                  borderBottomLeftRadius: i === 0 && roundBottom ? \"8px\" : null,\n                  borderBottomRightRadius: i === genres.length - 1 && roundBottom ? \"8px\" : null,\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n\n      {!simple && (\n        <div className={\"genre-tile-info-wrapper\"}>\n          <div className={\"genre-tile-genre-wrapper\"}>\n            {data.map((music, i) => {\n              const genre = music[0];\n              const percent = calculateEachPercentage(music[1]);\n\n              if (percent > 0.1) {\n                return (\n                  <div className={\"flexRow\"} key={genre}>\n                    <div className={\"genre-color-dot\"} style={{ backgroundColor: genreColors[genre] }} />\n                    <span style={{ position: \"relative\", bottom: 4, left: 4, fontWeight: i === 0 ? \"bold\" : \"normal\" }}>{genre}</span>\n                  </div>\n                );\n              }\n            })}\n          </div>\n          <div className={\"genre-bpm\"}>\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} className={\"bpm-icon\"} />\n            <div>{get(bpmInfo, \"title\", \"\")}</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GenreColorBar;\n","import React from \"react\";\nimport TracksModal from \"../tracksModal\";\nimport { logEvent } from \"../../../configs/google-analytics\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport { hashCode, checkForMobile } from \"../../../util\";\nimport GenreColorBar from \"../../genre-color-bar\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass PublicStation extends React.PureComponent {\n  state = {\n    modalVisible: false,\n    hovered: false,\n  };\n\n  showModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  hideModal = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  stationPress = (id, name) => {\n    const { history } = this.props;\n    if (id) {\n      logEvent({ category: categories.discover, action: actions.button, value: name, label: labels.button });\n      history.push(`/station/${id}`);\n    }\n  };\n\n  render() {\n    const { modalVisible } = this.state;\n    const { bpm, genres, _id, hex, track, title, type, rowIndex, browse, showPlaylistModal, isApple, explicit } = this.props;\n\n    let tileStyle = type === \"advanced\" ? \"advanced-station-preview\" : \"public-station noselect\";\n    let previewCardStyle = (_id ? \"item-container pointer\" : \"item-container-preview item-container pointer\").concat(rowIndex === 0 ? \" first-row\" : \"\");\n    let name = get(this.props, \"name\", \"\");\n    let bpmMean = get(bpm, \"mean\", 1);\n\n    return (\n      <div className={tileStyle} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })} style={browse ? { margin: \"0px 0px 10px 0px\", border: \"2px solid white\" } : { border: \"2px solid white\" }} onClick={() => showPlaylistModal(_id)}>\n        <div className={previewCardStyle} style={{ backgroundColor: hex, backgroundImage: `url(${hashCode(this.props.name)})` }}>\n          <div className={\"station-tile-header\"}>\n            {type !== \"advanced\" && (\n              <div style={_id ? {} : { fontSize: 14 }} className=\"name\">\n                {name ? name.replace(\" (Explicit)\", \"\") : title}\n              </div>\n            )}\n          </div>\n        </div>\n        {track && track.length ? <TracksModal title={name} visible={modalVisible} onCancel={this.hideModal} tracks={track} /> : null}\n        <div className={\"info-container\"}>\n          <GenreColorBar genres={genres} showStats={isApple ? false : true} bpm={bpmMean || 100} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PublicStation;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"antd\";\nimport PublicStation from \"../public_stations/publicStation\";\nimport { assignStation } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { supersetDescriptions, categories, actions, labels } from \"../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft, faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass StationSection extends Component {\n  state = {\n    showArrows: false,\n    showLeftArrow: true,\n    showRightArrow: true,\n    diff: 0,\n  };\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n    const preMargin = Math.round((outer * 5) / 100);\n    this.setState({ diff: inner - outer + preMargin });\n    if (inner > outer) {\n      this.setState({ showArrows: true });\n    } else {\n      this.setState({ showArrows: false });\n    }\n  }\n\n  render() {\n    let { id, title, type, showViewAll, rowIndex, isApple } = this.props;\n    let data = get(this.props, \"data\", []);\n\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n\n    return (\n      <section className=\"feature-section\" id={id} style={!showViewAll ? { padding: \"25px 0px\" } : {}}>\n        <div className=\"feature-section-head-wrapper\">\n          <div className=\"feature-section-title-wrapper\">\n            <div className=\"preMargin\" />\n            <div className=\"heading heading-large\"> {title} </div>\n            {!showViewAll && (\n              <Button type=\"primary\" onClick={() => buttonPress(0, type, this.props.history)}>\n                <FontAwesomeIcon icon={faChevronLeft} />\n                Go back\n              </Button>\n            )}\n          </div>\n        </div>\n        <div className=\"description\">{supersetDescriptions[title]}</div>\n\n        <div className=\"blurredWrapper\">\n          <div\n            className=\"blurredEdgeStart\"\n            onMouseEnter={() => {\n              this.rightMoveSpeed = 2;\n              this.scrollRight = setInterval(() => {\n                this.rightMoveSpeed = Math.min(12, this.rightMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: -this.rightMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollRight);\n            }}\n          >\n            {showArrows && showLeftArrow ? <FontAwesomeIcon icon={faCaretLeft} /> : null}\n          </div>\n          <ScrollContainer\n            className=\"stationPreviewWrapper\"\n            ref={(me) => (this.scrollView = me)}\n            onScroll={(e) => {\n              if (e === 0) {\n                this.setState({ showLeftArrow: false });\n              } else {\n                this.setState({ showLeftArrow: true });\n              }\n              if (e === diff) {\n                this.setState({ showRightArrow: false });\n              } else {\n                this.setState({ showRightArrow: true });\n              }\n            }}\n          >\n            <div className=\"preMargin\" />\n            <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n              {data.map((item, index) => (\n                <PublicStation assignStation={this.props.actions.assignStation} showPlaylistModal={this.props.showPlaylistModal} company={this.props.company} history={this.props.history} key={index} rowIndex={rowIndex} isApple={isApple} {...item} />\n              ))}\n            </div>\n          </ScrollContainer>\n          <div\n            className=\"blurredEdgeEnd\"\n            onMouseEnter={() => {\n              this.leftMoveSpeed = 2;\n              this.scrollLeft = setInterval(() => {\n                this.leftMoveSpeed = Math.min(12, this.leftMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: this.leftMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollLeft);\n            }}\n          >\n            {showArrows && showRightArrow ? <FontAwesomeIcon icon={faCaretRight} /> : null}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\n// Button Press actions\nconst buttonPress = (clicked, type, history) => {\n  if (clicked === 0) {\n    history.push(\"/discover\", { isBack: true });\n  }\n  if (clicked === 1) {\n    logEvent({ category: categories.discover, action: actions.button, value: \"View More\", label: labels.button });\n    history.push(`/stations/${type}`);\n  }\n};\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeStationPreview: state.activeStationPreview,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationSection));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"./index.scss\";\n\nexport default class GenresSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showArrows: false,\n      showLeftArrow: false,\n      showRightArrow: true,\n      diff: 0,\n    };\n  }\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n\n    this.setState({ diff: inner - outer });\n\n    if (inner > outer) this.setState({ showArrows: true });\n    else this.setState({ showArrows: false });\n  }\n  render() {\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n    return (\n      <div className=\"genre_container\">\n        <div\n          className=\"edgeStart\"\n          onMouseEnter={() => {\n            let rightMoveSpeed = 2;\n            this.scrollRight = setInterval(() => {\n              rightMoveSpeed = Math.min(12, rightMoveSpeed + 0.1);\n              if (showLeftArrow) this.scrollView.getElement().scrollBy({ left: -rightMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollRight);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon className=\"icon\" icon={faCaretLeft} style={{ fontSize: 24, color: showLeftArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n        <ScrollContainer\n          className=\"itemWrapper\"\n          ref={(me) => (this.scrollView = me)}\n          onScroll={(e) => {\n            if (e === 0) this.setState({ showLeftArrow: false });\n            else this.setState({ showLeftArrow: true });\n\n            if (e === diff) this.setState({ showRightArrow: false });\n            else this.setState({ showRightArrow: true });\n          }}\n        >\n          <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n            {this.props.items}\n          </div>\n        </ScrollContainer>\n        <div\n          className=\"edgeEnd\"\n          onMouseEnter={() => {\n            let leftMoveSpeed = 2;\n            this.scrollLeft = setInterval(() => {\n              leftMoveSpeed = Math.min(12, leftMoveSpeed + 0.1);\n              this.scrollView.getElement().scrollBy({ left: leftMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollLeft);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon icon={faCaretRight} style={{ fontSize: 24, color: showRightArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Lottie from \"react-lottie\";\n\nclass ControlledLottie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isStopped: false,\n      isPaused: false,\n    };\n  }\n\n  render() {\n    const { animationData, height, width } = this.props;\n\n    // const buttonStyle = {\n    //     display: 'inline-block',\n    //     margin: '10px auto',\n    //     marginRight: '10px',\n    //     border: 'none',\n    //     color: 'white',\n    //     backgroundColor: '#647DFF',\n    //     borderRadius: '2px',\n    //     fontSize: '15px'\n\n    // };\n\n    const defaultOptions = {\n      loop: true,\n      autoplay: true,\n      animationData,\n      rendererSettings: {\n        preserveAspectRatio: \"xMidYMid slice\",\n      },\n    };\n\n    return (\n      <div className=\"controlled\">\n        <Lottie options={defaultOptions} height={height || 400} width={width || 400} isStopped={this.state.isStopped} isPaused={this.state.isPaused} />\n      </div>\n    );\n  }\n}\n\nexport default ControlledLottie;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { SlideDown } from \"react-slidedown\";\nimport { Dropdown, Button, Menu, Modal, Input } from \"antd\";\nimport { Range } from \"rc-slider\";\nimport { addPlayerListeners, removePlayerListeners, getDiscoverPulicStations, assignStation } from \"../../../actions\";\nimport AdvanceFilter from \"../advance_filter\";\nimport StationsSection from \"../../../components/stationSection\";\nimport PublicStation from \"../../../components/public_stations/publicStation\";\nimport StationDetails from \"../../../components/stationDetails\";\nimport GenresSection from \"../../genre_section\";\nimport { Animated } from \"react-animated-css\";\nimport { Spin } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../../configs/google-analytics\";\nimport { get, isEqual } from \"lodash\";\nimport { userTypes, supersets, categories, actions, labels, defaultStationCount } from \"../../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faFilter } from \"@fortawesome/pro-solid-svg-icons\";\nimport { capitolizeFirstLetter, checkForMobile } from \"../../../util\";\nimport PageTitle from \"../../../components/page-title\";\nimport UncontrolledLottie from \"../../../components/UncontrolledLottie\";\nimport ControlledLottie from \"../../../components/ControlledLottie\";\nimport AdFree from \"../../../lotties/lottie_ad_free.json\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport MobileAppCommunicator from \"../../../helpers/MobileAppCommunicator\";\nimport \"../index.scss\";\nimport Auth0Helper from \"../../../helpers/Auth0Helper\";\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      artistName: \"\",\n      searchText: \"\",\n      isStation: false,\n      isFixHeader: false,\n      showStationSearch: false,\n      showAppModal: false,\n      businessType: \"other\",\n      browseGenres: {},\n      defaultGenres: {}, // Easy reset for browseGenres\n      browseMoods: {},\n      defaultMoods: {}, // Easy reset for browseMoods\n      browseTempoRange: {\n        min: 30,\n        max: 150,\n      },\n      browseEraRange: {\n        from: 1950,\n        to: 2020,\n      },\n      playlistModalId: null,\n      playlists: null, // Station Sections\n      calculatedPlaylists: null,\n      // showAdFreeModal: true,\n      showAdvancedSearch: false,\n      isFiltering: false,\n      currentSelectedTempo: -1,\n      selectedGenres: {},\n      selectedMoods: {},\n      loadNumber: defaultStationCount,\n    };\n  }\n\n  getBusinessType() {\n    let businessType = get(this.props, \"myLocation.company.businessType\", \"restaurant\").toLowerCase();\n    if (businessType.toLowerCase() === \"other\") businessType = \"other\";\n    this.setState({ businessType });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { inApp } = this.props;\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null))) {\n      this.getBusinessType();\n\n      if (inApp) {\n        let token = get(this.props, \"myLocation.token\", \"\");\n        let station = get(this.props, \"myLocation.station._id\", \"\");\n\n        // If we're coming from the mobile intro screen & we're logged in & have a station selected already\n        if (localStorage.getItem(\"mobileIntroLogin\") && Auth0Helper.isLoggedIn() && token && station) {\n          localStorage.removeItem(\"mobileIntroLogin\");\n          MobileAppCommunicator.send(\"player\", \"player/\" + token);\n        }\n      }\n    }\n  }\n\n  async componentDidMount() {\n    trackScreen();\n    this.getBusinessType();\n\n    let stationsAlreadyLoaded = get(this.props, \"playlistList\", []);\n    let getPlaylists = null;\n\n    if (!stationsAlreadyLoaded || stationsAlreadyLoaded.length <= 0) getPlaylists = await this.props.actions.getDiscoverPulicStations();\n    let playlists = getPlaylists ? get(getPlaylists, \"playlistList\", []) : get(this.props, \"playlistList\", []);\n\n    let browseGenres = playlists.reduce((total, current) => {\n      Object.keys(current.genres).forEach((genre) => {\n        total[genre] = false;\n      });\n      return total;\n    }, {});\n\n    let browseMoods = playlists.reduce((total, current) => {\n      Object.keys(current.moods).forEach((mood) => {\n        total[mood] = false;\n      });\n      return total;\n    }, {});\n\n    this.setState({ isLoading: false, playlists, browseGenres, defaultGenres: browseGenres, browseMoods, defaultMoods: browseMoods }, () => {\n      this.calculateBrowse();\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.actions.removePlayerListeners();\n  }\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  toggleStationSearch = () => {\n    const { showStationSearch } = this.state;\n    this.setState({ showStationSearch: !showStationSearch }, () => {\n      if (showStationSearch) {\n        setTimeout(() => {\n          const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n          if (collapse && collapse.length) collapse[0].scrollIntoView();\n        }, 100);\n      } else\n        logEvent({\n          category: categories.discover,\n          action: actions.advancedBrowse,\n          label: labels.button,\n        });\n    });\n  };\n\n  calculateBrowse = () => {\n    const { loadNumber } = this.state;\n\n    // function capable of building a percentage list of an incoming object\n    const buildPercentages = (obj) => {\n      var returnedObj = {};\n      var keys = Object.keys(obj).filter((key) => obj[key]);\n      keys.forEach((key) => {\n        returnedObj[key] = 1 / keys.length;\n      });\n      return returnedObj;\n    };\n\n    const toVector = (obj, target) => {\n      var vector = [];\n      Object.keys(target).forEach((key) => {\n        if (obj[key]) vector.push(obj[key]);\n        else vector.push(0);\n      });\n      return vector;\n    };\n\n    const cosSim = (A, B) => {\n      var dotproduct = 0;\n      var mA = 0;\n      var mB = 0;\n      for (var i = 0; i < A.length; i++) {\n        dotproduct += A[i] * B[i];\n        mA += A[i] * A[i];\n        mB += B[i] * B[i];\n      }\n      mA = Math.sqrt(mA);\n      mB = Math.sqrt(mB);\n      var similarity = dotproduct / (mA * mB);\n      return similarity;\n    };\n\n    const scoreString = (searchString, targetString) => {\n      var score = 0;\n\n      for (var i = 0; i < searchString.length; i++) {\n        for (var j = i + 1; j < searchString.length + 1; j++) {\n          var ngram = searchString.slice(i, j);\n          if (!targetString.includes(ngram)) break;\n          score += Math.pow(ngram.length, 1.5) / targetString.length;\n        }\n      }\n\n      return score;\n    };\n\n    // start by filtering by tempo\n    var playlists = this.state.playlists.filter((playlist) => {\n      if (playlist?.bpm?.mean > this.state.browseTempoRange?.max) return false;\n      if (playlist?.bpm?.mean < this.state.browseTempoRange?.min) return false;\n      return true;\n    });\n\n    if (!this.state.searchText) {\n      var targetGenres = buildPercentages(this.state.browseGenres);\n      var targetMoods = buildPercentages(this.state.browseMoods);\n\n      var genresSelected = Object.keys(targetGenres).length !== 0;\n      var moodsSelected = Object.keys(targetMoods).length !== 0;\n\n      targetGenres = toVector(targetGenres, this.state.browseGenres);\n      targetMoods = toVector(targetMoods, this.state.browseMoods);\n\n      var genreSimilarities = {};\n      if (genresSelected) {\n        playlists.forEach((playlist) => {\n          genreSimilarities[playlist._id] = cosSim(toVector(playlist.genres, this.state.browseGenres), targetGenres);\n        });\n      }\n\n      var moodSimilarities = {};\n      if (moodsSelected) {\n        playlists.forEach((playlist) => {\n          moodSimilarities[playlist._id] = cosSim(toVector(playlist.moods, this.state.browseMoods), targetMoods);\n        });\n      }\n\n      playlists = playlists.sort((a, b) => {\n        var total = 0;\n        if (genresSelected) total += (genreSimilarities[b._id] - genreSimilarities[a._id]) * 0.5;\n        if (moodsSelected) total += (moodSimilarities[b._id] - moodSimilarities[a._id]) * 0.5;\n        return total;\n      });\n    } else {\n      playlists = playlists\n        .map((playlist) => {\n          var searchScore = 0;\n          searchScore += scoreString(this.state.searchText, playlist.name);\n          if (playlist.description) searchScore += scoreString(this.state.searchText, playlist.description);\n          return { ...playlist, searchScore: searchScore };\n        })\n        .sort((a, b) => {\n          return b.searchScore - a.searchScore;\n        });\n    }\n\n    // return only the top 12\n    playlists = playlists.slice(0, loadNumber);\n    this.setState({ calculatedPlaylists: playlists });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Station Preview: \" + playlistId);\n  };\n\n  updatePreference(e) {\n    this.setState({ businessType: e.key });\n    logEvent({\n      category: categories.discover,\n      action: actions.updatePreference,\n      value: e.key,\n      label: labels.button,\n    });\n  }\n\n  _checkIfAllFalse = (arr) => {\n    for (const select of arr) {\n      if (select === true) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  _checkIsFiltering = () => {\n    const { searchText, browseGenres, browseMoods, currentSelectedTempo } = this.state;\n    const isSearching = searchText.length > 0;\n    const isSelectingGenre = this._checkIfAllFalse(Object.values(browseGenres)) === false;\n    const isSelectingMood = this._checkIfAllFalse(Object.values(browseMoods)) === false;\n    const isSelectingTempo = currentSelectedTempo > -1;\n\n    return isSearching || isSelectingGenre || isSelectingMood || isSelectingTempo;\n  };\n\n  onSetFiltering = () => {\n    if (this._checkIsFiltering()) this.setState({ isFiltering: true });\n    else this.setState({ isFiltering: false });\n  };\n\n  // Selects a genre\n  onSelectGenre = (genre) => () => {\n    let selectedGenres = { ...this.state.selectedGenres };\n    selectedGenres[genre] ? delete selectedGenres[genre] : (selectedGenres[genre] = true);\n\n    this.setState({ showAdvancedSearch: Object.keys(selectedGenres).length > 0 ? true : false, selectedGenres, browseGenres: { ...this.state.browseGenres, [genre]: !this.state.browseGenres[genre] }, loadNumber: defaultStationCount }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects a mood\n  onSelectMood = (mood) => {\n    let selectedMoods = { ...this.state.selectedMoods };\n    selectedMoods[mood] ? delete selectedMoods[mood] : (selectedMoods[mood] = true);\n\n    this.setState({ selectedMoods, browseMoods: { ...this.state.browseMoods, [mood]: !this.state.browseMoods[mood] } }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects a tempo\n  onSelectTempo = (tempo, index) => {\n    this.setState({ browseTempoRange: { min: tempo[0], max: tempo[1] }, currentSelectedTempo: index }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Deselects tempo\n  onDeselectTempo = () => {\n    this.setState({ browseTempoRange: { min: 30, max: 150 }, currentSelectedTempo: -1 }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects an era\n  onSelectEra = (era) => {\n    this.setState({ browseEraRange: { from: era[0], to: era[1] } });\n  };\n\n  // Updates the station search text\n  onSetSearchText = (e) => {\n    this.setState({ searchText: e.target.value }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  };\n\n  // Clears all selections from advanced filters\n  clearAdvancedFilters() {\n    const { defaultGenres, defaultMoods } = this.state;\n    this.setState({ searchText: \"\", selectedGenres: {}, selectedMoods: {}, browseGenres: defaultGenres, browseMoods: defaultMoods, loadNumber: defaultStationCount, currentSelectedTempo: -1 }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  }\n\n  // Decides whether to show or hide advanced search menu\n  showClearFilters() {\n    const { currentSelectedTempo, selectedGenres, selectedMoods, searchText } = this.state;\n    if (searchText.length > 0 || Object.keys(selectedGenres).length > 0 || Object.keys(selectedMoods).length > 0 || currentSelectedTempo !== -1) return true;\n    else return false;\n  }\n\n  // Shows more stations in advanced search\n  loadMoreStations() {\n    this.setState({ loadNumber: this.state.loadNumber + defaultStationCount }, () => {\n      this.calculateBrowse();\n    });\n  }\n\n  render() {\n    const { isApple, inApp } = this.props;\n    const { showAdFreeModal, browseMoods, isLoading, playlists, businessType, playlistModalId, showAdvancedSearch, currentSelectedTempo, browseEraRange, isFiltering, browseGenres, searchText, calculatedPlaylists, selectedGenres } = this.state;\n\n    let modalWidth = checkForMobile() ? \"90%\" : \"80%\";\n    let globalStations = {};\n    let businessTypeStations = {};\n    let userType = get(this.props, \"user.role\", null);\n    let company = get(this.props, \"user.company\", \"\");\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n    let hasFavorites = favorites.length > 0 ? true : false;\n    let favoritesQueue = {};\n    if (hasFavorites) favoritesQueue[\"Favorites\"] = favorites;\n\n    for (var superset of supersets.global) globalStations[superset] = [];\n\n    let businessTypeSuperset = businessType.toLowerCase() === \"other\" && userType === userTypes.Individual ? supersets[\"defaultIndividual\"] : supersets[businessType.toLowerCase()];\n\n    for (var superset of businessTypeSuperset) businessTypeStations[superset] = [];\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) globalStations[playlistSuperset].push(playlist);\n          if (playlistSuperset in businessTypeStations) businessTypeStations[playlistSuperset].push(playlist);\n        }\n      }\n    }\n\n    const businessTypeMenu = (\n      <Menu onClick={(e) => this.updatePreference(e)} selectedKeys={[businessType]} className=\"menu-wrapper\">\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n\n    return (\n      <div className={\"discoverWrapper\"} id=\"discover-container\">\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={modalWidth} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails login={this.props.login} playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} />\n        </Modal>\n        <div className=\"create-body\">\n          {/* Display page title if we're not viewing from mobile app */}\n          {!inApp && (\n            <div className=\"discover-head-wrapper\">\n              <PageTitle\n                title={\n                  <span>\n                    Let's Find Your\n                    <span style={{ color: \"#D04283\" }}>&nbsp;ambii</span>-ance\n                  </span>\n                }\n                subtitle={\"Discover the right music for your business\"}\n                style={{ flex: 1 }}\n              />\n\n              {userType !== userTypes.Individual && (\n                <div className={\"discover-buttons\"}>\n                  <div className={\"viewOptions\"}>\n                    <Dropdown overlay={businessTypeMenu} trigger={[\"click\"]} className={\"preference-menu\"}>\n                      <Button className={\"preference-menu-button\"}>\n                        <span style={{ marginRight: \"5px\", color: \"black\" }}>Preference:</span>\n                        {capitolizeFirstLetter(businessType)}\n                        <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"8px\" }} />\n                      </Button>\n                    </Dropdown>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\" }}>\n            {isLoading && <div style={{ width: \"100%\", height: \"30vh\" }}></div>}\n            {!isLoading && (\n              <Animated animationIn=\"fadeIn\" isVisible={true}>\n                <div className={\"browseSettingsContainer \".concat(showAdvancedSearch && \"showAdvancedSearch\")}>\n                  <div className=\"searchWrapper\">\n                    <div className=\"searchInput\">\n                      <Input.Search className=\"searchBar\" placeholder=\"Search\" value={searchText} onChange={this.onSetSearchText} />\n                    </div>\n                    <Button onClick={() => this.setState((prevState) => ({ showAdvancedSearch: !prevState.showAdvancedSearch }))} className={showAdvancedSearch ? \"active\" : null}>\n                      <FontAwesomeIcon icon={faFilter} style={{ paddingRight: \"4px\" }} />\n                      Filters\n                    </Button>\n                    {this.showClearFilters() && (\n                      <Button onClick={() => this.clearAdvancedFilters()} style={{ marginLeft: \"10px\" }}>\n                        Clear\n                      </Button>\n                    )}\n                  </div>\n                  <div className=\"genreWrapper\">\n                    <div className=\"browseSelectionsContainer\">\n                      <GenresSection\n                        items={Object.keys(browseGenres).map((genre) => (\n                          <span\n                            key={genre}\n                            className=\"mobileGenreItem\"\n                            onClick={this.onSelectGenre(genre)}\n                            style={{\n                              backgroundColor: browseGenres[genre] ? \"rgba(95, 95, 95, 0.2)\" : \"transparent\",\n                            }}\n                          >\n                            {genre}\n                          </span>\n                        ))}\n                      />\n                    </div>\n                  </div>\n\n                  <SlideDown style={{ width: \"100%\" }}>{showAdvancedSearch ? <AdvanceFilter browseMoods={browseMoods} currentSelectedTempo={currentSelectedTempo} browseEraRange={browseEraRange} onSelectTempo={this.onSelectTempo} onDeselectTempo={this.onDeselectTempo} onSelectEra={this.onSelectEra} onSelectMood={this.onSelectMood} /> : null}</SlideDown>\n                </div>\n\n                {isFiltering ? (\n                  <div className=\"advanced-station-wrapper\">\n                    <div className=\"playlistsContainer\">\n                      {calculatedPlaylists\n                        ? calculatedPlaylists.map((playlist, i) => {\n                            return (\n                              <div className=\"playlistContainer\" key={get(playlist, \"_id\", i)}>\n                                <PublicStation showPlaylistModal={this.showPlaylistModal} assignStation={this.props.actions.assignStation} company={company} browse={true} history={this.props.history} {...playlist} />\n                              </div>\n                            );\n                          })\n                        : null}\n                    </div>\n                    <Button className={\"load-more\"} onClick={() => this.loadMoreStations()}>\n                      Load More\n                    </Button>\n                  </div>\n                ) : null}\n\n                {!isFiltering ? (\n                  <div>\n                    {hasFavorites &&\n                      Object.keys(favoritesQueue).map((favorite, i) => {\n                        return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={favorite} id={favorite} rowIndex={i} title={favorite} type={favorite} data={favoritesQueue[favorite]} source={\"discover\"} isApple={isApple} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(globalStations).map((superset, i) => {\n                        if (globalStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} rowIndex={hasFavorites ? null : i} title={superset} type={superset} data={globalStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(businessTypeStations).map((superset) => {\n                        if (businessTypeStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} title={superset} type={superset} data={businessTypeStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                  </div>\n                ) : null}\n              </Animated>\n            )}\n          </Spin>\n          <div className=\"pageFooter\" />\n        </div>\n\n        {/* AD FREE */}\n        {/* <Modal\n          visible={showAdFreeModal}\n          onOk={() => this.setState({ showAdFreeModal: false })}\n          onCancel={() => this.setState({ showAdFreeModal: false })}\n          width={modalWidth}\n          footer={[]}\n          className=\"app-modal\"\n        >\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">\n              Welcome to <span style={{ color: '#D04283' }}>Ambii</span>\n            </div>\n            <div className=\"connect-text\">\n              We've set you up with 60 days of ad-free music, on us!\n            </div>\n            <div className=\"connect-text\" style={{ marginTop: '25px' }}>\n              After the 60 days, there's no pressure to subscribe or give us\n              your credit card information. Our advertisements let us promise to\n              be <span style={{ color: '#D04283' }}>Free. Forever!</span>\n            </div>\n            <div className=\"connect-animation\">\n              <UncontrolledLottie animationData={AdFree} />\n            </div>\n            <div className=\"connect-text\">\n              Now, simply choose any station and start playing music!\n            </div>\n            <div className=\"connect-button-group\" style={{ marginTop: '25px' }}>\n              <Button\n                type=\"primary\"\n                className={'big-button'}\n                onClick={() => this.setState({ showAdFreeModal: false })}\n              >\n                Get Started\n              </Button>\n            </div>\n          </div>\n        </Modal> */}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        getDiscoverPulicStations,\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    isApple: state.auth.isApple,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport GenreColorBar from \"../genre-color-bar\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass StationTile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovered: false,\n    };\n  }\n\n  render() {\n    const { data, simple } = this.props;\n    let key = get(data, \"_id\", data);\n    let name = get(data, \"name\", \"\");\n    let bpm = get(data, \"bpm.mean\", 100).toFixed(0);\n    let genres = get(data, \"genres\", []);\n    let bpmInfo = getBPMInfo(bpm);\n\n    return (\n      <div className=\"schedule-playlist draggable-events\" title={name} data={key} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })}>\n        <div className=\"flexRow station-content noselect\">\n          <div className=\"name\"> {name} </div>\n          <div className=\"bpm-wrapper\">\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} style={{ fontSize: 24 }} />\n          </div>\n        </div>\n        <GenreColorBar genres={genres} roundBottom={true} simple={simple} />\n      </div>\n    );\n  }\n}\n\nexport default StationTile;\n","import React, { Component } from \"react\";\nimport StationTile from \"../station-tile\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nlet MIN_COUNT = 5;\n\nclass StationVerticalList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  toggleExpand() {\n    this.setState({ expanded: !this.state.expanded });\n  }\n\n  render() {\n    const { label, data } = this.props;\n    const { expanded } = this.state;\n    let displayData = [...data];\n\n    if (!expanded) displayData = displayData.slice(0, MIN_COUNT);\n\n    return (\n      <div className=\"music-section-wrapper\">\n        <div className=\"music-section-header\"> {label} </div>\n        {displayData.map((elem) => (\n          <StationTile data={elem} key={get(elem, \"_id\", elem)} simple />\n        ))}\n\n        {data.length > MIN_COUNT && (\n          <div className=\"view-more\" onClick={() => this.toggleExpand()}>\n            {expanded ? \"View Less\" : \"View More\"}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default StationVerticalList;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPenSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport \"./index.scss\";\n\nclass ToggleInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      activeInput: false,\n    };\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    try {\n      document.addEventListener(\"mousedown\", (e) => this.handleClickOutside(e));\n      document.addEventListener(\"keypress\", (e) => this.handleKeyDown(e));\n    } catch (err) {\n      console.log(\"caught didMount toggleInput err: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!isEqual(get(this.props, \"text\", \"\"), get(prevProps, \"text\", \"\"))) {\n      console.log(\"props: \", this.props);\n      this.setState({ text: get(this.props, \"text\", \"\") });\n    }\n\n    if (!get(this.state, \"activeInput\", false) && !isEqual(get(this.state, \"activeInput\", false), get(prevState, \"activeInput\", false))) {\n      console.log(\"onUpdate: \", this.state);\n      this.props.onUpdate(this.state.text);\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\n      document.removeEventListener(\"keypress\", this.handleKeyDown);\n    } catch (err) {\n      console.log(\"caught willUnmount toggleInput err: \", err);\n    }\n  }\n\n  // Tries to capture 'enter' press\n  handleKeyDown(e) {\n    if (get(e, \"key\", \"\").toLowerCase() === \"enter\") {\n      this.setState({ activeInput: false });\n    }\n  }\n\n  // Listens for clicks outside this component\n  handleClickOutside(e) {\n    let current = get(this, \"inputRef.current\", \"\");\n    if (current && !current.contains(e.target)) this.setState({ activeInput: false });\n  }\n\n  // Handles updating text changes\n  handleUpdate = (e) => {\n    let copy = { ...e };\n    let val = get(copy, \"target.value\", \"\");\n    this.setState({ text: val.length > 0 && val.length < 40 ? val : val.substring(0, 40) });\n  };\n\n  // Handles input focus toggle\n  toggleInput = () => {\n    try {\n      this.setState({ activeInput: !this.state.activeInput }, () => {\n        this.inputRef.current.focus(); // Autofocus the input\n      });\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  };\n\n  render() {\n    const { activeInput, text } = this.state;\n\n    return (\n      <div className={\"toggle-input noselect\"}>\n        {!activeInput && (\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n            <div className=\"scheduleName\" onClick={() => this.toggleInput()}>\n              {text}\n            </div>\n            <FontAwesomeIcon icon={faPenSquare} className=\"icon inputIcon\" onClick={() => this.toggleInput()} />\n          </div>\n        )}\n        {activeInput && <input ref={this.inputRef} onChange={(e) => this.handleUpdate(e)} className=\"scheduleNameInput\" placeholder={text} />}\n      </div>\n    );\n  }\n}\n\nexport default ToggleInput;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getDiscoverPulicStations, saveSchedule, getSchedule } from \"../../actions\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\"; // needed for dayClick\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faDesktop, faSmile } from \"@fortawesome/pro-light-svg-icons\";\nimport { Modal, Button, Spin } from \"antd\";\nimport StationVerticalList from \"../../components/stationVerticalList\";\nimport { isEqual, get } from \"lodash\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions, labels, supersets } from \"../../constants\";\nimport { checkForMobile } from \"../../util\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport ToggleInput from \"../../components/toggleInput\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass CreateSchedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      isMobile: checkForMobile(),\n      stations: [],\n      stationName: \"\",\n      mySchedule: {},\n      stationId: this.props.match.params.id,\n      playlists: [],\n      showMusicPlayer: false,\n      isSaving: false,\n    };\n    this.calendarComponentRef = React.createRef();\n  }\n\n  // Adding dragable properties to external events through javascript\n  async componentDidMount() {\n    trackScreen();\n\n    const { stationId } = this.state;\n    const [schedule, stations] = [await this.props.actions.getSchedule(stationId), await this.props.actions.getDiscoverPulicStations(stationId)];\n\n    if (schedule.success) {\n      let mySchedule = get(schedule, \"data[0]\", null);\n      let stationName = get(schedule, \"data[0].name\", null);\n      let stations = get(schedule, \"data[0].stations\", null);\n      this.setState({ mySchedule, stationName, stations });\n    }\n\n    let playlists = get(stations, \"playlistList\", []);\n\n    let browseGenres = playlists.reduce((total, current) => {\n      Object.keys(current.genres).forEach((genre) => {\n        total[genre] = false;\n      });\n      return total;\n    }, {});\n    let browseMoods = playlists.reduce((total, current) => {\n      Object.keys(current.moods).forEach((mood) => {\n        total[mood] = false;\n      });\n      return total;\n    }, {});\n\n    this.setState({ isLoading: false, playlists, browseGenres, browseMoods, showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n      try {\n        this.accessFullCalendarAPI();\n        window.addEventListener(\"resize\", this.accessFullCalendarAPI.bind(this));\n        let draggableEl = document.getElementById(\"external-events\");\n        new Draggable(draggableEl, {\n          itemSelector: \".draggable-events\",\n          eventData: (eventEl) => {\n            let title = eventEl.getAttribute(\"title\");\n            let id = eventEl.getAttribute(\"data\");\n            return { title, id };\n          },\n        });\n      } catch (err) {\n        console.log(\"caught err: \", err);\n      }\n    });\n    if (this.state.isMobile) logEvent({ category: categories.schedule, action: actions.viewedMobile });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.setState({ showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n        this.accessFullCalendarAPI();\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", this.accessFullCalendarAPI);\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  // Calendar options\n  accessFullCalendarAPI() {\n    try {\n      this.setState({ isMobile: checkForMobile() });\n\n      let sideSection = document.getElementById(\"external-events\") || null;\n      if (sideSection) sideSection = sideSection.getBoundingClientRect().height; // Subtract music player height from side-section\n\n      let calendar = this.calendarComponentRef.current.getApi();\n      calendar.setOption(\"height\", sideSection); // Shouldn't need to do this, but the calendar css is stuipd\n      calendar.setOption(\"eventColor\", \"#2F2F2F\");\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  renderHeader = (date) => {\n    switch (date.getDay()) {\n      case 1:\n        return \"Monday\";\n      case 2:\n        return \"Tuesday\";\n      case 3:\n        return \"Wednesday\";\n      case 4:\n        return \"Thursday\";\n      case 5:\n        return \"Friday\";\n      case 6:\n        return \"Saturday\";\n      default:\n        return \"Sunday\";\n    }\n  };\n\n  validateEvent = (data) => {\n    if (data.event.start.getDate() !== data.event.end.getDate()) {\n      if (data.event.start.getDate() + 1 === data.event.end.getDate() && data.event.end.getHours() === 0 && data.event.end.getMinutes() === 0) {\n        console.log(\"Same day allowed\");\n      } else {\n        data.revert();\n      }\n    }\n  };\n\n  saveScheduleChanges = () => {\n    const { stationName, stationId, isSaving } = this.state;\n\n    try {\n      this.setState({ isSaving: true }, () => {\n        let calendar = this.calendarComponentRef.current.getApi();\n        let calendarEvents = calendar.getEvents();\n        let companyId = get(this.props, \"user.company._id\", null);\n\n        // Send in the correct format to server\n        let tempStations = [];\n        calendarEvents.forEach((station) => {\n          tempStations.push({\n            start: moment(station.start).format(),\n            end: moment(station.end).format(),\n            day: moment(station.start).format(),\n            title: station.title,\n            stationId: station.id !== null && station.id !== \"\" ? station.id : station.extendedProps.stationId,\n          });\n        });\n\n        this.props.actions.saveSchedule({ companyId, scheduleId: stationId, name: stationName, stations: tempStations }).then(() => {\n          this.setState({ isSaving: false }, () => {\n            logEvent({ category: categories.schedule, action: actions.saveSchedule, label: labels.button });\n            this.props.history.push(\"/schedules\");\n          });\n        });\n      });\n    } catch (err) {\n      logEvent({ category: categories.schedule, value: err, label: labels.error });\n      this.setState({ isSaving: false });\n      console.log(\"caught: \", err);\n    }\n  };\n\n  closeSchedule = () => {\n    logEvent({ category: categories.schedule, action: actions.closeSchedule, label: labels.button });\n    this.props.history.push(\"/schedules\");\n  };\n\n  backToDashboard = () => {\n    logEvent({ category: categories.schedule, action: actions.backToDashboard, label: labels.button });\n    this.props.history.push(\"/nowPlaying\");\n  };\n\n  showErrorMessage() {\n    return (\n      <div className=\"error-div\">\n        <div className=\"title\">Mobile Not Supported</div>\n        <div className=\"subtitle\">Please view this page on desktop.</div>\n        <div className=\"phone\">\n          <FontAwesomeIcon icon={faDesktop} className=\"mobile-icon\" />\n          <FontAwesomeIcon icon={faSmile} className=\"frown-icon\" />\n        </div>\n        <Button className={\"optionButton\"} onClick={() => this.backToDashboard()}>\n          Back to Dashboard\n        </Button>\n      </div>\n    );\n  }\n\n  eventClick(e) {\n    confirm({\n      title: \"Delete this station?\",\n      content: get(e, \"event.title\", \"\") + \": \" + moment(get(e, \"event.start\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.start\", \"\")).format(\"LT\") + \" - \" + moment(get(e, \"event.end\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.end\", \"\")).format(\"LT\"),\n      onOk() {\n        e.event.remove();\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  stationNameUpdate(stationName) {\n    this.setState({ stationName });\n  }\n\n  render() {\n    const { history } = this.props;\n    const { isLoading, playlists, stations, showMusicPlayer, isMobile, stationName, isSaving } = this.state;\n\n    let globalStations = {};\n    let businessTypeStations = {};\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n\n    for (var superset of supersets.global) {\n      globalStations[superset] = [];\n    }\n\n    let businessTypeSuperset = supersets[\"defaultIndividual\"];\n\n    for (var superset of businessTypeSuperset) {\n      businessTypeStations[superset] = [];\n    }\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) {\n            globalStations[playlistSuperset].push(playlist);\n          }\n          if (playlistSuperset in businessTypeStations) {\n            businessTypeStations[playlistSuperset].push(playlist);\n          }\n        }\n      }\n    }\n\n    let categorizedKeys = Object.keys(businessTypeStations);\n    let globalStationKeys = Object.keys(globalStations);\n\n    return (\n      <div className={\"schedulePageWrapper\"}>\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          {isMobile ? (\n            this.showErrorMessage()\n          ) : (\n            <>\n              <div className=\"topRowWrapper\">\n                <div className=\"topRowLeft\">\n                  <div className=\"scheduleNameWrapper\">\n                    <ToggleInput text={stationName} onUpdate={(e) => this.stationNameUpdate(e)} />\n                  </div>\n                  <div className=\"description\"> Drag and Drop Your Stations to Schedule When They Play </div>\n                </div>\n                <div className=\"scheduleButtonGroup\">\n                  <Button className={\"optionButton\"} loading={isSaving} type=\"primary\" onClick={isSaving ? null : () => this.saveScheduleChanges()}>\n                    Save & Close\n                  </Button>\n                  <Button className={\"optionButton\"} onClick={() => this.closeSchedule()}>\n                    Close\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"bottomRowWrapper\" style={{ maxHeight: showMusicPlayer ? \"72vh !important\" : null }}>\n                <div id=\"external-events\" className=\"selectionWrapper\">\n                  <StationVerticalList label={\"Favorites\"} data={favorites} />\n                  {globalStationKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={globalStations[superset]} />\n                  ))}\n                  {categorizedKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={businessTypeStations[superset]} />\n                  ))}\n                  <StationVerticalList label={\"General\"} data={playlists} />\n                  <div className=\"musicSectionWrapper\">\n                    <div className=\"musicSectionHeader\"> Browse More Soundtracks </div>\n                    <div className=\"musicSectionFooter\" onClick={() => history.push(\"/discover\")}>\n                      Discover Music\n                      <FontAwesomeIcon icon={faExternalLinkAlt} className=\"discoverIcon\" />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"calendarWrapper\">\n                  <div className=\"app-calendar noselect\" id=\"mycalendartest\">\n                    <FullCalendar\n                      defaultView=\"timeGridWeek\"\n                      header={false}\n                      defaultDate={\"2020-01-10T00:00:00.000Z\"}\n                      allDayDefault={false}\n                      eventDurationEditable={true}\n                      editable={true}\n                      events={stations}\n                      droppable={true}\n                      plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n                      ref={this.calendarComponentRef}\n                      eventDrop={this.validateEvent}\n                      eventReceive={(data) => {\n                        console.log(\"data: \", { ...data });\n                      }}\n                      slotDuration={\"00:30\"} // duration of slot interval\n                      eventClick={(e) => this.eventClick(e)}\n                      startRecur={Date.now()}\n                      allDaySlot={false}\n                      eventOverlap={false}\n                      columnHeaderText={this.renderHeader}\n                      eventResize={this.validateEvent}\n                      forceEventDuration={true}\n                    />\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getDiscoverPulicStations,\n        saveSchedule,\n        getSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n    schedules: state.schedules,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSchedule));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Animated } from \"react-animated-css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faTrash } from \"@fortawesome/pro-solid-svg-icons\";\nimport { assignSchedule, deleteSchedule, setSnackbarMessage } from \"../../actions\";\nimport AntSpinner from \"../antSpinner\";\nimport { get } from \"lodash\";\nimport { Spin, Modal } from \"antd\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass ScheduleBlock extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hidden: true,\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    const { wait } = this.props;\n\n    let timeout = setTimeout(() => {\n      this.setState({ hidden: false });\n      clearTimeout(timeout);\n    }, wait);\n  }\n\n  assignSchedule = (e) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      let companyId = get(this.props, \"data.company._id\", null);\n      let scheduleId = get(this.props, \"data._id\", null);\n\n      this.props.actions.assignSchedule({ companyId, scheduleId }).then((res) => {\n        if (res) {\n          this.setState({ isLoading: false });\n          this.props.history.push(\"/nowPlaying\", { isBack: true });\n        } else this.props.actions.setSnackbarMessage({ message: \"Error while assigning station\", type: \"error\" });\n      });\n    });\n  };\n\n  deleteSchedule = ({ e, data, props, callback }) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      confirm({\n        title: \"Delete Schedule?\",\n        content: get(data, \"name\", \"\"),\n        onOk() {\n          let companyId = get(props, \"data.company._id\", null);\n          let scheduleId = get(props, \"data._id\", null);\n\n          props.actions.deleteSchedule({ companyId, scheduleId }).then((res) => {\n            if (!res) {\n              callback();\n              props.actions.setSnackbarMessage({ message: \"Error while deleting station\", type: \"error\" });\n            }\n          });\n        },\n        onCancel() {\n          callback();\n        },\n      });\n    });\n  };\n\n  stopLoading() {\n    this.setState({ isLoading: false });\n  }\n\n  render() {\n    const { data, onClick } = this.props;\n    const { hidden, isLoading } = this.state;\n    let hasData = get(data, \"stations\", []).length > 0;\n\n    return (\n      <>\n        {!hidden && (\n          <Animated animationIn=\"fadeIn\" isVisible={true}>\n            <Spin indicator={AntSpinner} spinning={isLoading}>\n              <div key={data._id} className=\"scheduleBlock\" style={{ backgroundColor: \"#eee\" }} onClick={() => onClick(data._id)}>\n                <div className={\"schedule-icon-row\"}></div>\n                <div className={\"schedule-text-wrapper\"} style={{ flex: 1 }}>\n                  <div className=\"schedule-text\">{get(data, \"name\", \"\")}</div>\n                </div>\n                <div className={\"schedule-icon-row\"}>\n                  {hasData && (\n                    <div className=\"schedule-icon\" onClick={(e) => this.assignSchedule(e)}>\n                      <FontAwesomeIcon icon={faPlay} className=\"icon\" />\n                    </div>\n                  )}\n                  <div className=\"schedule-icon\" onClick={(e) => this.deleteSchedule({ e, data, props: this.props, callback: () => this.stopLoading() })}>\n                    <FontAwesomeIcon icon={faTrash} className=\"icon\" />\n                  </div>\n                </div>\n              </div>\n            </Spin>\n          </Animated>\n        )}\n      </>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ assignSchedule, deleteSchedule, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    stations: state.stations.data,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ScheduleBlock));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMyPlaylists, editSchedule, createSchedule } from \"../../actions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport ScheduleBlock from \"../../components/scheduleBlock\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport PageTitle from \"../../components/page-title\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\n\nclass Schedules extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      creatingSchedule: false,\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n    this.getAllLocations();\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/schedules), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      console.log(\"update props: \", this.props);\n      this.getAllLocations();\n    }\n  }\n\n  getAllLocations = () => {\n    let companyId = get(this.props, \"user.company._id\", \"\");\n    this.props.actions.getMyPlaylists({ companyId }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  };\n\n  createNewSchedule() {\n    this.setState({ creatingSchedule: true }, () => {\n      let companyId = get(this.props, \"user.company._id\", \"\");\n      this.props.actions.createSchedule(companyId).then((res) => {\n        logEvent({ category: categories.schedule, action: actions.createSchedule });\n        let id = get(res, \"data._id\", null);\n        this.props.history.push(`/createSchedule/${id}`);\n      });\n    });\n  }\n\n  editSchedule(id) {\n    logEvent({ category: categories.schedule, action: actions.createSchedule, value: id });\n    this.props.history.push(`/createSchedule/${id}`);\n  }\n\n  render() {\n    const { playlists } = this.props;\n    const { isLoading, creatingSchedule } = this.state;\n\n    return (\n      <div className=\"scheduleWrapper\">\n        <PageTitle\n          title={\n            <span>\n              Your <span style={{ color: \"#D04283\" }}>Schedules</span>\n            </span>\n          }\n          subtitle={\"Schedule out your stations for the whole week!\"}\n        />\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          <div className=\"scheduleBlockWrapper noselect\">\n            <div className=\"newSchedule\" onClick={() => (!creatingSchedule ? this.createNewSchedule() : null)}>\n              <div className=\"plusCircle\">\n                <FontAwesomeIcon icon={faPlus} className=\"icon\" />\n              </div>\n              <div className=\"newScheduleText\">Create Schedule</div>\n            </div>\n\n            {get(playlists, \"schedules\", []).map((elem, i) => (\n              <ScheduleBlock key={get(elem, \"_id\", elem)} wait={i * 300} data={elem} onClick={(id) => this.editSchedule(id)} />\n            ))}\n          </div>\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getMyPlaylists,\n        editSchedule,\n        createSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Schedules));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Select, Modal } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies } from \"../../constants\";\nimport { faTimes } from \"@fortawesome/pro-light-svg-icons\";\nimport { faVolume, faEdit } from \"@fortawesome/pro-solid-svg-icons\";\nimport { deleteMessage, updateFrequency, getMessages } from \"../../actions\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\nconst { Option } = Select;\n\nclass MessageCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messageData: this.props.message,\n    };\n  }\n\n  // Updates the message frequency\n  updateMessageFrequency({ e, messageData, user }) {\n    this.setState({ messageData: { ...messageData, frequency: e } }, () => {\n      this.props.actions.updateFrequency({ companyId: get(user, \"company._id\"), locationId: get(this.props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\"), frequency: e }).then((res) => {\n        if (res) this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") });\n      });\n    });\n  }\n\n  // Allows user to edit a message settings\n  editMessage({ user, messageData, props }) {\n    props.history.push(\"/createInStoreMessaging\", { ...messageData, locationId: get(this.props, \"myLocation._id\", \"\") });\n  }\n\n  // Prompts user to delete a message\n  delete({ user, messageData, props }) {\n    confirm({\n      title: \"Delete Message?\",\n      content: get(messageData, \"title\", \"\") + \": \" + get(messageData, \"message\", \"\"),\n      onOk() {\n        props.actions.deleteMessage({ companyId: get(user, \"company._id\"), locationId: get(props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\") }).then((res) => {\n          if (res) props.actions.getMessages({ companyId: get(props, \"user.company._id\"), locationId: get(props, \"myLocation._id\", \"\") });\n        });\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  render() {\n    const { message, user, setPreviewUrl, myLocation } = this.props;\n    const { messageData } = this.state;\n\n    return (\n      <div className=\"messageCard\">\n        <div className=\"messageCardheader\">\n          <FontAwesomeIcon icon={faVolume} className={\"messageCardPreview\"} style={{ marginRight: \"10px\" }} onClick={() => setPreviewUrl(get(messageData, \"url\", \"\"))} />\n          <div className={\"messageTitle\"}> {get(messageData, \"title\", \"\")} </div>\n          <FontAwesomeIcon icon={faEdit} className={\"icon\"} style={{ marginLeft: \"10px\" }} onClick={() => this.editMessage({ user, messageData, props: this.props })} />\n          <FontAwesomeIcon icon={faTimes} className={\"icon\"} style={{ marginLeft: \"10px\" }} onClick={() => this.delete({ user, messageData, props: this.props })} />\n        </div>\n        <Select\n          defaultValue={get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")}\n          onChange={(e) => {\n            this.updateMessageFrequency({ e, messageData, user });\n          }}\n        >\n          {frequencies.map((frequency, i) => (\n            <Option key={get(frequency, \"time\", i)} value={get(frequency, \"time\", \"60\")}>\n              {get(frequency, \"title\", \"Error\")}\n            </Option>\n          ))}\n        </Select>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ deleteMessage, updateFrequency, getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(MessageCard));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMessages } from \"../../actions\";\nimport { Button, Spin } from \"antd\";\nimport { get, isEqual } from \"lodash\";\nimport PageTitle from \"../../components/page-title\";\nimport MessageCard from \"../../components/messageCard\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/pro-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass InStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPlaying: false,\n      previewTrackUrl: null,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/inStoreMessaging), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then(() => {\n        this.setState({ isLoading: false });\n      });\n    }\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      this.rap.audioEl.play();\n    });\n  }\n\n  setPreviewUrl(e) {\n    this.setState({ previewTrackUrl: e });\n  }\n\n  render() {\n    const { user, inStoreMessaging, myLocation } = this.props;\n    const { previewTrackUrl, isLoading } = this.state;\n\n    let activeMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) > 0);\n    let inactiveMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) === 0);\n\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          title={\n            <span>\n              In-Store <span style={{ color: \"#D04283\" }}> Messages </span>\n            </span>\n          }\n          subtitle=\"Custom announcements to help drive customer action\"\n        />\n        <div className=\"centerMessages\">\n          <div className=\"viewMessagesContainer\">\n            <div>\n              <div style={{ display: \"none\" }}>\n                <ReactAudioPlayer\n                  ref={(element) => {\n                    this.rap = element;\n                  }}\n                  src={previewTrackUrl}\n                  autoPlay={false}\n                  controls={false}\n                  muted={false}\n                  volume={1}\n                  onCanPlay={() => this.playTrack()}\n                  onEnded={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                  onError={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                />\n              </div>\n\n              <Spin indicator={AntSpinner} spinning={isLoading}>\n                {activeMessages.length > 0 || inactiveMessages.length > 0 ? (\n                  <>\n                    <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                      <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                      Create New Message\n                    </Button>\n\n                    {activeMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Active Messages </div>\n                        {activeMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n\n                    {inactiveMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Inactive Messages </div>\n                        {inactiveMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n                  </>\n                ) : (\n                  <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                    <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                    Create Your First Message\n                  </Button>\n                )}\n              </Spin>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    inStoreMessaging: state.inStoreMessaging,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(InStoreMessaging));\n","import { faAngleRight } from \"@fortawesome/pro-regular-svg-icons\";\nimport { faCreditCard, faLockAlt, faStoreAlt, faUser } from \"@fortawesome/pro-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Divider } from \"antd\";\nimport React, { useState } from \"react\";\nimport { Link, matchPath, withRouter } from \"react-router-dom\";\nimport \"./index.scss\";\n\nconst SettingPanel = ({ match }) => {\n  const [state, setState] = useState({\n    user: false,\n    business: false,\n    payment: false,\n    security: false,\n  });\n\n  return (\n    <div className=\"setting-panel\">\n      <div className={\"menu-row\"}>\n        <Link\n          to=\"/settings/user\"\n          className={`menu-item ${match.params.setting === \"user\" ? \"active\" : null}`}\n          onMouseEnter={() => {\n            setState({ user: true });\n          }}\n          onMouseLeave={() => {\n            setState({ user: false });\n          }}\n        >\n          <div className={\"menu-icon\"}>\n            <FontAwesomeIcon icon={faUser} />\n          </div>\n          <div className=\"option-text\">Edit User</div>\n          {(match.params.setting === \"user\" || state.user) && (\n            <div className={\"hover-arrow\"}>\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\n            </div>\n          )}\n        </Link>\n      </div>\n      <Divider />\n\n      <div className={\"menu-row\"}>\n        <Link\n          to=\"/settings/business\"\n          className={`menu-item ${match.params.setting === \"business\" ? \"active\" : null}`}\n          onMouseEnter={() => {\n            setState({ business: true });\n          }}\n          onMouseLeave={() => {\n            setState({ business: false });\n          }}\n        >\n          <div className={\"menu-icon\"}>\n            <FontAwesomeIcon icon={faStoreAlt} />\n          </div>\n          <div className=\"option-text\">Edit Business</div>\n          {(match.params.setting === \"business\" || state.business) && (\n            <div className={\"hover-arrow\"}>\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\n            </div>\n          )}\n        </Link>\n      </div>\n\n      <Divider />\n\n      <div className={\"menu-row\"}>\n        <Link\n          to=\"/settings/payment\"\n          className={`menu-item ${match.params.setting === \"payment\" ? \"active\" : null}`}\n          onMouseEnter={() => {\n            setState({ payment: true });\n          }}\n          onMouseLeave={() => {\n            setState({ payment: false });\n          }}\n        >\n          <div className={\"menu-icon\"}>\n            <FontAwesomeIcon icon={faCreditCard} />\n          </div>\n          <div className=\"option-text\">Payment</div>\n          {(match.params.setting === \"payment\" || state.payment) && (\n            <div className={\"hover-arrow\"}>\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\n            </div>\n          )}\n        </Link>\n      </div>\n\n      <Divider />\n\n      <div className={\"menu-row\"}>\n        <Link\n          to=\"/settings/security\"\n          className={`menu-item ${match.params.setting === \"security\" ? \"active\" : null}`}\n          onMouseOver={() => {\n            setState({ security: true });\n          }}\n          onMouseOut={() => {\n            setState({ security: false });\n          }}\n        >\n          <div className={\"menu-icon\"}>\n            <FontAwesomeIcon icon={faLockAlt} />\n          </div>\n          <div className=\"option-text\">Password & Security</div>\n          {(match.params.setting === \"security\" || state.security) && (\n            <div className={\"hover-arrow\"}>\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\n            </div>\n          )}\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(SettingPanel);\n","import React from \"react\";\nimport \"./index.scss\";\n\nconst CustomInput = ({ placeholder = null, type = \"text\", label = \"default label\", name, onChange }) => {\n  return (\n    <div className=\"inputContainer\">\n      <div className=\"inputLabel\">{label}</div>\n      <div className=\"inputWrapper\">\n        <input placeholder={placeholder} type={type} name={name} className=\"inputBox\" onChange={onChange} />\n      </div>\n    </div>\n  );\n};\n\nexport default CustomInput;\n","import { message } from \"antd\";\nimport { get } from \"lodash\";\nimport { HTTP } from \"../configs/api\";\nimport { auth0setLogin } from \"./auth\";\nimport { setLocation, setUser } from \"./dispatch\";\n\nexport function addSubscription(data) {\n  return async (dispatch) => {\n    return new Promise((resolve, reject) => {\n      HTTP(\"post\", \"/auth/subscription/\", data)\n        .then((response) => {\n          console.log(response.data);\n          dispatch(auth0setLogin());\n          // dispatch(setLocation(response.data.data.updatedLocation));\n          // dispatch(setUser(response.data.data.updatedUser));\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n          message.error(get(error, \"response.message\", \"Could not add the subscription\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function cancelSubscription(data) {\n  return async (dispatch) => {\n    return new Promise((resolve, reject) => {\n      HTTP(\"post\", \"/auth/cancelSubscription\", data)\n        .then((response) => {\n          console.log(response.data);\n          //dispatching set location to update the location\n          dispatch(setLocation(response.data.data.updatedLocation));\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n          message.error(get(error, \"response.message\", \"Could not cancel the subscription\"));\n          reject(error);\n        });\n    });\n  };\n}\n\nexport function fetchCardDetails(data) {\n  return async (dispatch) => {\n    return new Promise((resolve, reject) => {\n      HTTP(\"post\", \"/auth/fetchCardDetails\", data)\n        .then((response) => {\n          return resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n          message.error(get(error, \"response.message\", \"Could not fetch the card details\"));\n          reject(error);\n        });\n    });\n  };\n}\n","import { Button, notification } from \"antd\";\nimport React, { useState } from \"react\";\nimport CustomInput from \"../custom-input\";\nimport { useStripe, useElements, CardNumberElement, CardExpiryElement, CardCvcElement } from \"@stripe/react-stripe-js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addSubscription } from \"../../actions/payments\";\nimport \"./index.scss\";\n\nconst PaymentForm = ({ toggle }) => {\n  const state = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n  const { user, location } = state;\n  const stripe = useStripe();\n  const elements = useElements();\n  const [enterLoading, setEnterLoading] = useState(false);\n  const [cardBillingDetails, setCardBillingDetails] = useState({\n    nameOnCard: \"\",\n    city: \"\",\n    postal_code: \"\",\n    line1: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCardBillingDetails({ ...cardBillingDetails, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: elements.getElement(CardNumberElement, CardExpiryElement, CardCvcElement),\n\n      billing_details: {\n        email: user.email,\n        name: cardBillingDetails.nameOnCard,\n        phone: user.company.phoneNumber,\n        address: { city: cardBillingDetails.city, postal_code: cardBillingDetails.postal_code, line1: cardBillingDetails.line1 },\n      },\n    });\n    if (error) {\n      console.log(error);\n      notification.error({\n        message: `Information Incomplete`,\n        description: error.message,\n        placement: \"bottomLeft\",\n      });\n      setEnterLoading(false);\n    } else {\n      //dispatching addSubscription action\n      const response = await dispatch(addSubscription({ payment_method: paymentMethod.id, email: user.email, location }));\n      if (response.success !== true) {\n        setEnterLoading(false);\n        notification.error({\n          message: \"Payment Error\",\n          description: \"Something went wrong with your payment\",\n          placement: \"bottomLeft\",\n        });\n      }\n    }\n  };\n\n  const cardNumberElementOptions = {\n    showIcon: false,\n    iconStyle: \"solid\",\n    style: {\n      base: {\n        \"fontFamily\": '\"Helvetica Neue\", Helvetica, sans-serif',\n        \"fontSmoothing\": \"antialiased\",\n        \"fontSize\": \"16px\",\n        \"position\": \"relative\",\n        \"::placeholder\": {\n          color: \"transparent\",\n        },\n      },\n    },\n  };\n\n  const cardCvcAndExpElementOptions = {\n    style: {\n      base: {\n        \"fontFamily\": '\"Helvetica Neue\", Helvetica, sans-serif',\n        \"fontSmoothing\": \"antialiased\",\n        \"fontSize\": \"16px\",\n        \"::placeholder\": {\n          color: \"transparent\",\n        },\n      },\n    },\n  };\n  return (\n    <>\n      {toggle ? (\n        <div className=\"bottom-section\">\n          <div className=\"payment-method\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"card-details\">\n                <div className=\"cardElementContainer\">\n                  <div className=\"cardLabel\">Card Number</div>\n                  <CardNumberElement options={cardNumberElementOptions} />\n                </div>\n                <div className=\"cardCvcAndExpElementOptions\">\n                  <div className=\"cardLabel\">Expiration</div>\n                  <CardExpiryElement options={cardCvcAndExpElementOptions} />\n                </div>\n                <div className=\"cardCvcAndExpElementOptions\">\n                  <div className=\"cardLabel\">CVC</div>\n                  <CardCvcElement options={cardCvcAndExpElementOptions} />\n                </div>\n              </div>\n              <div className=\"billing-details\">\n                <CustomInput type=\"text\" name=\"nameOnCard\" label=\"Name on Card\" onChange={handleChange} />\n                <CustomInput type=\"text\" name=\"line1\" label=\"Street Address\" onChange={handleChange} />\n              </div>\n              <div className=\"location-details\">\n                <CustomInput type=\"text\" name=\"city\" label=\"City\" onChange={handleChange} />\n                <CustomInput type=\"number\" name=\"postal_code\" label=\"Zip Code\" onChange={handleChange} />\n              </div>\n              <Button type=\"primary\" size=\"large\" htmlType=\"submit\" className=\"activate-button\" disabled={!stripe} loading={enterLoading} onClick={() => setEnterLoading(true)}>\n                Activate\n              </Button>\n            </form>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default PaymentForm;\n","import { Button, Form, Modal, notification, Radio, Skeleton } from \"antd\";\nimport React from \"react\";\n\n//card svg imports\nimport creditcard from \"../../common/assets/images/credit-card.svg\";\nimport visa from \"../../common/assets/images/visa.svg\";\nimport amex from \"../../common/assets/images/amex.svg\";\nimport mastercard from \"../../common/assets/images/mastercard.svg\";\n\nimport { connect } from \"react-redux\";\nimport \"./index.scss\";\nimport { cancelSubscription, fetchCardDetails } from \"../../actions/payments\";\nclass ActivatedSubscription extends React.Component {\n  state = {\n    cardDetails: null,\n    otherResposeDetails: null,\n    subscriptionData: null,\n    expDate: null,\n    enterLoading: false,\n    visible: false,\n    formButton: false,\n    reason: null,\n  };\n\n  fetchCardDetails = async () => {\n    const { fetchCardDetails } = this.props;\n\n    const response = await fetchCardDetails({ stripeCustomer: this.props.user?.stripeCustomer });\n    if (response.success === true) {\n      const myDate = new Date(response.data.customer.subscriptions.data[0]?.current_period_end * 1000);\n      const expDate = myDate.toDateString();\n      this.setState({ cardDetails: response.data[0].card, otherResposeDetails: response.data, subscriptionData: response.data.customer.subscriptions.data[0], expDate: expDate });\n    } else {\n      notification.error({\n        message: \"Fetching card details failed!\",\n        description: \"fetching card details from server failed\",\n        placement: \"bottomLeft\",\n      });\n    }\n  };\n\n  async componentDidMount() {\n    this.fetchCardDetails();\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    this.setState({ visible: true });\n  };\n\n  renderSwitch(param) {\n    switch (param) {\n      case \"visa\":\n        return visa;\n      case \"amex\":\n        return amex;\n      case \"mastercard\":\n        return mastercard;\n      default:\n        return creditcard;\n    }\n  }\n\n  render() {\n    const { cardDetails, expDate, enterLoading } = this.state;\n    const { toggle } = this.props;\n    return toggle ? (\n      <div className=\"cancelView active\">\n        <h3 style={{ color: \"white\", fontWeight: \"bolder\" }}>Payment</h3> <br />\n        {!cardDetails ? (\n          <Skeleton active />\n        ) : (\n          <>\n            <div className=\"text-content\">\n              <p>Your Premium plan will renew on {expDate}.</p>\n              <p>You will be charged $15.99</p>\n            </div>\n            <div className=\"cardDetails\">\n              <div className=\"cardLogo\">\n                <img src={this.renderSwitch(cardDetails?.brand.toLowerCase())} alt=\"...\" height=\"50\" width=\"50\" />\n              </div>\n              <div className=\"cardInfo\">\n                <p>\n                  {cardDetails?.brand.toUpperCase()} **** {cardDetails?.last4}\n                </p>\n                <p>\n                  Expires: {cardDetails?.exp_month}/{cardDetails?.exp_year}\n                </p>\n              </div>\n            </div>\n          </>\n        )}\n        <form onSubmit={this.handleSubmit}>\n          <Button type=\"secondary\" style={{ float: \"right\" }} htmlType=\"submit\" loading={enterLoading} onClick={() => this.setState({ enterLoading: true })}>\n            Cancel this Subscription\n          </Button>\n        </form>\n        <Modal\n          title=\"Are you sure ?\"\n          visible={this.state.visible}\n          centered\n          onOk={async () => {\n            if (this.state.reason !== null) {\n              this.setState({ enterLoading: false, formButton: true });\n              const { location, cancelSubscription } = this.props;\n\n              const response = await cancelSubscription({ subId: location.subscription.stripeSubscription, location: location, reason: this.state.reason });\n              if (response.success !== true) {\n                notification.error({\n                  message: \"Something went wrong\",\n                  description: \"Something went wrong when cancelling the payment\",\n                  placement: \"bottomLeft\",\n                });\n                this.setState({ formButton: false });\n              }\n              console.log(this.state.reason);\n            } else {\n              notification.error({\n                message: \"Please Select a reason\",\n                description: \"Please Select a reason before cancelling the subscription\",\n                placement: \"bottomLeft\",\n              });\n            }\n          }}\n          onCancel={() => {\n            this.setState({ enterLoading: false, visible: false });\n          }}\n          okButtonProps={{ loading: this.state.formButton }}\n          okText=\"Yes, Cancel Subscription\"\n        >\n          {/* <h3 style={{ marginBottom: \"40px\" }}>I hope this isn't goodbye!</h3> */}\n          {/* <h3 >Just so we know, why did you cancel?</h3> */}\n          <Form className=\"modalForm\">\n            <Form.Item label=\"Just so we know, why did you cancel?\">\n              <Radio.Group\n                onChange={(e) => {\n                  this.setState({ reason: e.target.value });\n                }}\n                className=\"radioGroup\"\n              >\n                <Radio className=\"radioBtn\" value=\"Too expensive\">\n                  Too expensive\n                </Radio>\n                <Radio className=\"radioBtn\" value=\"Not enough product offering\">\n                  Not enough product offering\n                </Radio>\n                <Radio className=\"radioBtn\" value=\"I don't mind ads\">\n                  I don't mind ads\n                </Radio>\n                <Radio className=\"radioBtn\" value=\"Still planning on using Ambii, but the free tier\">\n                  Still planning on using Ambii, but the free tier\n                </Radio>\n              </Radio.Group>\n            </Form.Item>\n          </Form>\n        </Modal>\n      </div>\n    ) : null;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.auth.user,\n    location: state.auth.location,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  cancelSubscription: (data) => dispatch(cancelSubscription(data)),\n  fetchCardDetails: (data) => dispatch(fetchCardDetails(data)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivatedSubscription);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport { getMessages } from \"../../actions\";\nimport { Button, Spin } from \"antd\";\nimport { get } from \"lodash\";\nimport PageTitle from \"../../components/page-title\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport SettingPanel from \"../../components/setting_panel\";\nimport PaymentForm from \"../../components/payment-form\";\nimport ActivatedSubscription from \"../../components/activatedSubscription\";\nimport CustomInput from \"../../components/custom-input\";\nimport \"./index.scss\";\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      formToggle: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  }\n\n  renderSwitch(param) {\n    const { myLocation } = this.props;\n    switch (param) {\n      case \"payment\":\n        return (\n          <div className=\"contentView\">\n            <div className=\"top-section\">\n              <h1 style={{ padding: \"0px 20px\" }}>Plan</h1>\n              <div className=\"contentWrapper\">\n                <div className={`content ${myLocation?.subscription?.subscribed !== true ? \"active\" : null}`}>\n                  <div className=\"left-section\">\n                    <h1>Free</h1>\n                    {myLocation?.subscription?.subscribed !== true ? <p>current plan</p> : <p>ambii service with ads</p>}\n                  </div>\n                  <div className=\"right-section\">\n                    <span style={{ fontSize: 18 }}>$0/mo</span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"contentWrapper\">\n                <div className={`content ${myLocation?.subscription?.subscribed === true ? \"active\" : null} ${this.state.formToggle ? \"removeBorderRadius\" : null}`}>\n                  <div className=\"left-section\">\n                    <h1>Premium</h1>\n                    {myLocation?.subscription?.subscribed === true ? <p>current plan</p> : <p>activate for an ad-free experience</p>}\n                  </div>\n                  <div className=\"right-section\">\n                    <span style={{ fontSize: 18 }}>$15.99/mo</span>\n                    <Button\n                      type={myLocation?.subscription?.subscribed !== true ? \"primary\" : \"secondary\"}\n                      onClick={() => {\n                        this.setState({ formToggle: !this.state.formToggle });\n                      }}\n                    >\n                      Select\n                    </Button>\n                  </div>\n                </div>\n                {myLocation?.subscription?.subscribed !== true ? <PaymentForm toggle={this.state.formToggle} /> : <ActivatedSubscription toggle={this.state.formToggle} />}\n              </div>\n            </div>\n          </div>\n        );\n\n      case \"business\":\n        return (\n          <>\n            <h1>Business</h1>\n          </>\n        );\n\n      case \"user\":\n        return (\n          <div className=\"contentView\">\n            <div className=\"userDetailsWrapper\">\n              <h1 className=\"userSettingsHeading\">User Details</h1>\n              <div className=\"inputsWrapper\">\n                <CustomInput label=\"First Name\" />\n                <CustomInput label=\"Last Name\" />\n                <CustomInput label=\"Email\" />\n                <CustomInput label=\"Phone no.\" />\n              </div>\n              <Button type=\"primary\" size=\"large\" style={{ float: \"left\", width: \"20%\" }}>\n                Save\n              </Button>\n            </div>\n          </div>\n        );\n\n      case \"security\":\n        return <h1>Security</h1>;\n\n      default:\n        return <Redirect to=\"/settings/user\"></Redirect>;\n    }\n  }\n\n  render() {\n    const { user, match } = this.props;\n\n    const { isLoading } = this.state;\n    return !user ? (\n      <div className=\"settingsWrapper\">\n        <div className=\"headerWrapper\">\n          <PageTitle\n            title={\n              <span>\n                User <span style={{ color: \"#D04283\" }}> Settings </span>\n              </span>\n            }\n            subtitle=\"Change your information here\"\n          />\n        </div>\n        <Spin indicator={AntSpinner} spinning={isLoading}></Spin>\n      </div>\n    ) : (\n      <div className=\"settingsWrapper\">\n        <div className=\"headerWrapper\">\n          <PageTitle\n            title={\n              <span>\n                User <span style={{ color: \"#D04283\" }}> Settings </span>\n              </span>\n            }\n            subtitle=\"Change your information here\"\n          />\n        </div>\n        <div className=\"settingsView\">\n          <div className=\"settingPanel\">\n            <SettingPanel />\n          </div>\n\n          {this.renderSwitch(match.params.setting)}\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Settings));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { createPreviewMessage, editMessage, createMessage, getVoiceOptions, setSnackbarNotification, setSnackbarMessage } from \"../../actions\";\nimport { Button, Input, Select } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies, full_language_names, proper_voice_name } from \"../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faVolume, faPlusCircle, faEdit } from \"@fortawesome/pro-solid-svg-icons\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport PageTitle from \"../../components/page-title\";\nimport md5 from \"md5\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\nconst { TextArea } = Input;\nconst ButtonGroup = Button.Group;\n\nclass CreateInStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\",\n      title: \"\",\n      language: \"English (US)\",\n      languageCode: \"en-US\",\n      voice: \"en-US-Wavenet-A\",\n      frequency: \"30\",\n      speed: 1.0,\n      voiceOptions: {},\n      sortedLanguageArray: [],\n      editingExistingMessage: false, // Are we editing an existing ISM\n      isSaving: false, // Are we currently saving an ISM\n      previewMessageUrl: \"\", // Track URL to play (voice)\n      isPlaying: false, // Are we currently playing a track (voice)\n      isPreviewing: false, // Are we currently previewing a messaging\n      postPreviewChanges: false, // Have any changes been made since we previewed\n      savedPreviews: {},\n    };\n  }\n\n  componentDidMount() {\n    let locallySavedPreviews = JSON.parse(localStorage.getItem(\"savedISMPreviews\"));\n\n    this.props.actions.getVoiceOptions().then((voiceOptions) => {\n      if (get(this.props, \"location.state._id\", null)) {\n        let data = get(this.props, \"location.state\", {});\n        this.setState({ voiceOptions, title: get(data, \"title\", \"\"), message: get(data, \"message\", \"\"), language: full_language_names[get(data, \"language\", \"\")], languageCode: get(data, \"language\", \"\"), voice: get(data, \"voice\", \"\"), speed: get(data, \"speed\", 1.0), frequency: get(data, \"frequency[\" + get(data, \"locationId\", \"\") + \"]\", \"\"), editingExistingMessage: true, sortedLanguageArray: Object.keys(voiceOptions).sort(), savedPreviews: locallySavedPreviews || {} });\n      } else this.setState({ voiceOptions, speed: 1, sortedLanguageArray: Object.keys(voiceOptions).sort(), savedPreviews: locallySavedPreviews || {} });\n    });\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      this.rap.audioEl.play();\n    });\n  }\n\n  setPreviewUrl(e) {\n    console.log(\"hit setPreviewUrl\");\n    this.setState({ previewMessageUrl: e });\n  }\n\n  renderLanguageOptions() {\n    const { sortedLanguageArray } = this.state;\n    return sortedLanguageArray.map((language) => <Option key={language}> {language} </Option>);\n  }\n\n  renderVoiceOptions() {\n    const { language, voiceOptions } = this.state;\n    if (!language) return;\n    else {\n      let voiceOptionList = Object.keys(voiceOptions).length > 0 ? voiceOptions[language] : [];\n      voiceOptionList.sort((a, b) => (proper_voice_name[a[\"simpleName\"]] > proper_voice_name[b[\"simpleName\"]] ? 1 : -1));\n      return voiceOptionList.map((voice) => (\n        <Option key={voice[\"name\"]} parent={voice[\"parent\"]}>\n          {proper_voice_name[voice[\"simpleName\"]] || voice[\"simpleName\"]}\n        </Option>\n      ));\n    }\n  }\n\n  // Checks if hash already exists. If so, returns the hash.\n  checkIfHashExists() {\n    const { savedPreviews } = this.state;\n    let hash = this.getMessageHash();\n    let hashExists = savedPreviews[hash];\n    if (hashExists) return hash;\n    else return false;\n  }\n\n  // Creates the MD5 hash for the current message settings\n  getMessageHash() {\n    const { title, message, languageCode, voice, speed, frequency } = this.state;\n    let hash = md5(title.concat(message).concat(languageCode).concat(voice).concat(speed).concat(frequency));\n    return hash;\n  }\n\n  // Creates a disposable preview MP3 we can play\n  previewMessage() {\n    const { message, languageCode, voice, speed } = this.state;\n\n    if (this.checkIfValidISM() && !this.state.isPreviewing) {\n      // Create a hash based off the current message config\n      let hash = this.getMessageHash();\n\n      if (!this.checkIfHashExists()) {\n        this.setState({ isPreviewing: true }, () => {\n          this.props.actions.createPreviewMessage({ voice, language: languageCode, message, speed, hash }).then((res) => {\n            if (res) {\n              let previewMessageUrl = get(res, \"data\", \"\");\n              this.setState({ previewMessageUrl, isPreviewing: false, savedPreviews: { ...this.state.savedPreviews, [hash]: previewMessageUrl } }, () => {\n                localStorage.setItem(\"savedISMPreviews\", JSON.stringify(this.state.savedPreviews)); // Save to local storage in case of page-reload\n                this.playTrack();\n              });\n            } else this.onFailure(\"There was an error when creating your preview file\");\n          });\n        });\n      } else {\n        this.setState({ previewMessageUrl: this.state.savedPreviews[hash], isPreviewing: false }, () => {\n          this.playTrack();\n        });\n      }\n    }\n  }\n\n  // Attempts to create an ISM\n  saveMessage() {\n    const { savedPreviews, editingExistingMessage, title, message, languageCode, voice, speed, frequency } = this.state;\n\n    if (this.checkIfValidISM() && !this.state.isSaving) {\n      this.setState({ isSaving: true }, () => {\n        if (editingExistingMessage) {\n          // Editing an existing ISM\n          this.props.actions.editMessage({ companyId: get(this.props, \"user.company._id\", \"\"), locationId: get(this.props, \"myLocation._id\", \"\"), messageId: get(this.props, \"location.state._id\", \"\"), title, voice, language: languageCode, message, speed, frequency, savedPreviews, hash: this.checkIfHashExists() }).then((res) => {\n            if (res) this.onSuccess();\n            else this.onFailure();\n          });\n        } else {\n          // Creating a new ISM\n          this.props.actions.createMessage({ companyId: get(this.props, \"user.company._id\", \"\"), locationId: get(this.props, \"myLocation._id\", \"\"), title, voice, language: languageCode, message, speed, frequency, savedPreviews, hash: this.checkIfHashExists() }).then((res) => {\n            if (res) this.onSuccess();\n            else this.onFailure();\n          });\n        }\n      });\n    }\n  }\n\n  // General fail message if message fails\n  onSuccess(msg) {\n    const { setSnackbarMessage } = this.props.actions;\n    this.setState({ isSaving: false }, () => {\n      setSnackbarMessage({ message: msg || \"Successfully saved message\", type: \"success\" });\n      localStorage.removeItem(\"savedISMPreviews\"); // Remove any existing savedPreviews from local storage\n      this.props.history.push(\"/inStoreMessaging\");\n    });\n  }\n\n  // General fail message if message fails\n  onFailure(msg) {\n    const { setSnackbarMessage } = this.props.actions;\n    this.setState({ isSaving: false }, () => {\n      setSnackbarMessage({ message: msg || \"There was an error when saving your message\", type: \"error\" });\n    });\n  }\n\n  // Checks to see if each ISM field is valid. Otherwise, returns a field-specific error\n  checkIfValidISM() {\n    const { setSnackbarMessage } = this.props.actions;\n    const { title, message, language, voice, frequency, speed } = this.state;\n\n    if (!title) {\n      setSnackbarMessage({ message: \"Please add a title to your message\", type: \"warn\" });\n      return false;\n    }\n    if (!message || message.length < 10) {\n      setSnackbarMessage({ message: \"Please add a longer message\", type: \"warn\" });\n      return false;\n    }\n    if (!language) {\n      setSnackbarMessage({ message: \"Please select a language\", type: \"warn\" });\n      return false;\n    }\n    if (!voice) {\n      setSnackbarMessage({ message: \"Please select a voice\", type: \"warn\" });\n      return false;\n    }\n    if (!frequency) {\n      setSnackbarMessage({ message: \"Please select a frequency\", type: \"warn\" });\n      return false;\n    }\n    if (!speed) {\n      setSnackbarMessage({ message: \"Please select a speed\", type: \"warn\" });\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    const { editingExistingMessage, isSaving, isPreviewing, language, voice, frequency, message, title, speed, previewMessageUrl } = this.state;\n\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          backArrow\n          backArrowPress={() => this.props.history.push(\"/inStoreMessaging\")}\n          title={\n            editingExistingMessage ? (\n              <div>\n                Edit <span style={{ color: \"#D04283\" }}> Message </span>\n              </div>\n            ) : (\n              <div>\n                Create <span style={{ color: \"#D04283\" }}> Message </span>\n              </div>\n            )\n          }\n        />\n        <div className=\"centerMessages\">\n          <div className=\"createMessagesContainer\">\n            <div style={{ display: \"none\" }}>\n              <ReactAudioPlayer\n                ref={(element) => {\n                  this.rap = element;\n                }}\n                src={previewMessageUrl}\n                autoPlay={false}\n                controls={false}\n                muted={false}\n                volume={1}\n                onCanPlay={() => this.playTrack()}\n                onEnded={() => this.setState({ isPlaying: false, previewMessageUrl: null })}\n                onError={() => this.setState({ isPlaying: false, previewMessageUrl: null })}\n              />\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Message Name </div>\n              <Input onChange={(e) => this.setState({ title: e.target.value })} value={title} />\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Message </div>\n              <TextArea placeholder=\"Max 200 Characters\" value={message} maxLength={200} onChange={(e) => this.setState({ message: e.target.value })} rows={4} />\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Language</div>\n              <Select value={language ? language : \"Please select a language\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ language: v.key, languageCode: \"\", voice: \"\" })}>\n                {this.renderLanguageOptions()}\n              </Select>\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Voice </div>\n              <Select value={voice ? voice : \"Please select a voice\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ voice: v.key, languageCode: get(v, \"props.parent\", \"\") })}>\n                {this.renderVoiceOptions()}\n              </Select>\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Frequency </div>\n              <Select value={frequency ? frequency : \"Please select a frequency\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ frequency: v.key })}>\n                {frequencies.map((freq, i) => (\n                  <Option key={get(freq, \"time\", i)} value={get(freq, \"time\", \"60\")}>\n                    {get(freq, \"title\", \"Error\")}\n                  </Option>\n                ))}\n              </Select>\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Speed</div>\n              <ButtonGroup>\n                <Button type={speed === 0.75 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 0.75 })}>\n                  Slow\n                </Button>\n                <Button type={speed === 1 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 1 })}>\n                  Normal\n                </Button>\n                <Button type={speed === 1.25 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 1.25 })}>\n                  Fast\n                </Button>\n              </ButtonGroup>\n            </div>\n\n            <div className={\"ism-button-group\"}>\n              {/* Preview Button */}\n              <Button onClick={() => this.previewMessage()} size=\"large\" loading={isPreviewing} className={\"ism-button\"}>\n                <FontAwesomeIcon icon={faVolume} className={\"icon\"} />\n                Preview Message\n              </Button>\n\n              {/* Save Button */}\n              <Button onClick={() => this.saveMessage()} size=\"large\" loading={isSaving} className={\"ism-button\"}>\n                {editingExistingMessage ? (\n                  <>\n                    <FontAwesomeIcon icon={faEdit} className={\"icon\"} />\n                    Save Changes\n                  </>\n                ) : (\n                  <>\n                    <FontAwesomeIcon icon={faPlusCircle} className={\"icon\"} />\n                    Create Message\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ createPreviewMessage, editMessage, createMessage, getVoiceOptions, setSnackbarNotification, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateInStoreMessaging));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { setSnackbarNotification, setSnackbarMessage } from \"../../actions\";\nimport { Button, Input, Select } from \"antd\";\nimport UncontrolledLottie from \"../../components/UncontrolledLottie\";\nimport ControlledLottie from \"../../components/ControlledLottie\";\n\nimport \"./index.scss\";\n\nconst { Option } = Select;\nconst { TextArea } = Input;\n\nclass Sandbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"sandbox-wrapper\">\n        <ControlledLottie animationData={\"\"} height={1440} width={1440} />\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ setSnackbarNotification, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Sandbox));\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Landing from \"../containers/landing\";\nimport SignUp from \"../containers/welcome/signUp\";\nimport LogIn from \"../containers/login\";\nimport Create from \"../containers/create/\";\nimport Discover from \"../containers/create/discover\";\nimport StationDetails from \"../components/stationDetails\";\nimport CreateSchedule from \"../containers/createSchedule\";\nimport Schedules from \"../containers/schedules\";\nimport InStoreMessaging from \"../containers/inStoreMessaging\";\nimport SettingsPage from \"../containers/settings\";\nimport CreateInStoreMessaging from \"../containers/createInStoreMessaging\";\nimport Sandbox from \"../containers/sandbox\";\nimport Auth0Helper from \"../helpers/Auth0Helper\";\n\nlet routes = [\n  {\n    path: \"/\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => <Redirect to=\"/discover\" />,\n  },\n  {\n    path: \"/landing\",\n    exact: false,\n    isChild: false,\n    private: false,\n    component: () => <Landing />,\n  },\n  {\n    path: \"/login\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.login();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/signUp\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.signUp();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/nowPlaying\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Create />,\n  },\n  {\n    path: \"/discover\",\n    exact: true,\n    isChild: true,\n    private: false,\n    component: () => <Discover />,\n  },\n  {\n    path: \"/station/:id\",\n    exact: true,\n    isChild: true,\n    private: false,\n    component: () => <StationDetails />,\n  },\n  {\n    path: \"/createschedule/:id\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateSchedule />,\n  },\n  {\n    path: \"/schedules\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Schedules />,\n  },\n  {\n    path: \"/inStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <InStoreMessaging />,\n  },\n  {\n    path: \"/createInStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateInStoreMessaging />,\n  },\n  {\n    path: \"/sandbox\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Sandbox />,\n  },\n  {\n    path: \"/settings\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Redirect to=\"/settings/user\" />,\n  },\n  {\n    path: \"/settings/:setting\",\n    exact: true,\n    isChild: false,\n    private: true,\n    component: () => <SettingsPage />,\n  },\n];\n\nexport default routes;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { get } from \"lodash\";\nimport { Menu, message, Dropdown, Button } from \"antd\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBars, faAcorn, faMicrophone, faClock, faSignalStream, faCog, faStoreAlt } from \"@fortawesome/pro-solid-svg-icons\";\nimport { categories, actions, images } from \"../../constants\";\nimport config from \"../../configs/urls\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport { setSnackbarMessage } from \"../../actions\";\nimport \"./index.scss\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\nimport { faSignOut } from \"@fortawesome/pro-regular-svg-icons\";\nimport { getTrackNumberByTrack } from \"../../util\";\n\nmessage.config({\n  top: \"5%\",\n  duration: 1,\n});\n\nlet resizeListener = null;\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: undefined,\n      windowSize: window.innerWidth,\n    };\n  }\n\n  componentDidMount() {\n    let str = get(this.props, \"location.pathname\", \"\");\n    var activePath = str.replace(\"/\", \"\");\n    this.setState({ current: activePath });\n    resizeListener = window.addEventListener(\"resize\", (e) => {\n      this.setState({ windowSize: e.target.innerWidth });\n    });\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  handleClick = async (route) => {\n    const { myLocation } = this.props;\n\n    if (route === \"features\" || route === \"price\") {\n      message.info(\"This service will be available soon, please enjoy our other services\");\n    } else if (route === \"signout\") {\n      this.logInOut();\n    } else {\n      let hasStation = get(myLocation, \"station._id\", null);\n      if (route === \"nowPlaying\" && !hasStation) {\n        this.props.actions.setSnackbarMessage({ message: \"Please select a station before viewing your dashboard\", type: \"warn\" });\n        return;\n      }\n      this.setState({ current: route });\n      message.destroy();\n      this.props.history.push(\"/\" + route);\n    }\n  };\n\n  logInOut = () => {\n    if (Auth0Helper.isLoggedIn()) {\n      try {\n        logEvent({ category: categories.general, action: actions.signout });\n        localStorage.removeItem(\"location-jwt\"); // Clear our location-jwt\n        Auth0Helper.logout();\n      } catch (err) {\n        console.log(\"Caught logout err: \", err);\n      }\n    } else {\n      Auth0Helper.login();\n    }\n  };\n\n  checkIfActiveTab(tab) {\n    if (!tab) return \"\";\n    return get(this.props, \"location.pathname\", \"\").toLowerCase().includes(tab.toLowerCase());\n  }\n\n  printStuff() {\n    const { myLocation, player } = this.props;\n    let trackSchedule = get(myLocation, \"trackSchedule\", {});\n    let queue = get(trackSchedule, \"queue\", []);\n    let currentTrack = get(myLocation, \"currentTrack\", {});\n\n    console.log({ props: this.props, myLocation, player, trackSchedule, queue, currentTrack, pos: getTrackNumberByTrack(currentTrack, queue) });\n  }\n\n  render() {\n    const { inApp } = this.props;\n    const { windowSize, current } = this.state;\n\n    const mobileHeaderMenu = (\n      <Menu mode=\"horizontal\" onClick={(e) => this.handleClick(e.key)} selectedKeys={[current]} className=\"menu-wrapper\">\n        <Menu.Item className=\"mobileButtonItem\" key=\"nowPlaying\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faStoreAlt} />\n          </div>\n          <div className=\"mobileButtonText\">Dashboard</div>\n        </Menu.Item>\n        <Menu.Item className=\"mobileButtonItem\" key=\"discover\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faSignalStream} />\n          </div>\n          <div className=\"mobileButtonText\">Stations</div>\n        </Menu.Item>\n        <Menu.Item className=\"mobileButtonItem\" key=\"schedules\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faClock} />\n          </div>\n          <div className=\"mobileButtonText\">Schedules</div>\n        </Menu.Item>\n        <Menu.Item className=\"mobileButtonItem\" key=\"inStoreMessaging\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faMicrophone} />\n          </div>\n          <div className=\"mobileButtonText\">Messaging</div>\n        </Menu.Item>\n        <Menu.Item className=\"mobileButtonItem\" key=\"settings\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faCog} />\n          </div>\n          <div className=\"mobileButtonText\">Settings</div>\n        </Menu.Item>\n        {Auth0Helper.isLoggedIn() ? (\n          <Menu.Item key=\"signout\" className=\"mobileButtonItem\">\n            <div className=\"mobileButtonIcon\">\n              <FontAwesomeIcon icon={faSignOut} rotation={180} />\n            </div>\n            <div className=\"mobileButtonText\">Sign Out</div>\n          </Menu.Item>\n        ) : (\n          <Menu.Item key=\"signout\"> Sign In</Menu.Item>\n        )}\n      </Menu>\n    );\n\n    const route = get(this.props, \"route\", null);\n    let isCreateSchedulePage = null;\n    let devMode = get(config, \"API_URL\", \"\").includes(\"localhost\") || get(config, \"API_URL\", \"\").includes(\"-dev\");\n    if (route) isCreateSchedulePage = route.toUpperCase().includes(\"createSchedule\".toUpperCase()) ? true : false;\n    let headStyle = isCreateSchedulePage ? \"header-container headerTwo\" : \"header-container headerOne\";\n\n    return (\n      <div className={headStyle}>\n        <div className={\"logo-wrapper\"}>\n          <img src={images.appLogo} className=\"header_logo pointer noselect\" onClick={() => this.props.history.push(\"/nowPlaying\")} alt=\"logo\" />\n        </div>\n        <div style={{ flex: 0 }}>{devMode && inApp ? \"inApp Mode\" : \"\"}</div>\n\n        {windowSize <= 760 ? (\n          <div className={\"mobileButtonsContainer\"}>\n            <Dropdown overlay={mobileHeaderMenu} trigger={[\"click\"]}>\n              <Button>\n                <FontAwesomeIcon icon={faBars} />\n              </Button>\n            </Dropdown>\n          </div>\n        ) : (\n          <>\n            <div className=\"mainButtonsContainer noselect\">\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"nowPlaying\") ? \" mainButtonActive\" : \"\")} key=\"nowPlaying\" onClick={() => this.handleClick(\"nowPlaying\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faStoreAlt} />\n                  </div>\n                  <div className=\"mainButtonsText\"> Dashboard </div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"discover\") || this.checkIfActiveTab(\"browse\") ? \" mainButtonActive\" : \"\")} key=\"discover\" onClick={() => this.handleClick(\"discover\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faSignalStream} />\n                  </div>\n                  <div className=\"mainButtonsText\">Stations</div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"schedules\") || this.checkIfActiveTab(\"createSchedule\") ? \" mainButtonActive\" : \"\")} key=\"schedules\" onClick={() => this.handleClick(\"schedules\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faClock} />\n                  </div>\n                  <div className=\"mainButtonsText\">Schedules</div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"inStoreMessaging\") || this.checkIfActiveTab(\"inStoreMessaging\") ? \" mainButtonActive\" : \"\")} key=\"inStoreMessaging\" onClick={() => this.handleClick(\"inStoreMessaging\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faMicrophone} />\n                  </div>\n                  <div className=\"mainButtonsText\"> Messaging </div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"settings\") || this.checkIfActiveTab(\"settings\") ? \" mainButtonActive\" : \"\")} key=\"settings\" onClick={() => this.handleClick(\"settings\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faCog} />\n                  </div>\n                  <div className=\"mainButtonsText\"> Settings </div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              {/* <div\n                className={\"mainButtons\"}\n                onClick={() => {\n                  this.props.history.push(\"/settings\");\n                }}\n              >\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faCog} />\n                  </div>\n                  <div className=\"mainButtonsText\"> Settings </div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div> */}\n            </div>\n            <Button key=\"signout\" onClick={() => this.logInOut()}>\n              {Auth0Helper.isLoggedIn() ? \"Sign Out\" : \"Sign In\"}\n            </Button>\n          </>\n        )}\n        {devMode && <FontAwesomeIcon className={\"icon\"} style={{ paddingLeft: \"10px\", fontSize: \"32px\" }} icon={faAcorn} onClick={() => this.printStuff()} />}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    player: state.player,\n    myLocation: state.auth.location,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(AppHeader)));\n","import React, { Component } from \"react\";\nimport { get, isEqual } from \"lodash\";\nimport Slider from \"react-rangeslider\";\nimport \"./index.scss\";\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myVolume: 0,\n    };\n  }\n\n  componentDidMount() {\n    // Sets initial state when volume slider pops-up\n    this.setState({ myVolume: get(this.props, \"volume\", 0) });\n  }\n\n  componentDidUpdate(prevProps) {\n    // Handles mute / unmute\n    if (!isEqual(get(this.props, \"volume\", 0), get(prevProps, \"volume\", 0))) {\n      this.setState({ myVolume: get(this.props, \"volume\", 0) });\n    }\n  }\n\n  // Handles volume slider change\n  handleChange = (myVolume) => {\n    this.props.changeVolume(myVolume * 0.01);\n  };\n\n  // Returns the volume as a %\n  calculateVolumeHeight() {\n    return 100 * this.state.myVolume;\n  }\n\n  render() {\n    const { myVolume } = this.state;\n\n    return (\n      <div className={\"volume-slider-wrapper\"}>\n        <div className=\"slider orientation-reversed\">\n          <div className=\"slider-group\">\n            <div className=\"slider-vertical\">\n              <Slider min={0} max={100} value={this.calculateVolumeHeight(myVolume)} orientation=\"vertical\" onChange={this.handleChange} tooltip={false} onChangeStart={(e) => this.props.startDrag(e)} onChangeComplete={(e) => this.props.endDrag(e)} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VolumeSlider;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faPause, faStepForward, faVolume, faVolumeUp, faVolumeMute } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError } from \"../../actions\";\nimport { get, isEqual } from \"lodash\";\nimport VolumeSlider from \"./volume-slider\";\nimport { categories, actions, labels } from \"../../constants\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { getTime } from \"../../util\";\nimport { isSafari } from \"react-device-detect\";\nimport \"./index.scss\";\n\nclass MusicBar extends Component {\n  constructor(props) {\n    super(props);\n\n    let localVolume = parseFloat(localStorage.getItem(\"volume\"));\n    this.state = {\n      currentTime: \"0:00\",\n      duration: \"0:00\",\n      volume: localVolume ? localVolume : localVolume.toString() === \"0\" ? 0 : 0.3,\n      previousVolume: localVolume || 0.3,\n      showVolumeControl: false,\n      dragging: false,\n      url: null,\n      isrc: null,\n    };\n  }\n\n  // Checks if hovered elem belongs to volume slider\n  checkIfVolumeSlider(e) {\n    if (!e) return false;\n    let path = get(e, \"path\", []);\n    for (let i = 0; i < path.length; i++) if (path[i].id === \"volume-wrapper\") return true;\n    return false;\n  }\n\n  componentDidMount() {\n    this.rap.audioEl.addEventListener(\"timeupdate\", (e) => {\n      this.setState({ currentTime: e.target.currentTime, duration: e.target.duration });\n    });\n\n    window.addEventListener(\"mouseover\", (e) => {\n      if (this.checkIfVolumeSlider(e) || this.state.dragging) {\n        if (!this.state.showVolumeControl) this.setState({ showVolumeControl: true });\n      } else if (this.state.showVolumeControl) this.setState({ showVolumeControl: false });\n    });\n\n    let currentTrack = get(this.props, \"currentTrack\", \"\");\n    this.updateTrackState();\n    this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n\n    // Get duration from initial track\n    this.setState({ duration: get(currentTrack, \"duration\", null) });\n  }\n\n  componentWillUnmount() {\n    try {\n      this.player.removeEventListener(\"timeupdate\");\n      window.removeEventListener(\"mouseover\");\n    } catch (err) {\n      console.log(\"caught error on music-bar unmount\", err);\n    }\n  }\n\n  // Updates the local current track's url & isrc\n  updateTrackState() {\n    this.setState({ url: get(this.props, \"player.trackMap[\" + get(this.props, \"currentTrack.isrc\", \"\") + \"].url\", \"\"), isrc: get(this.props, \"currentTrack.isrc\", null) });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"myLocation.currentTrack.isrc\", null), get(prevProps, \"myLocation.currentTrack.isrc\", null))) {\n      console.log(\"nowPlaying: \", { currentTrack: get(this.props, \"currentTrack.title\", \"\"), duration: getTime(get(this.props, \"currentTrack.duration\", \"\")), station: get(this.props, \"myLocation.station.name\", \"\") });\n      this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n      this.updateTrackState();\n    }\n\n    // If the station was changed automatically\n    if (!isEqual(get(this.props, \"myLocation.station._id\", null), get(prevProps, \"myLocation.station._id\", null))) {\n      console.log(\"<================ CHANGED STATION B ================>\", this.props);\n      this.props.actions.setTrackNumber(0);\n      this.updateTrackState();\n\n      // Mainly for Safari, as it won't auto-play new stations\n      if (isSafari && get(this.props, \"player.isPlaying\")) {\n        this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n        this.rap.audioEl.play();\n      }\n    }\n\n    // Play / Pause change\n    if (!isEqual(get(this.props, \"player.isPlaying\", false), get(prevProps, \"player.isPlaying\", false))) {\n      let isPlaying = get(this.props, \"player.isPlaying\", false);\n      if (isPlaying) this.rap.audioEl.play();\n      else this.rap.audioEl.pause();\n    }\n  }\n\n  getCurrentTrack() {\n    const { url, isrc } = this.state;\n    let currentTrackISRC = get(this.props, \"currentTrack.isrc\", \"\");\n    let currentTrackUrl = get(this.props, \"player.trackMap[\" + currentTrackISRC + \"].url\", get(this.props, \"currentTrack.url\", \"\"));\n\n    // Catch for same song, but different link\n    if (isrc && url && isrc === currentTrackISRC && url !== currentTrackUrl) return url; // Stops track from restarting when toggling explicit\n    return currentTrackUrl; // Return currentTrackUrl normally\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      let promise = this.rap.audioEl.play();\n\n      // Needed due to https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\n      if (promise !== undefined) {\n        promise\n          .then(() => {\n            // Player started autoplaying\n            this.props.actions.setIsPlaying(true);\n          })\n          .catch(() => {\n            // Player blocked from autoplaying\n            this.props.actions.setIsPlaying(false);\n          });\n      }\n    });\n  }\n\n  togglePlay() {\n    this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n  }\n\n  // Toggles player mute\n  toggleMute() {\n    const { previousVolume } = this.state;\n    this.setState({ volume: this.state.volume > 0 ? 0 : previousVolume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets the volume of the player\n  setVolume(volume) {\n    this.setState({ volume, previousVolume: volume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets boolean on if user is dragging volume slider\n  toggleVolumeDrag(dragging) {\n    this.setState({ dragging });\n  }\n\n  async closePlayer() {\n    this.props.actions.setIsPlaying(false);\n    logEvent({ category: categories.dashboard, action: actions.closePlayer, label: labels.button });\n    await this.props.actions.disconnectPlayer();\n  }\n\n  songError(e) {\n    console.log(\"Song error: \", { e, props: this.props });\n    this.skipSong(0);\n  }\n\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n\n      try {\n        // Mainly for Safari, as it won't auto-play the next track\n        if (isSafari) this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n        this.rap.audioEl.play();\n      } catch (err) {\n        console.log(\"skipSong err: \", err);\n      }\n    });\n  }\n\n  render() {\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { volume, showVolumeControl, currentTime, duration } = this.state;\n\n    let currentTrack = get(this.props, \"currentTrack\", {});\n    const songCompletion = ((currentTime / duration) * 100).toFixed(2);\n\n    let hasArtistOverflow = false;\n    let hasTrackOverflow = false;\n\n    let playerInfoWrapper = document.getElementById(\"player-info-wrapper\") || null;\n    let artistOverflow = document.getElementById(\"player-artist-info\") || null;\n    let trackOverflow = document.getElementById(\"player-track-info\") || null;\n\n    if (playerInfoWrapper && artistOverflow && trackOverflow) {\n      playerInfoWrapper = playerInfoWrapper.getBoundingClientRect().width - 60;\n      artistOverflow = artistOverflow.getBoundingClientRect().width;\n      trackOverflow = trackOverflow.getBoundingClientRect().width;\n\n      if (playerInfoWrapper < artistOverflow) hasArtistOverflow = true;\n      if (playerInfoWrapper < trackOverflow) hasTrackOverflow = true;\n    }\n\n    return (\n      <div className=\"music-bar-wrapper noselect\" id={\"music-player-controller\"}>\n        <div className=\"react-music-player\">\n          <ReactAudioPlayer\n            ref={(element) => {\n              this.rap = element;\n            }}\n            src={this.getCurrentTrack()}\n            autoPlay={false}\n            controls={false}\n            muted={volume === 0 ? true : false}\n            volume={volume}\n            onCanPlay={() => this.playTrack()}\n            onEnded={() => this.skipSong(songCompletion)}\n            onError={(e) => this.songError(e)}\n            preload={\"auto\"}\n          />\n        </div>\n        <div className=\"music-bar-scrub-wrapper\">\n          <div className=\"music-bar-scrubber\" style={{ width: songCompletion + \"%\" }} />\n        </div>\n        <div className=\"music-bar-content-wrapper\">\n          <div className=\"music-bar-item flexRow left-controls\" id={\"player-info-wrapper\"}>\n            <img className=\"preview-image\" src={get(currentTrack, \"picture\", null)} alt={\"\"} />\n            <div className=\"preview-text\">\n              <div className=\"song-artist\">\n                <span id={\"player-artist-info\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"artist[0]\", \"NA\")}\n                </span>\n              </div>\n              <div className=\"song-title\">\n                <span id={\"player-track-info\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"title\", \"NA\")}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"music-bar-item flexRow center-controls\">\n            {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} /> : <FontAwesomeIcon icon={faPlay} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} />}\n            {<FontAwesomeIcon icon={faStepForward} className={\"music-bar-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n          </div>\n\n          <div className=\"music-bar-item right-controls\">\n            <div className=\"time-display\">\n              <span id={\"current-song-time\"}>{getTime(currentTime)}</span> &nbsp;/&nbsp; <span id={\"current-song-duration\"}>{getTime(duration)}</span> <span id={\"invis-current-song-time\"}>{songCompletion}</span>\n            </div>\n\n            {/* Volume controls */}\n            <div className=\"volume-icon\" id={\"volume-wrapper\"}>\n              {showVolumeControl && <VolumeSlider volume={volume} changeVolume={(newVolume) => this.setVolume(newVolume)} startDrag={() => this.toggleVolumeDrag(true)} endDrag={() => this.toggleVolumeDrag(false)} />}\n              {volume === 0 ? <FontAwesomeIcon icon={faVolumeMute} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : volume < 0.7 ? <FontAwesomeIcon icon={faVolume} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : <FontAwesomeIcon icon={faVolumeUp} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} />}\n            </div>\n\n            <FontAwesomeIcon icon={faTimes} className={\"music-bar-icon close-icon\"} onClick={() => this.closePlayer()} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return { player: state.player, myLocation: state.auth.location, currentTrack: state.auth.location.currentTrack };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicBar);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { setInApp, auth0setLogin, setSnackbarNotification, setSnackbarMessage, startSockets } from \"./actions\";\nimport Routes from \"./routes/index\";\nimport AppHeader from \"./components/header\";\nimport { Modal, Spin, Layout, notification, message } from \"antd\";\nimport { startGoogleAnalytics } from \"./configs/google-analytics\";\nimport { isEqual, get } from \"lodash\";\nimport MusicBar from \"./components/music-bar\";\nimport AntSpinner from \"./components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport Auth0Helper from \"./helpers/Auth0Helper\";\nimport SignUp from \"./containers/welcome/signUp\";\nimport \"./App.scss\";\nimport MobileAppCommunicator from \"./helpers/MobileAppCommunicator\";\n\nAuth0Helper.initialize();\n\nclass AmbiiRouter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n    };\n  }\n\n  initiateLogin(token) {\n    localStorage.setItem(\"access-token\", token);\n    this.props.actions.auth0setLogin();\n  }\n\n  componentWillMount() {\n    Auth0Helper.getLock().on(\"authenticated\", (data) => {\n      this.initiateLogin(data.idToken);\n    });\n\n    // Emitted when there is an unrecoverable error, for instance when no connection is available. Has the error as the only argument.\n    Auth0Helper.getLock().on(\"unrecoverable_error\", (err) => {\n      console.log(\"auth0 - unrecoverable_error: \", { err });\n    });\n\n    // emitted when authorization fails. Has error as the only argument.\n    Auth0Helper.getLock().on(\"authorization_error\", (err) => {\n      console.log(\"auth0 - authorization_error: \", { err });\n    });\n\n    Auth0Helper.getLock().checkSession({}, (err, data) => {\n      console.log(\"hit auth0 check session: \", { err, data });\n      this.setState({ isLoading: false }, () => {\n        if (!err && data?.idToken) this.initiateLogin(data.idToken);\n        else {\n          if (localStorage.getItem(\"access-token\") && localStorage.getItem(\"location-jwt\")) Auth0Helper.logout();\n          if (get(err, \"code\", \"\") === \"login_required\") Auth0Helper.login();\n          this.setState({ isLoading: false });\n        }\n      });\n    });\n\n    // Check if we're inApp when the app loads\n    let inApp = get(window, \"location.search\", \"\").includes(\"inApp\") || localStorage.getItem(\"inApp\");\n    if (inApp) this.props.actions.setInApp(true);\n\n    if (window.ReactNativeWebView) {\n      window.addEventListener(\"message\", (msg) => {\n        let data = get(msg, \"data.data\", null); // Data from mobile\n        let endpoint = get(msg, \"data.endpoint\", null); // Endpoint from mobile\n        let mobileAuth = Auth0Helper.isLoggedIn() ? true : false;\n\n        // Listener logic\n        switch (endpoint) {\n          case \"auth\":\n            MobileAppCommunicator.send(\"auth\", mobileAuth);\n            break;\n          case \"introLogin\":\n            localStorage.setItem(\"mobileIntroLogin\", true);\n            MobileAppCommunicator.send(\"auth\", mobileAuth);\n            break;\n          case \"login\":\n            Auth0Helper.login();\n            MobileAppCommunicator.send(\"login\", \"Login Success\");\n            break;\n          case \"logout\":\n            Auth0Helper.logout();\n            MobileAppCommunicator.send(\"logout\", \"Logout Success\");\n            break;\n          default:\n            MobileAppCommunicator.send(\"default\", null);\n            break;\n        }\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (Auth0Helper.isLoggedIn() && this.state.isLoading) {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  render() {\n    const { player, auth, inApp } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return (\n      <Router>\n        <div>\n          {Routes.map((route, index) => {\n            return (\n              <Route\n                key={index}\n                path={route.path}\n                exact={route.exact}\n                render={() => {\n                  if (!this.state.isLoading && !Auth0Helper.isLoggedIn() && route.private) Auth0Helper.login();\n                  if (Auth0Helper.isLoggedIn() || !route.private) {\n                    return (\n                      <>\n                        {auth?.user?.company && !auth?.user?.company?.name ? (\n                          <Modal visible={true} onCancel={this.onCancel} width={900} className=\"modal-container\" closable={false} footer={false}>\n                            <div className={\"signup-modal-title\"}>\n                              {\"Welcome to \"}\n                              <span style={{ color: \"#d04283\" }}>{\"ambii\"}</span>\n                            </div>\n                            <SignUp />\n                          </Modal>\n                        ) : null}\n                        <div className=\"explore_container\">\n                          {!inApp && <AppHeader showMenu=\"userlogin\" route={route.path} />}\n                          {/* <AppHeader showMenu=\"userlogin\" route={route.path} /> */}\n                          <div className={\"contentWrapper\".concat(showMusicPlayer ? \" player-visible\" : \"\")}>{route.component()}</div>\n                        </div>\n                      </>\n                    );\n                  } else {\n                    return (\n                      <Layout className=\"explore_container\">\n                        {!inApp && <AppHeader id=\"myHeader\" showMenu=\"landing\" />}\n                        {/* <AppHeader id=\"myHeader\" showMenu=\"landing\" /> */}\n                        <div className=\"loading-app\">\n                          <div className=\"loading-app-text\">\n                            Logging Into <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n                          </div>\n                          <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n                        </div>\n                      </Layout>\n                    );\n                  }\n                }}\n              />\n            );\n          })}\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction mapDispatchToPropsRouter(dispatch) {\n  return {\n    actions: bindActionCreators({ auth0setLogin, setInApp }, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n    inApp: state.auth.inApp,\n  };\n}\n\nvar RouterWithAuth = connect(mapStateToPropsRouter, mapDispatchToPropsRouter)(withAuth0(AmbiiRouter));\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      initAnalytics: false,\n      snackbarMessageDuration: 3,\n    };\n\n    startGoogleAnalytics();\n  }\n\n  async componentDidMount() {\n    this.props.actions.startSockets();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"snackbar.notification\", null), get(prevProps, \"snackbar.notification\", null))) {\n      this.openNotification(get(this.props, \"snackbar.notification\", null));\n    }\n\n    if (!isEqual(get(this.props, \"snackbar.message\", null), get(prevProps, \"snackbar.message\", null))) {\n      this.openMessage(get(this.props, \"snackbar.message\", null));\n    }\n  }\n\n  openNotification(hasNotification) {\n    const { snackbarMessageDuration } = this.state;\n    console.log(\"hasNotification: \", hasNotification);\n\n    if (hasNotification) {\n      notification.open({\n        message: get(hasNotification, \"message\", \"\"),\n        description: get(hasNotification, \"description\", \"\"),\n        duration: snackbarMessageDuration,\n        onClick: () => {\n          console.log(\"Notification Clicked!\");\n        },\n        className: \"snackbar-notification snackbar-type-\".concat(get(hasNotification, \"type\", \"\")),\n      });\n    }\n\n    this.props.actions.setSnackbarNotification(null);\n  }\n\n  openMessage(hasMessage) {\n    const { snackbarMessageDuration } = this.state;\n    console.log(\"hasMessage: \", { hasMessage, snackbarMessageDuration });\n    let text = get(hasMessage, \"message\", \"\");\n    let type = get(hasMessage, \"type\", \"\");\n\n    switch (type) {\n      case \"success\":\n        message.success(text, snackbarMessageDuration);\n        break;\n      case \"info\":\n        message.info(text, snackbarMessageDuration);\n        break;\n      case \"warn\":\n        message.warn(text, snackbarMessageDuration);\n        break;\n      case \"error\":\n        message.error(text, snackbarMessageDuration);\n        break;\n      default:\n        console.log(\"error in openMessage\");\n    }\n\n    this.props.actions.setSnackbarMessage(null);\n  }\n\n  render() {\n    const { player } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return !this.state.isLoading ? (\n      <>\n        <RouterWithAuth props={{ showMusicPlayer }} />\n        {showMusicPlayer && <MusicBar />}\n      </>\n    ) : (\n      <div className=\"loading-app\">\n        <div className=\"loading-app-text\">\n          Loading <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n        </div>\n        <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n      </div>\n    );\n  }\n}\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ startSockets, setSnackbarNotification, setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuth0(App));\n","import React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { connect } from \"react-redux\"; //to pass functions\nimport { bindActionCreators } from \"redux\";\nimport App from \"../App\";\nimport \"antd/dist/antd.css\";\nimport { Elements, loadStripe } from \"@stripe/react-stripe-js\";\n\nclass RootContainer extends Component {\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  render() {\n    const { store, stripePromise } = this.props;\n    return (\n      <Provider store={store}>\n        <div>\n          <Elements stripe={stripePromise}>\n            <App />\n          </Elements>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    snackbar: state.snackbar,\n    loader: state.loader,\n  };\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RootContainer);\n","/* eslint-disable no-undef */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\"This web app is being served cache-first by a service \" + \"worker. To learn more, visit https://bit.ly/CRA-PWA\");\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\"New content is available and will be used when all \" + \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { AppContainer } from \"react-hot-loader\";\nimport \"rc-slider/assets/index.css\";\nimport \"react-slidedown/lib/slidedown.css\";\nimport configureStore from \"./redux-store/storeConfiguration\";\nimport RootContainer from \"./containers/rootContainer\";\nimport \"./common/styles/styles.scss\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst store = configureStore();\n\nconst stripePromise = loadStripe(\"pk_live_51H0l3xBY2i2h5IOVo9Edk9SwGfqsOBcdd5cfJdaxKxWgijujk141nn5fMq7h4pija45rxwou240Tj9bIwNwmTjxZ00YIrQmclD\");\nif (document.location.hostname !== \"localhost\" && document.location.hostname !== \"business-dev.ambii.io\") console.log = () => {};\nrender(\n  <AppContainer>\n    <RootContainer store={store} stripePromise={stripePromise} />\n  </AppContainer>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}