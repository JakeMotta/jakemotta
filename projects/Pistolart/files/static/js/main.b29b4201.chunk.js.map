{"version":3,"sources":["images/ambii_logo_inverse.png","common/assets/images/ROYAcVhHo.png","common/assets/images/androidBtn.png","common/assets/images/appleBtn.png","common/assets/images/appLogo.png","common/assets/images/bg1.png","common/assets/images/bg2.png","common/assets/images/bg3.png","common/assets/images/bg4.jpg","common/assets/images/bg5.jpg","common/assets/images/bg6.jpg","constants/analytics.js","constants/genreColors.js","constants/images.js","constants/inStoreMessaging.js","constants/supersetDescriptions.js","constants/supersets.js","constants/tempos.js","constants/timezones.js","constants/voices.js","constants/index.js","redux-store/initialState.js","util/index.js","reducers/auth.js","constants/actionTypes.js","reducers/inStoreMessaging.js","reducers/player.js","reducers/playlists.js","reducers/schedules.js","reducers/snackbar.js","reducers/stations.js","reducers/index.js","redux-store/storeConfiguration.js","configs/urls.js","configs/api.js","actions/dispatch.js","configs/socket.js","actions/player.js","actions/auth.js","actions/locations.js","actions/stations.js","actions/schedule.js","actions/inStoreMessaging.js","actions/socket.js","actions/snackbar.js","components/antSpinner/index.js","containers/landing/index.js","containers/welcome/autoComplete/index.js","containers/welcome/addressForm/index.js","containers/welcome/companyInfo/index.js","configs/google-analytics.js","containers/welcome/signUp/index.js","containers/login/index.js","components/pairToken/index.js","images/google-play-store.svg","helpers/Auth0Helper.js","helpers/MobileAppCommunicator.js","components/stationDetails/index.js","components/bpm/index.js","components/page-title/index.js","components/dashboardModule/index.js","containers/create/index.js","containers/mood_tag_search_bar/mood_tag/index.js","containers/mood_tag_search_bar/index.js","containers/tempo_selection/index.js","containers/era_selection/index.js","containers/create/advance_filter/index.js","components/public_stations/tracksModal/index.js","components/genre-color-bar/index.js","components/public_stations/publicStation/index.js","components/stationSection/index.js","containers/genre_section/index.js","components/ControlledLottie.js","containers/create/discover/index.js","components/station-tile/index.js","components/stationVerticalList/index.js","components/toggleInput/index.js","containers/createSchedule/index.js","components/scheduleBlock/index.js","containers/schedules/index.js","components/messageCard/index.js","containers/inStoreMessaging/index.js","components/stripe-checkoutform/index.js","components/setting_panel/index.js","containers/settings/index.js","containers/createInStoreMessaging/index.js","containers/sandbox/index.js","routes/index.js","components/header/index.js","components/music-bar/volume-slider/index.js","components/music-bar/index.js","App.js","containers/rootContainer.js","serviceWorker.js","index.js"],"names":["module","exports","categories","actions","labels","genreColors","images","googleBtn","require","iosBtn","appLogo","bg1","bg2","bg3","bg4","bg5","bg6","frequencies","title","time","supersetDescriptions","supersets","global","defaultIndividual","bar","cafe","gym","hotel","other","restaurant","salon","school","spa","shop","tempos","Slower","min","max","icon","faSnooze","Slow","faTurtle","Moderate","faSquirrel","Fast","faRabbitFast","Faster","faRocket","timezones","full_language_names","proper_voice_name","userTypes","initialState","auth","user","jwt","location","isApple","inApp","snackbar","notification","message","loader","requestInProgress","locations","data","count","limit","skip","playlists","schedules","stations","topTrack","artists","tracks","playlistList","genreList","eraList","moodList","stationPreviews","genre","era","mood","activeStationPreview","selectedPreviews","ID","track","zones","activeSchedule","player","locationJWT","showPlayer","isPlaying","skipDisabled","trackNumber","trackMap","playerError","inStoreMessaging","messages","objArrayToMap","arr","key","map","item","get","hashCode","s","Math","abs","split","reduce","a","b","charCodeAt","checkForMobile","window","outerWidth","getTime","isNaN","floor","slice","getBPMInfo","bpm","getDeviceId","deviceID","localStorage","getItem","length","result","characters","charactersLength","i","charAt","random","toUpperCase","generateRandomString","setItem","auth_reducer","state","action","type","Object","assign","favoritesMap","station","currentTrack","favorites","explicit","pairedDevice","lastTrack","trackSchedule","inStoreMessaging_reducer","player_reducer","removeItem","playlists_reducer","selected_stations_preview_reducer","snackbar_reducer","stations_reducer","combineReducers","createBrowserHistory","configureStore","middlewares","thunk","createStore","rootReducer","compose","applyMiddleware","config","API_URL","SOCKET_URL","APP_TITLE","HTTP","method","uri","headers","params","url","trim","query","Promise","resolve","reject","axios","then","response","catch","err","console","log","alert","status","setInApp","dispatch","setTrackSchedule","setPairedDevice","setLastTrack","setTrackMap","setLocation","setLocationJWT","setCurrentTrack","setIsPlaying","setDisableSkip","setTrackNumber","setUser","setSchedules","socket","io","socketChannels","addPlayerListeners","playerPaired","playerUnPaired","playerDisconnected","playerPlayed","playerPaused","disconnectPlayer","getState","locationId","error","connectPlayer","res","currentTrackNumber","currentTrackByNumber","playNextReq","sameStation","skipSong","songCompletion","trackScheduleId","trackScheduleLength","queue","nextTrack","getTrackNumberByTrack","checkTrackNumber","stationId","toString","playNextRes","checkIfAdvertisement","isAdvertisement","substring","isInStoreMessage","skipTimer","setTimeout","clearTimeout","removePlayerListeners","removeEventListener","updateStationListener","on","setStation","updateCurrentTrackListener","removeStationListener","auth0setLogin","toLowerCase","setIsApple","loginSuccess","obj","token","deviceName","uniqueId","deviceBrand","override","mixMaxRegister","id","email","name","groupName","signUp","signUpSuccess","signUpFailed","finally","toggleFavorite","newFavorites","_id","splice","push","toggleExplicit","previousExplicitState","explicitAllowed","setExplicit","getStation","companyId","getDiscoverPulicStations","filteredData","tempoList","forEach","getPublicStationsForDiscover","getStationDetails","assignStation","createSchedule","getSchedule","editSchedule","setSchedule","scheduleId","schedule","getMyPlaylists","assignSchedule","setSnackbarMessage","deleteSchedule","deletedSchedule","getMessages","createPreviewMessage","voice","language","speed","hash","createMessage","frequency","savedPreviews","editMessage","messageId","deleteMessage","updateFrequency","getVoiceOptions","startSockets","setSnackbarNotification","_setSnackbarNotification","_setSnackbarMessage","AntSpinner","style","fontSize","color","spin","Main","props","this","auth0","isAuthenticated","history","width","height","position","display","alignItems","justifyContent","indicator","spinning","Component","connect","bindActionCreators","withRouter","withAuth0","FormItem","Form","Item","google","AutoSearchForm","getLocation","navigator","geolocation","getCurrentPosition","coords","setState","myLocation","lng","longitude","lat","latitude","info","onSuggestSelect","suggest","gmaps","address_components","component","types","indexOf","city","long_name","addressLineOne","addressLineTwo","postalCode","country","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","userData","label","cords","companySearch","onSumbit","missingData","address","getFieldDecorator","form","className","rules","required","ref","el","_geoSuggest","onChange","e","placeholder","maps","LatLng","radius","WrappedApp","create","AddressForm","onSubmit","validateFieldsAndScroll","values","validTimezone","checkIfValidTimezone","isLoading","onSearch","searchText","keys","timezoneRes","filter","includes","selectedTimezone","onSelect","value","dropdownError","timezoneData","hideRequiredMark","float","initialValue","onPressEnter","dataSource","onClick","Option","Select","CompanyInfo","countryCode","businessType","preventDefault","businessSelected","userType","firstName","lastName","phoneNumber","concat","parsePhoneNumber","handleMenuClick","replace","prefixSelector","borderRight","pattern","addonBefore","overlay","menu","trigger","textTransform","faChevronDown","marginLeft","logEvent","category","ReactGA","event","parseInt","trackScreen","pageview","pathname","search","trackModal","modal","modalview","Step","Steps","companySteps","Login","next","current","steps","signUpSubmit","success","prev","progressDot","textAlign","0","1","marginRight","_onLogin","password","isLogin","Password","block","loginWithRedirect","pairToken","char","index","fontWeight","margin","_extends","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","gradientUnits","y1","x2","y2","offset","stopColor","d","x1","_ref9","_ref10","_ref","svgRef","viewBox","ForwardRef","forwardRef","Auth0Helper","lock","Auth0Lock","configurationBaseUrl","autoclose","autofocus","closable","allowShowPassword","redirectUrl","origin","responseType","sso","theme","logo","primaryColor","languageDictionary","signUpTitle","forgotPasswordTitle","additionalSignUpFields","show","initialScreen","logout","MobileAppCommunicator","endpoint","ReactNativeWebView","postMessage","JSON","stringify","Content","Layout","resizeListener","StationDetails","close","isLoggedIn","startStationDisabled","startStation","send","isBack","favoriteStation","favoriteDisabled","isBackgroundImage","isMobile","document","body","scrollTop","documentElement","addEventListener","setStationDetails","prevProps","isEqual","setStationBackgroundImage","removeStationBackgroundImage","waitHeader","setInterval","stationHeader","getElementById","backgroundImage","cover","clearInterval","thisStationId","stationQueue","stationFavorited","checkIfFavorited","isActiveStation","backgroundColor","undefined","hex","size","loading","disabled","faPlayCircle","faHeart","description","src","alt","opacity","artist","album","BPM","animate","hideText","animation","toFixed","PageTitle","subtitle","backArrow","backArrowPress","faArrowLeft","DashboardModule","content","contentArray","Array","isArray","React","Children","child","cloneElement","errorTimer","testInterval","CreateSoundTrack","checkPlayerState","isThisDevicePlaying","playerInfo","controllerStyle","getSongTime","scrollIntoView","behavior","showPlaylistModal","playlistId","playlistModalId","afterCreateStaion","showStationSearch","toggleStationSearch","collapse","getElementsByClassName","parseLocationName","connectPress","showAppModal","loadPlayer","loadingPlayer","showConnectModal","changeStationPress","playStation","playButtonDisabled","loadingExplicit","artistName","isFixHeader","pageHeight","showErrorModal","userName","errorTitle","errorMessage","errorIcon","errorButton","currentSongTime","currentSongDuration","createUserName","viewedMobile","emit","userId","closeErrorMessage","innerHTML","useTrack","songImage","locationName","songTrack","songArtist","stationName","link","open","faHeartbeat","openLink","faGrinBeamSweat","songData","getTrackData","isIndividual","locationInUse","activeStation","scheduleName","modalWidth","hasTrackOverflow","hasArtistOverflow","nowPlayingInfoWrapper","nowPlayingTrack","nowPlayingArtist","getBoundingClientRect","visible","Boolean","onCancel","bodyStyle","minHeight","padding","footer","borderRadius","overflow","maxHeight","openAdBlockMessage","faMobile","borderColor","marginTop","faTv","faPause","faPlay","stubTrue","faStepForward","faTimes","sendToMobileDevice","faMusic","marginBottom","faKey","faCog","checked","onOk","faTvMusic","faSpeaker","faCommentMusic","AmbiiLogo","faApple","MoodTag","isHovered","onMouseOver","onMouseOut","performSelect","text","onMouseEnter","onMouseLeave","MoodTagSearchBar","removeTag","onChangeText","searchTags","items","tag","tags","filterTagArray","second","Set","selectedTags","x","has","handleClick","node","contains","isSearchFocused","handleHeight","tagListRef","onFocus","c","tagInput","faSearch","top","TempoSelection","performSelectTempo","tempo","currentSelectedTempo","selectTempo","deSelectTempo","reverse","AdvanceFilter","browseMoods","onSelectTempo","onDeselectTempo","onSelectMood","browseEraRange","onSelectEra","TracksModal","albumCover","shape","GenreColorBar","dataA","dataB","genres","roundBottom","simple","entries","sort","dataC","totalPercentage","calculateEachPercentage","percent","bpmInfo","music","borderBottomLeftRadius","borderBottomRightRadius","bottom","left","PublicStation","modalVisible","hovered","showModal","hideModal","stationPress","company","stopPropagation","rowIndex","browse","tileStyle","previewCardStyle","bpmMean","border","showStats","PureComponent","StationSection","showArrows","showLeftArrow","showRightArrow","diff","outer","scrollView","getElement","clientWidth","inner","scrollWrapper","preMargin","round","showViewAll","buttonPress","faChevronLeft","rightMoveSpeed","scrollRight","scrollBy","forceUpdate","faCaretLeft","me","onScroll","leftMoveSpeed","scrollLeft","faCaretRight","clicked","GenresSection","ControlledLottie","isStopped","isPaused","animationData","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","options","calculateBrowse","loadNumber","buildPercentages","returnedObj","toVector","vector","cosSim","A","B","dotproduct","mA","mB","sqrt","scoreString","searchString","targetString","score","j","ngram","pow","playlist","mean","browseTempoRange","searchScore","targetGenres","browseGenres","targetMoods","genresSelected","moodsSelected","genreSimilarities","moodSimilarities","moods","total","calculatedPlaylists","_checkIfAllFalse","_checkIsFiltering","isSearching","isSelectingGenre","isSelectingMood","onSetFiltering","isFiltering","onSelectGenre","selectedGenres","showAdvancedSearch","showClearFilters","selectedMoods","from","to","onSetSearchText","searchTimeout","isStation","defaultGenres","defaultMoods","getBusinessType","showAdFreeModal","globalStations","businessTypeStations","hasFavorites","favoritesQueue","superset","businessTypeSuperset","playlistSuperset","str","businessTypeMenu","updatePreference","selectedKeys","login","flex","animationIn","isVisible","Search","prevState","faFilter","paddingRight","clearAdvancedFilters","loadMoreStations","favorite","test","StationTile","StationVerticalList","expanded","displayData","elem","toggleExpand","ToggleInput","handleUpdate","copy","val","toggleInput","activeInput","inputRef","focus","createRef","handleClickOutside","handleKeyDown","onUpdate","flexDirection","faPenSquare","confirm","Modal","CreateSchedule","renderHeader","date","getDay","validateEvent","start","getDate","end","getHours","getMinutes","revert","saveSchedule","isSaving","calendarEvents","calendarComponentRef","getApi","getEvents","tempStations","moment","format","day","extendedProps","closeSchedule","backToDashboard","mySchedule","match","showMusicPlayer","accessFullCalendarAPI","bind","draggableEl","Draggable","itemSelector","eventData","eventEl","getAttribute","sideSection","calendar","setOption","faDesktop","faSmile","remove","categorizedKeys","globalStationKeys","showErrorMessage","stationNameUpdate","faExternalLinkAlt","defaultView","header","defaultDate","allDayDefault","eventDurationEditable","editable","events","droppable","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","eventDrop","eventReceive","slotDuration","eventClick","startRecur","Date","now","allDaySlot","eventOverlap","columnHeaderText","eventResize","forceEventDuration","ScheduleBlock","callback","hidden","wait","timeout","hasData","stopLoading","faTrash","Schedules","getAllLocations","creatingSchedule","createNewSchedule","faPlus","MessageCard","messageData","setPreviewUrl","faVolume","faEdit","delete","defaultValue","updateMessageFrequency","InStoreMessaging","previewTrackUrl","rap","audioEl","play","activeMessages","inactiveMessages","element","autoPlay","controls","muted","volume","onCanPlay","playTrack","onEnded","onError","m","CheckoutForm","setSubscription","useSelector","stripe","useStripe","elements","useElements","accessToken","useState","enterLoading","setEnterLoading","nameOnCard","phone","postal_code","line1","cardBillingDetails","setCardBillingDetails","handleSubmit","createPaymentMethod","card","CardNumberElement","CardExpiryElement","CardCvcElement","billing_details","paymentMethod","placement","post","payment_method","Authorization","stripeSubscription","cardCvcAndExpElementOptions","base","fontFamily","fontSmoothing","handleChange","span","showIcon","iconStyle","htmlType","SettingPanel","boxShadow","paddingTop","faPen","faStoreAlt","faCreditCard","paddingBottom","faLockAlt","subscription","useEffect","setLoading","borderTopRightRadius","borderTopLeftRadius","paddingLeft","activatedImage","subId","TextArea","Input","ButtonGroup","Button","Group","CreateInStoreMessaging","languageCode","voiceOptions","sortedLanguageArray","editingExistingMessage","previewMessageUrl","isPreviewing","postPreviewChanges","locallySavedPreviews","parse","voiceOptionList","parent","getMessageHash","md5","checkIfValidISM","checkIfHashExists","onFailure","onSuccess","msg","p","maxLength","rows","v","renderLanguageOptions","renderVoiceOptions","freq","previewMessage","saveMessage","faPlusCircle","Sandbox","routes","path","exact","isChild","private","duration","AppHeader","route","logInOut","hasStation","destroy","windowSize","innerWidth","activePath","tab","mobileHeaderMenu","mode","faSignalStream","faClock","faMicrophone","faSignOut","rotation","isCreateSchedulePage","devMode","headStyle","faBars","checkIfActiveTab","faAcorn","VolumeSlider","myVolume","changeVolume","calculateVolumeHeight","orientation","tooltip","onChangeStart","startDrag","onChangeComplete","endDrag","MusicBar","localVolume","parseFloat","currentTime","previousVolume","showVolumeControl","dragging","isrc","checkIfVolumeSlider","updateTrackState","pause","currentTrackISRC","currentTrackUrl","promise","playerInfoWrapper","artistOverflow","trackOverflow","getCurrentTrack","songError","preload","togglePlay","newVolume","setVolume","toggleVolumeDrag","faVolumeMute","toggleMute","faVolumeUp","closePlayer","initialize","AmbiiRouter","getLock","initiateLogin","idToken","checkSession","mobileAuth","Routes","render","showMenu","RouterWithAuth","App","initAnalytics","snackbarMessageDuration","siteSpeedSampleRate","testMode","hostname","openNotification","openMessage","hasNotification","hasMessage","warn","RootContainer","store","stripePromise","loadStripe","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b29b4201.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ambii_logo_inverse.188927ed.png\";","module.exports = __webpack_public_path__ + \"static/media/ROYAcVhHo.7e888868.png\";","module.exports = __webpack_public_path__ + \"static/media/androidBtn.e65a89bc.png\";","module.exports = __webpack_public_path__ + \"static/media/appleBtn.99f1ed98.png\";","module.exports = __webpack_public_path__ + \"static/media/appLogo.811d25b4.png\";","module.exports = __webpack_public_path__ + \"static/media/bg1.069f3dec.png\";","module.exports = __webpack_public_path__ + \"static/media/bg2.5a06bbee.png\";","module.exports = __webpack_public_path__ + \"static/media/bg3.9f68fc4b.png\";","module.exports = __webpack_public_path__ + \"static/media/bg4.815bb5d4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg5.b7d2890a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg6.435f2fc0.jpg\";","export const categories = {\n  welcome: \"Welcome\",\n  discover: \"Discover\",\n  dashboard: \"Dashboard\",\n  schedule: \"Schedule\",\n  player: \"Player\",\n  general: \"General\",\n};\n\nexport const actions = {\n  // Welcome\n  login: \"Logged into web application\",\n  signup: \"Signed up for web application\",\n  failedLogin: \"Failed to login\",\n  timezone: \"Selected a new timezone\",\n\n  // Discover\n  stationPreview: \"Previewed a station\",\n  startStation: \"Started station\",\n  updatePreference: \"Updated station preference\",\n  advancedBrowse: \"Swapped to advance station browse\",\n  stationBrowse: \"Swapped to station browse\",\n  search: \"Search station\",\n\n  // Dashboard\n  startPlayer: \"Started web player\",\n  closePlayer: \"Closed web player\",\n  connect: \"Pressed connect button\",\n\n  // Scheduling\n  createSchedule: \"Created Schedule\",\n  saveSchedule: \"Saved Schedule\",\n  closeSchedule: \"Closed Schedule\",\n  backToDashboard: \"Back To Dashboard\",\n  changeScheduleName: \"Changed Schedule Name\",\n  viewedMobile: \"Viewed on Mobile Device\",\n\n  // General\n  button: \"Clicked a button\",\n  toggledFavorite: \"Toggled a station as favorite\",\n  signout: \"User signed out of web application\",\n\n  // Error\n};\n\nexport const labels = {\n  button: \"button\",\n  error: \"error\",\n};\n","export const genreColors = {\n  \"Electronica\": \"#44d474\",\n  \"Alternative & Punk\": \"#d9964a\",\n  \"Rock\": \"#d64b46\",\n  \"Pop\": \"#d04283\",\n  \"Classical\": \"#8046d6\",\n  \"Traditional\": \"#c178ff\",\n  \"Jazz\": \"#42c4d0\",\n  \"Soundtrack\": \"#E6DD5D\",\n  \"Urban\": \"#191919\",\n  \"Other\": \"#999999\",\n};\n","export const images = {\n  googleBtn: require(\"../common/assets/images/androidBtn.png\"),\n  iosBtn: require(\"../common/assets/images/appleBtn.png\"),\n  appLogo: require(\"../common/assets/images/appLogo.png\"),\n  bg1: require(\"../common/assets/images/bg1.png\"),\n  bg2: require(\"../common/assets/images/bg2.png\"),\n  bg3: require(\"../common/assets/images/bg3.png\"),\n  bg4: require(\"../common/assets/images/bg4.jpg\"),\n  bg5: require(\"../common/assets/images/bg5.jpg\"),\n  bg6: require(\"../common/assets/images/bg6.jpg\"),\n};\n","export const frequencies = [\n  { title: \"Inactive\", time: \"0\" },\n  { title: \"Every 15 Minutes\", time: \"15\" },\n  { title: \"Every 30 Minutes\", time: \"30\" },\n  { title: \"Every Hour\", time: \"60\" },\n  { title: \"Every Few Hours\", time: \"180\" },\n  // { title: \"Custom\", time: \"custom\" },\n];\n","export const supersetDescriptions = {\n  \"Popular Today\": \"The Top Hits of Today\",\n  \"Holiday Music\": \"Get into the spirit of the season!\",\n  \"Flattening the Curve\": \"Battling COVID-19, one song at a time.\",\n  \"Upbeat Energy\": \"Energetic songs to get the mood flowing.\",\n  \"Laid-back, Low-key.\": \"Songs for relaxation and chill-out times.\",\n  \"Learning to Grow\": \"A series for those looking to overcome rough times, through different genres of music.\",\n  \"Decades\": \"Your home for all decades of music.\",\n  \"Ahead of the Curve\": \"A series for those who are tomorrow's trendsetters.\",\n  \"Liquid Courage\": \"Beats for those that are bold and those that are beautiful.\",\n  \"Beats and Beers\": \"Cheer on your favorite team with these country hits!\",\n  \"Taproom Treasures\": \"Stripped-down music for the sophisticated drinker.\",\n  \"Flirtatious Friday Night\": \"She's sitting right there.\",\n  \"Settled-Down Speakeasy\": \"Jazzy tunes for a sparkilng night.\",\n  \"Dancin' Across the World\": \"Iresistable, international glimmers of firey fun.\",\n  \"Coffee Curiosity\": \"A perfect morning moodsetter.\",\n  \"Bookstore Barista\": \"Quiet jazz for newspapers and novelists.\",\n  \"Classical Cappuccino\": \"Upscale grandiose through caffine and classical.\",\n  \"Countryside Cafe\": \"For french toast, syrup, and kickin' up those boots in the morning.\",\n  \"Late Night Study \": \"Beats for the studious individual \",\n  \"Glitz At the Ritz\": \"Wonder and wow through jazzy band ballads.\",\n  \"Loungeside Lovers\": \"Ambiance for the low-key days and nights.\",\n  \"Hearthside Hip\": \"R&B treasures for the late-night bonfire vibes\",\n  \"Travelers Rest\": \"Soft stripped music to lay down to.\",\n  \"Elegant Entertainment\": \"Classical masterpieces for the sophisticated traveler.\",\n  \"Tropical Getaway\": \"A cabana soundtrack for pina coladas and the poolside.\",\n  \"Pep Rally Pop\": \"Let's get this bread.\",\n  \"Study Beats\": \"Lo-fi music for the late study nights.\",\n  \"Intelligence through Inspiration\": \"Ambiance for peaceful reflection and quiet times.\",\n  \"Classical Concentration\": \"Inspiration through piano, strings, and eras of talent\",\n  \"Developing Brains\": \"For the little ones.\",\n  \"Academy Alternative\": \"Alternative hits for those looking to get work done.\",\n  \"Boutique Beats\": \"Continuous flow and feel-good vibes.\",\n  \"Diamonds Are Forever\": \"Inspirational classical music for the sophisticated shopper.\",\n  \"Retail R&B\": \"R&B and pop hits for the casual customer.\",\n  \"Food Court Finds\": \"Grab a bite to eat with this easy-listening soundtrack!\",\n  \"Girls Night Out\": \"Empowering women through confident, feel-good beats.\",\n  \"Upscaled Grace\": \"Elegance through classical masterpieces.\",\n  \"Jukebox of the Ages\": \"Your home for all decades of music.\",\n  \"Wax and Relax\": \"Set the mood with the perfect ambiiance.\",\n  \"Hairdresser Hop\": \"R&B and hip hop hits for the trendsetter.\",\n  \"Nails, Hair, Hips, Heels\": \"Endless feel-good beats.\",\n  \"Pumpin Metal\": \"Rock and Metal soundtrack for the heavy lifter.\",\n  \"Persistence Pop\": \"Keep that grind up.\",\n  \"Pre-Game Pump Up\": \"Get in your head, get in the ring.\",\n  \"Fire Dancing Fiesta\": \"High-energy music for the dancers...and for that perfect body.\",\n  \"Heavy Lifting Hype\": \"Get turnt.\",\n  \"Hamburger Hits\": \"Quick beats for quick bites.\",\n  \"Barbecue Bash\": \"Perfect for the backyard and the beer.\",\n  \"Asian Eats\": \"You don't need a plane ticket.\",\n  \"Taco Truck Temposetter\": \"Are you going to finish all 10 of those tacos?\",\n  \"Boba Beats\": \"Passionfruit, peach stars, pearls, and perfection.\",\n  \"Royalty Dining\": \"Elegnat music for roses and candlelit dinners.\",\n  \"Ethereal Elegance\": \"Transcend within yourself.\",\n  \"Self-Care Classical\": \"Classical music to rejuvinate the brain.\",\n  \"Asian Getaway\": \"Sounds through Japaneese cherry blossoms and night-market eats.\",\n  \"Relaxin' R&B\": \"Good vibes only.\",\n  \"Hot Spring Hits\": \"Glimmering hits for feel-good moments.\",\n  \"Working From Home\": \"Chill beats for ultimate focus and productivity.\",\n  \"New Hobby, New Self\": \"Cooking, dancing, stretching, reading- with this time, anything is possible.\",\n  \"A Time For Reflection\": \"Rise above and let serenity flow in this time of unrest.\",\n  \"Go Hard or (Stay) Home\": \"Quarantine ain't stopping these muscle gains.\",\n  \"Treasured Throwbacks\": \"Remembering the days before this period of time.\",\n  \"Positive Vibes Only (Singing in the Shower)\": \"Sing your heart out to these songs of joy and jubilation!\",\n};\n","export const supersets = {\n  global: [\"Popular Today\"],\n  defaultIndividual: [\"Working From Home\", \"New Hobby, New Self\", \"A Time For Reflection\", \"Go Hard or (Stay) Home\", \"Treasured Throwbacks\", \"Positive Vibes Only (Singing in the Shower)\"],\n  bar: [\"Liquid Courage\", \"Beats and Beers\", \"Taproom Treasures\", \"Flirtatious Friday Night\", \"Settled-Down Speakeasy\", \"Dancin' Across the World\"],\n  cafe: [\"Coffee Curiosity\", \"Bookstore Barista\", \"Classical Cappuccino\", \"Boba Beats\", \"Countryside Cafe\", \"Late Night Study \"],\n  gym: [\"Pumpin Metal\", \"Persistence Pop\", \"Pre-Game Pump Up\", \"Fire Dancing Fiesta\", \"Heavy Lifting Hype\"],\n  hotel: [\"Glitz At the Ritz\", \"Loungeside Lovers\", \"Hearthside Hip\", \"Travelers Rest\", \"Elegant Entertainment\", \"Tropical Getaway\"],\n  other: [\"Flattening the Curve\", \"Upbeat Energy\", \"Laid-back, Low-key.\", \"Learning to Grow\", \"Decades\", \"Ahead of the Curve\"],\n  restaurant: [\"Hamburger Hits\", \"Barbecue Bash\", \"Asian Eats\", \"Taco Truck Temposetter\", \"Boba Beats\", \"Royalty Dining\"],\n  salon: [\"Girls Night Out\", \"Upscaled Grace\", \"Jukebox of the Ages\", \"Wax and Relax\", \"Hairdresser Hop\", \"Nails, Hair, Hips, Heels\"],\n  school: [\"Pep Rally Pop\", \"Study Beats\", \"Intelligence through Inspiration\", \"Classical Concentration\", \"Developing Brains\", \"Academy Alternative\"],\n  spa: [\"Ethereal Elegance\", \"Tropical Getaway\", \"Self-Care Classical\", \"Asian Getaway\", \"Relaxin' R&B\", \"Hot Spring Hits\"],\n  shop: [\"Boutique Beats\", \"Diamonds Are Forever\", \"Jukebox of the Ages\", \"Retail R&B\", \"Girls Night Out\", \"Food Court Finds\"],\n};\n","import { faSnooze, faTurtle, faSquirrel, faRabbitFast, faRocket } from \"@fortawesome/pro-regular-svg-icons\";\n\nexport const tempos = {\n  Slower: { title: \"Slower\", min: 0, max: 55, icon: faSnooze },\n  Slow: { title: \"Slow\", min: 55, max: 75, icon: faTurtle },\n  Moderate: { title: \"Moderate\", min: 75, max: 95, icon: faSquirrel },\n  Fast: { title: \"Fast\", min: 95, max: 115, icon: faRabbitFast },\n  Faster: { title: \"Faster\", min: 115, max: 900, icon: faRocket },\n};\n","export const timezones = {\n  \"America/Adak\": \"-09:00\",\n  \"America/Anchorage\": \"-08:00\",\n  \"America/Boise\": \"-06:00\",\n  \"America/Chicago\": \"-05:00\",\n  \"America/Denver\": \"-06:00\",\n  \"America/Detroit\": \"-04:00\",\n  \"America/Indiana/Indianapolis\": \"-04:00\",\n  \"America/Indiana/Knox\": \"-05:00\",\n  \"America/Indiana/Marengo\": \"-04:00\",\n  \"America/Indiana/Petersburg\": \"-04:00\",\n  \"America/Indiana/Tell_City\": \"- 05:00\",\n  \"America/Indiana/Vevay\": \"-04:00\",\n  \"America/Indiana/Vincennes\": \"-04:00\",\n  \"America/Indiana/Winamac\": \"-04:00\",\n  \"America/Juneau\": \"-08:00\",\n  \"America/Kentucky/Louisville\": \"-04:00\",\n  \"America/Kentucky/Monticello\": \"-04:00\",\n  \"America/Los_Angeles\": \"-07:00\",\n  \"America/Menominee\": \"-05:00\",\n  \"America/Metlakatla\": \"-08:00\",\n  \"America/New_York\": \"-04:00\",\n  \"America/Nome\": \"-08:00\",\n  \"America/North_Dakota/Beulah\": \"-05:00\",\n  \"America/North_Dakota/Center\": \"-05:00\",\n  \"America/North_Dakota/New_Salem\": \"-05:00\",\n  \"America/Phoenix\": \"-07:00\",\n  \"America/Sitka\": \"-08:00\",\n  \"America/Yakutat\": \"-08:00\",\n  \"Pacific/Honolulu\": \"-10:00\",\n};\n","export const full_language_names = {\n  \"ar-XA\": \"Arabic\",\n  \"bn-IN\": \"Bengali (India)\",\n  \"cmn-CN\": \"Mandarin Chinese\",\n  \"cmn-TW\": \"Mandarin Chinese\",\n  \"cs-CZ\": \"Czech (Czech Republic)\",\n  \"da-DK\": \"Danish (Denmark)\",\n  \"de-DE\": \"German (Germany)\",\n  \"el-GR\": \"Greek (Greece)\",\n  \"en-AU\": \"English (Australia)\",\n  \"en-GB\": \"English (UK)\",\n  \"en-IN\": \"English (India)\",\n  \"en-US\": \"English (US)\",\n  \"es-ES\": \"Spanish (Spain)\",\n  \"fi-FI\": \"Finnish (Finland)\",\n  \"fil-PH\": \"Filipino (Philippines)\",\n  \"fr-CA\": \"French (Canada)\",\n  \"fr-FR\": \"French (France)\",\n  \"gu-IN\": \"Gujarati (India)\",\n  \"hi-IN\": \"Hindi (India)\",\n  \"hu-HU\": \"Hungarian (Hungary)\",\n  \"id-ID\": \"Indonesian (Indonesia)\",\n  \"it-IT\": \"Italian (Italy)\",\n  \"ja-JP\": \"Japanese (Japan)\",\n  \"kn-IN\": \"Kannada (India)\",\n  \"ko-KR\": \"Korean (South Korea)\",\n  \"ml-IN\": \"Malayalam (India)\",\n  \"nb-NO\": \"Norwegian (Norway)\",\n  \"nl-NL\": \"Dutch (Netherlands)\",\n  \"pl-PL\": \"Polish (Poland)\",\n  \"pt-BR\": \"Portuguese (Brazil)\",\n  \"pt-PT\": \"Portuguese (Portugal)\",\n  \"ru-RU\": \"Russian (Russia)\",\n  \"sk-SK\": \"Slovak (Slovakia)\",\n  \"sv-SE\": \"Swedish (Sweden)\",\n  \"ta-IN\": \"Tamil (India)\",\n  \"te-IN\": \"Telugu (India)\",\n  \"th-TH\": \"Thai (Thailand)\",\n  \"tr-TR\": \"Turkish (Turkey)\",\n  \"uk-UA\": \"Ukrainian (Ukraine)\",\n  \"vi-VN\": \"Vietnamese (Vietnam)\",\n  \"yue-HK\": \"Chinese (Hong Kong)\",\n};\n\nexport const proper_voice_name = {\n  \"Female A\": \"Amazing Female\",\n  \"Female B\": \"Awesome Female\",\n  \"Female C\": \"Charming Female\",\n  \"Female D\": \"Excellent Female\",\n  \"Female E\": \"Fabulous Female\",\n  \"Female F\": \"Fantastic Female\",\n  \"Female G\": \"Outstanding Female\",\n  \"Female H\": \"Remarkable Female\",\n  \"Female I\": \"Spectacular Female\",\n  \"Female J\": \"Splendid Female\",\n  \"Female K\": \"Stellar Female\",\n  \"Female L\": \"Strong Female\",\n  \"Male A\": \"Amazing Male\",\n  \"Male B\": \"Awesome Male\",\n  \"Male C\": \"Charming Male\",\n  \"Male D\": \"Excellent Male\",\n  \"Male E\": \"Fabulous Male\",\n  \"Male F\": \"Fantastic Male\",\n  \"Male G\": \"Outstanding Male\",\n  \"Male H\": \"Remarkable Male\",\n  \"Male I\": \"Spectacular Male\",\n  \"Male J\": \"Splendid Male\",\n  \"Male K\": \"Stellar Male\",\n  \"Male L\": \"Strong Male\",\n};\n","export * from \"./actionTypes\";\nexport * from \"./analytics\";\nexport * from \"./genreColors\";\nexport * from \"./genreProperNames\";\nexport * from \"./images\";\nexport * from \"./inStoreMessaging.js\";\nexport * from \"./supersetDescriptions\";\nexport * from \"./supersets\";\nexport * from \"./tempos\";\nexport * from \"./timezones\";\nexport * from \"./voices\";\n\nexport const userTypes = {\n  Owner: \"Owner\",\n  Individual: \"Individual\",\n};\n\nexport const defaultStationCount = 12;\n","let initialState = {\n  auth: {\n    user: null,\n    jwt: null,\n    location: {},\n    isApple: false,\n    inApp: false,\n  },\n  snackbar: {\n    notification: {},\n    message: {},\n  },\n  loader: {\n    requestInProgress: 0,\n  },\n  locations: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  playlists: {\n    schedules: [],\n  },\n  stations: {\n    topTrack: [],\n    artists: [],\n    tracks: [],\n    playlistList: [],\n    genreList: [],\n    eraList: [],\n    moodList: [],\n    data: [],\n    count: 0,\n    skip: 0,\n    limit: 10,\n  },\n  stationPreviews: {\n    genre: [],\n    era: [],\n    mood: [],\n    activeStationPreview: [],\n  },\n  selectedPreviews: {\n    ID: \"\",\n    track: [],\n  },\n  zones: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  schedules: {\n    activeSchedule: null,\n    schedules: [],\n  },\n  player: {\n    locationJWT: null,\n    showPlayer: false,\n    isPlaying: false,\n    skipDisabled: false,\n    trackNumber: 0,\n    trackMap: {},\n    playerError: {},\n  },\n  inStoreMessaging: {\n    messages: [],\n  },\n};\n\nexport default initialState;\n","import { get } from \"lodash\";\nimport { tempos } from \"../constants\";\n\nexport const tagTypes = {\n  explicit: { name: \"Explicit\", color: \"#EA526F\" },\n};\n\nexport const capitolizeFirstLetter = (str) => {\n  if (!str) return \"\";\n  return str.charAt(0).toUpperCase() + str.substring(1, str.length);\n};\n\nexport const generateRandomString = (length) => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result.toUpperCase();\n};\n\n/**\n * Converts an object-array to map\n * @param {*} arr - Array to convert\n * @param {*} key - Object key\n */\nexport const objArrayToMap = (arr, key) => {\n  if (!arr || !key) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[get(item, key, null)] = item);\n  });\n  return map;\n};\n\n// Convert array to map\nexport const arrayToMap = (arr) => {\n  if (!arr) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[item] = true);\n  });\n  return map;\n};\n\nexport const hashCode = (s) => {\n  if (!s) return \"\";\n  return \"https://random-station-artwork.s3-us-west-2.amazonaws.com/\" + (Math.abs(s.split(\"\").reduce((a, b) => ((a << 5) - a + b.charCodeAt(0)) | 0, 0)) % 101) + \".jpg\";\n};\n\n// Check screen width for mobile dimensions\nexport const checkForMobile = () => {\n  let width = window.outerWidth;\n  if (width <= 650) return true;\n  return false;\n};\n\n// Converts seconds into \"0:13\" time format\nexport const getTime = (time) => {\n  if (!isNaN(time)) return Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\n  else return \"0:00\";\n};\n\n// Gets the BPM info\nexport const getBPMInfo = (bpm) => {\n  if (bpm >= 0 && bpm <= 55) return tempos[\"Slower\"];\n  else if (bpm >= 55 && bpm <= 75) return tempos[\"Slow\"];\n  else if (bpm >= 75 && bpm <= 95) return tempos[\"Moderate\"];\n  else if (bpm >= 95 && bpm <= 115) return tempos[\"Fast\"];\n  else if (bpm >= 115 && bpm <= 900) return tempos[\"Faster\"];\n  else return tempos[\"Moderate\"];\n};\n\n// Creates, sets, and returns a deviceID\nexport const getDeviceId = () => {\n  let deviceID = localStorage.getItem(\"deviceID\"); // Get previously generated deviceID (if any)\n  if (!deviceID) {\n    deviceID = \"web-\" + generateRandomString(10); // If no deviceID, create one\n    localStorage.setItem(\"deviceID\", deviceID); // Store deviceID\n  }\n  return deviceID;\n};\n","import { SET_INAPP, SET_IS_APPLE, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_EXPLICIT, SET_TRACK_SCHEDULE, SET_USER, LOGIN_SUCCESS, SET_LOCATION, UPDATE_STATION, UPDATE_CURRENT_TRACK, SET_FAVORITES } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nconst auth_reducer = (state = initialState.auth, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, { ...action.data });\n    case SET_USER:\n      return Object.assign({}, state, { user: action.data });\n    case SET_LOCATION:\n      return Object.assign({}, state, { location: { ...action.data, favoritesMap: objArrayToMap(get(action, \"data.favorites\", []), \"_id\") } });\n    case UPDATE_STATION:\n      return Object.assign({}, state, { location: { ...state.location, station: action.data } });\n    case UPDATE_CURRENT_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, currentTrack: action.data } });\n    case SET_FAVORITES:\n      return Object.assign({}, state, { location: { ...state.location, favorites: action.data, favoritesMap: objArrayToMap(get(action, \"data\", []), \"_id\") } });\n    case SET_EXPLICIT:\n      return Object.assign({}, state, { location: { ...state.location, explicit: action.data } });\n    case SET_PAIRED_DEVICE:\n      return Object.assign({}, state, { location: { ...state.location, pairedDevice: action.data } });\n    case SET_LAST_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, lastTrack: action.data } });\n    case SET_TRACK_SCHEDULE:\n      return Object.assign({}, state, { location: { ...state.location, trackSchedule: action.data } });\n    case SET_IS_APPLE: // This is an action for APPLE review\n      return Object.assign({}, state, { isApple: action.data });\n    case SET_INAPP: // Is the user viewing the webapp via our mobile app\n      if (get(action, \"data\", false)) {\n        localStorage.setItem(\"inApp\", true); // Store in local storage. Needed because when app user does login/out, we refresh the page, which removes an inApp reference\n        window.inApp = true;\n      }\n      return Object.assign({}, state, { inApp: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default auth_reducer;\n","// Auth\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const SET_LOCATION = \"SET_LOCATION\";\nexport const SET_USER = \"SET_USER\";\nexport const SET_FAVORITES = \"SET_FAVORITES\";\nexport const SET_PAIRED_DEVICE = \"SET_PAIRED_DEVICE\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILED = \"SIGNUP_FAILED\";\nexport const SET_IS_APPLE = \"SET_IS_APPLE\";\nexport const SET_INAPP = \"SET_INAPP\";\n\n// Loader\nexport const LOADER_SHOW = \"LOADER_SHOW\";\nexport const LOADER_HIDE = \"LOADER_HIDE\";\n\n// Player\nexport const SET_TRACK_SCHEDULE = \"SET_TRACK_SCHEDULE\";\nexport const SET_EXPLICIT = \"SET_EXPLICIT\";\nexport const SET_LAST_TRACK = \"SET_LAST_TRACK\";\nexport const SET_TRACK_MAP = \"SET_TRACK_MAP\";\nexport const SET_TRACK_NUMBER = \"SET_TRACK_NUMBER\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_SHOW_PLAYER = \"SET_SHOW_PLAYER\";\nexport const SET_LOCATION_JWT = \"SET_LOCATION_JWT\";\nexport const DISCONNECT_PLAYER_SUCCESS = \"DISCONNECT_PLAYER_SUCCESS\";\nexport const PLAYER_ERROR = \"PLAYER_ERROR\";\nexport const SET_SKIP_DISABLED = \"SET_SKIP_DISABLED\";\n\n// Snackbar\nexport const SET_SNACKBAR_NOTIFICATION = \"SET_SNACKBAR_NOTIFICATION\";\nexport const SET_SNACKBAR_MESSAGE = \"SET_SNACKBAR_MESSAGE\";\n\n// Playlist\nexport const SET_PLAYLISTS = \"SET_PLAYLISTS\";\n\n// Stations\nexport const GET_PUBLIC_STATIONS_FOR_DISCOVER = \"GET_PUBLIC_STATIONS_FOR_DISCOVER\";\nexport const UPDATE_STATION = \"UPDATE_STATION\";\nexport const UPDATE_CURRENT_TRACK = \"UPDATE_CURRENT_TRACK\";\n\n// Create Schedule\nexport const ADD_SCHEDULE = \"ADD_SCHEDULE\";\nexport const SET_SCHEDULE = \"SET_SCHEDULE\";\nexport const ACTIVE_SCHEDULE = \"ACTIVE_SCHEDULE\";\n\n// In-Store Messaging\nexport const SET_INSTORE_MESSAGES = \"SET_INSTORE_MESSAGES\";\n","import { SET_INSTORE_MESSAGES } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst inStoreMessaging_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_INSTORE_MESSAGES:\n      return Object.assign({}, state, { messages: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default inStoreMessaging_reducer;\n","import { SET_SKIP_DISABLED, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_TRACK_MAP, SET_TRACK_NUMBER, SET_IS_PLAYING, SET_SHOW_PLAYER, SET_LOCATION_JWT } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst player_reducer = (state = initialState.player, action) => {\n  switch (action.type) {\n    case SET_TRACK_MAP:\n      return Object.assign({}, state, { trackMap: action.data });\n    case SET_TRACK_NUMBER:\n      return Object.assign({}, state, { trackNumber: action.data });\n    case SET_IS_PLAYING:\n      return Object.assign({}, state, { isPlaying: action.data });\n    case SET_SKIP_DISABLED:\n      return Object.assign({}, state, { skipDisabled: action.data });\n    case SET_SHOW_PLAYER:\n      return Object.assign({}, state, { showPlayer: action.data });\n    case SET_LOCATION_JWT:\n      return Object.assign({}, state, { locationJWT: action.data });\n    case PLAYER_ERROR:\n      return Object.assign({}, state, { playerError: action.data });\n    case DISCONNECT_PLAYER_SUCCESS:\n      localStorage.removeItem(\"location-jwt\");\n      return Object.assign({}, state, { locationJWT: null });\n    default:\n      return state;\n  }\n};\n\nexport default player_reducer;\n","import { SET_PLAYLISTS } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst playlists_reducer = (state = initialState.playlists, action) => {\n  switch (action.type) {\n    case SET_PLAYLISTS:\n      return Object.assign([], state, { schedules: action.data });\n    default:\n      return state;\n  }\n};\nexport default playlists_reducer;\n","import { ADD_SCHEDULE, SET_SCHEDULE, ACTIVE_SCHEDULE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst selected_stations_preview_reducer = (state = initialState.selectedPreviews, action) => {\n  switch (action.type) {\n    case ADD_SCHEDULE:\n      return Object.assign(\n        {},\n        { ...state },\n        {\n          data: null,\n        }\n      );\n    case SET_SCHEDULE:\n      return Object.assign({}, state, {\n        ID: \"\",\n        track: [],\n      });\n    case ACTIVE_SCHEDULE:\n      return Object.assign({}, state, {\n        activeSchedule: action.data,\n      });\n    default:\n      return state;\n  }\n};\nexport default selected_stations_preview_reducer;\n","import { SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst snackbar_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_SNACKBAR_NOTIFICATION:\n      return Object.assign({}, state, { notification: action.data });\n    case SET_SNACKBAR_MESSAGE:\n      return Object.assign({}, state, { message: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default snackbar_reducer;\n","import { GET_PUBLIC_STATIONS_FOR_DISCOVER } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst stations_reducer = (state = initialState.stations, action) => {\n  switch (action.type) {\n    case GET_PUBLIC_STATIONS_FOR_DISCOVER:\n      return Object.assign({}, state, {\n        playlistList: action.data.playlistList,\n        genreList: action.data.genreList,\n        eraList: action.data.eraList,\n        moodList: action.data.moodList,\n      });\n    default:\n      return state;\n  }\n};\nexport default stations_reducer;\n","import { combineReducers } from \"redux\";\nimport auth from \"./auth\";\nimport inStoreMessaging from \"./inStoreMessaging\";\nimport player from \"./player\";\nimport playlists from \"./playlists\";\nimport schedules from \"./schedules\";\nimport snackbar from \"./snackbar\";\nimport stations from \"./stations\";\n\nexport default combineReducers({\n  auth,\n  inStoreMessaging,\n  player,\n  playlists,\n  schedules,\n  snackbar,\n  stations,\n});\n","/* eslint-disable no-undef */\n\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport reduxImmutableStateInvariant from \"redux-immutable-state-invariant\";\nimport thunk from \"redux-thunk\";\nimport { createBrowserHistory } from \"history\";\n// 'routerMiddleware': the new way of storing route changes with redux middleware since rrV4.\n// import { routerMiddleware } from 'react-router-redux';\nimport rootReducer from \"../reducers\";\nexport const history = createBrowserHistory();\n\nfunction configureStoreProd(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  return createStore(rootReducer, initialState, compose(applyMiddleware(...middlewares)));\n}\n\nfunction configureStoreDev(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n    reduxImmutableStateInvariant(),\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\n  const store = createStore(rootReducer, initialState, composeEnhancers(applyMiddleware(...middlewares)));\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept(\"../reducers\", () => {\n      const nextReducer = require(\"../reducers\").default; // eslint-disable-line global-require\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n\nconst configureStore = process.env.NODE_ENV === \"production\" ? configureStoreProd : configureStoreDev;\n\nexport default configureStore;\n","let config = {\n  // API_URL: \"https://prod.ambii.io/v2\", // prodB\n  // SOCKET_URL: \"https:/prod.ambii.io\",\n  API_URL: \"https://hola.ambii.io/v2\", // prodA\n  SOCKET_URL: \"https:/hola.ambii.io\",\n  // API_URL: \"https://hola-dev.ambii.io/v2\", // dev\n  // SOCKET_URL: \"https:/hola-dev.ambii.io\",\n  // API_URL: \"http://localhost:4040/v2\", // local\n  // SOCKET_URL: \"http://localhost:4040\",\n  APP_TITLE: \"Ambii\",\n};\n\nexport default config;\n","import axios from \"axios\";\nimport config from \"./urls\";\nimport { get } from \"lodash\";\n\nexport async function HTTP(method, uri, data, headers = null, params = null) {\n  const url = `${config.API_URL}${uri}`.trim();\n  let query = {\n    method: method,\n    url: url,\n    headers: {},\n  };\n\n  if (headers !== null) query.headers = headers;\n  if (params !== null) query.params = params;\n  if (method === \"post\" || method === \"put\" || method === \"delete\" || method === \"patch\") query.data = data;\n\n  query.headers[\"Authorization\"] = \"Bearer \" + localStorage.getItem(\"access-token\");\n\n  return new Promise(function (resolve, reject) {\n    axios(query)\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((err) => {\n        console.log(\"Caught api error: \", err);\n\n        if (err.message === \"Network Error\") {\n          window.alert(err.message);\n        } else if (get(err, \"response.data.message\", null) === \"The token has expired, please login again!\") {\n          // Used to catch if another device connects while web player is connected\n          resolve(false);\n        } else if (err.response && err.response.status === 401) {\n          localStorage.removeItem(\"access-token\");\n          // window.location.reload(true);\n        } else {\n          reject(err);\n        }\n      });\n  });\n}\n","import { SET_INAPP, SET_IS_APPLE, SET_INSTORE_MESSAGES, GET_PUBLIC_STATIONS_FOR_DISCOVER, ACTIVE_SCHEDULE, SET_SCHEDULE, SET_PLAYLISTS, SET_FAVORITES, LOGIN_SUCCESS, SET_USER, SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_LOCATION, SET_LOCATION_JWT, SET_TRACK_NUMBER, SET_SHOW_PLAYER, SET_IS_PLAYING, SET_TRACK_SCHEDULE, SET_EXPLICIT, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_TRACK_MAP, UPDATE_STATION, UPDATE_CURRENT_TRACK, SET_SKIP_DISABLED, SIGNUP_SUCCESS, SIGNUP_FAILED, LOADER_SHOW, LOADER_HIDE } from \"../constants\";\n\nexport const setInApp = (data) => (dispatch) => {\n  dispatch({\n    type: SET_INAPP,\n    data,\n  });\n};\n\nexport const setIsApple = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_APPLE,\n    data,\n  });\n};\n\nexport const setFavorites = (data) => (dispatch) => {\n  dispatch({\n    type: SET_FAVORITES,\n    data,\n  });\n};\n\nexport const setTrackSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_SCHEDULE,\n    data,\n  });\n};\n\nexport const setExplicit = (data) => (dispatch) => {\n  dispatch({\n    type: SET_EXPLICIT,\n    data,\n  });\n};\n\nexport const setPairedDevice = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PAIRED_DEVICE,\n    data,\n  });\n};\n\nexport const setLastTrack = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LAST_TRACK,\n    data,\n  });\n};\n\nexport const setTrackMap = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_MAP,\n    data,\n  });\n};\n\nexport const setLocation = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION,\n    data,\n  });\n};\n\nexport const setJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setLocationJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setStation = (data) => (dispatch) => {\n  dispatch({\n    type: UPDATE_STATION,\n    data,\n  });\n};\n\nexport const setCurrentTrack = (data) => (dispatch) => {\n  dispatch({\n    type: UPDATE_CURRENT_TRACK,\n    data,\n  });\n};\n\nexport const playerError = (data) => (dispatch) => {\n  dispatch({\n    type: PLAYER_ERROR,\n    data,\n  });\n};\n\nexport const showPlayer = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SHOW_PLAYER,\n    data,\n  });\n};\n\nexport const setIsPlaying = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_PLAYING,\n    data,\n  });\n};\n\nexport const setDisableSkip = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SKIP_DISABLED,\n    data,\n  });\n};\n\nexport const setTrackNumber = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_NUMBER,\n    data,\n  });\n};\n\nexport const disconnectPlayerSuccess = () => (dispatch) => {\n  dispatch({ type: DISCONNECT_PLAYER_SUCCESS });\n};\n\nexport const loginSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: LOGIN_SUCCESS,\n    data,\n  });\n};\n\nexport const setUser = (data) => (dispatch) => {\n  dispatch({\n    type: SET_USER,\n    data,\n  });\n};\n\nexport const _setSnackbarNotification = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_NOTIFICATION,\n    data,\n  });\n};\n\nexport const _setSnackbarMessage = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_MESSAGE,\n    data,\n  });\n};\n\nexport const setActiveSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: ACTIVE_SCHEDULE,\n    data,\n  });\n};\n\nexport const _setSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SCHEDULE,\n    data,\n  });\n};\n\nexport const setSchedules = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PLAYLISTS,\n    data,\n  });\n};\n\nexport const getPublicStationsForDiscover = (data) => (dispatch) => {\n  dispatch({\n    type: GET_PUBLIC_STATIONS_FOR_DISCOVER,\n    data,\n  });\n};\n\nexport const setInStoreMessages = (data) => (dispatch) => {\n  dispatch({\n    type: SET_INSTORE_MESSAGES,\n    data,\n  });\n};\n\nexport const signUpSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_SUCCESS,\n    data,\n  });\n};\n\nexport const signUpFailed = (error) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_FAILED,\n    error,\n  });\n};\n\nexport const showLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_SHOW,\n  });\n};\n\nexport const hideLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_HIDE,\n  });\n};\n","import config from \"./urls\";\nimport io from \"socket.io-client\";\n\nexport const socket = io(config.SOCKET_URL);\n\nexport const socketChannels = {\n  //default socket client function\n  connect: \"connect-web\",\n  //default socket client function\n  disconnect: \"disconnect\",\n  //default socket client function\n  reconnect: \"reconnect\",\n  //server will fire to user when player connects with station\n  playerPaired: \"player-paired\",\n  //server will fire to user when player unpaired itself with station\n  playerUnPaired: \"player-un-paired\",\n  //server will fire to user when player disconnects only (goes offline)\n  playerDisconnected: \"player-disconnected\",\n  //server will fire to user, when player starts playing a song\n  playerPlayed: \"player-played\",\n  //server will fire to user, when player gets paused\n  playerPaused: \"player-paused\",\n  //server will fire to user and player when a playable songs adds into a station\n  stationUpdated: \"station-updated\",\n  //server will fire to user, when player call play next song\n  onPlayNext: \"player-called-next\",\n};\n","import { HTTP } from \"../configs/api\";\nimport { socket, socketChannels } from \"../configs/socket\";\nimport { setPairedDevice, showPlayer, setLastTrack, setDisableSkip, setTrackNumber, setTrackMap, setLocation, setTrackSchedule, setLocationJWT, setStation, setCurrentTrack, disconnectPlayerSuccess, setIsPlaying } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap, getDeviceId } from \"../util\";\n\nexport const addPlayerListeners = () => (dispatch) => {\n  playerPaired(dispatch);\n  playerUnPaired(dispatch);\n  playerDisconnected(dispatch);\n  playerPlayed(dispatch);\n  playerPaused(dispatch);\n};\n\nexport function disconnectPlayer() {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve, reject) => {\n      let locationJWT = localStorage.getItem(\"location-jwt\");\n\n      // Return if required data missing\n      if (!locationJWT) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/disconnect\", { locationId: get(getState(), \"auth.location._id\", \"\"), locationJWT, deviceID: getDeviceId() }, { \"player-access-token\": locationJWT })\n        .then(async (response) => {\n          try {\n            console.log(\"disconnect: \", response);\n            dispatch(setPairedDevice(get(response, \"data.data.pairedDevice\", {}))); // Set the paired device to incoming. Important for changing UI\n            dispatch(disconnectPlayerSuccess());\n            dispatch(showPlayer(false));\n          } catch (err) {\n            console.log(\"Caught error on disconnectPlayer: \", err);\n          }\n          resolve(get(response, \"data.data\", null));\n        })\n        .catch((error) => {\n          console.log(\"disconnectPlayer error: \", error);\n          reject(error.response);\n        });\n    });\n  };\n}\n\nexport function connectPlayer(data) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      // Return if required data missing\n      if (!data) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/connect\", data)\n        .then(async (response) => {\n          const res = get(response, \"data.data\", null);\n          if (get(res, \"data\", null) === \"DEVICE_ALREADY_PAIRED\") return resolve(\"DEVICE_ALREADY_PAIRED\");\n          // Location already connected to\n          else {\n            // Location not connected to\n            console.log(\"connectPlayer : \", response);\n\n            let locationJWT = get(res, \"jwt\", null);\n            localStorage.setItem(\"location-jwt\", locationJWT); // Save location jwt to local storage\n\n            let location = get(res, \"location\", {});\n            let trackSchedule = get(location, \"trackSchedule\", []);\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n            let currentTrack = get(location, \"currentTrack\", null); // Get the currentTrackNumber from server\n            let currentTrackNumber = get(location, \"currentTrackNumber\", 0); // Get the currentTrackNumber from server\n            let currentTrackByNumber = get(trackSchedule, \"queue[\" + currentTrackNumber + \"]\", currentTrack); // Get the currentTrack by number\n\n            // console.log(\"connect: \", {currentTrack, currentTrackByNumber, currentTrackNumber, trackSchedule, trackMap})\n            // Dispatch parent data first\n            dispatch(setLocation(location)); // Save location updates\n            dispatch(setLocationJWT(locationJWT)); // Save location's jwt\n            dispatch(setTrackMap(trackMap)); // Save track map\n            dispatch(setTrackNumber(currentTrackNumber)); // Save track map\n            dispatch(setCurrentTrack(currentTrackByNumber));\n\n            // Dispatch specific data into parent\n            dispatch(setTrackSchedule(trackSchedule)); // Set Track Schedule\n            dispatch(showPlayer(true));\n\n            resolve(res);\n          }\n        })\n        .catch((error) => {\n          console.log(\"connectPlayer error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function playNextReq({ jwt, data }) {\n  return function (dispatch) {\n    return new Promise(async (resolve) => {\n      try {\n        // Return if required data missing\n        if (!jwt || !data) return resolve(false);\n\n        HTTP(\"post\", \"/auth/player/play-next\", data, { \"player-access-token\": jwt })\n          .then(async (response) => {\n            console.log(\"playNextReq: \", response);\n            if (response) {\n              let data = get(response, \"data.data\", {});\n              const sameStation = get(data, \"sameStation\", true);\n              // Check for DEVICE_ALREADY_PAIRED warning\n              if (get(data, \"data\", \"\") === \"DEVICE_ALREADY_PAIRED\") return resolve(get(data, \"data\", \"\"));\n\n              // If the station has changed in the background\n              if (!sameStation) {\n                let location = get(data, \"location\", {});\n                let trackSchedule = get(data, \"location.trackSchedule\", {});\n                let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n                // Dispatch parent data first\n                dispatch(setLocation(location)); // Save location updates\n                dispatch(setTrackMap(trackMap)); // Save track map\n                dispatch(setTrackNumber(get(location, \"currentTrackNumber\", 0))); // Save track map\n\n                // Dispatch specific data into parent\n                dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n              }\n              resolve(true);\n            } else resolve(false);\n          })\n          .catch((error) => {\n            console.log(\"error: \", error);\n            resolve(false);\n          });\n      } catch (err) {\n        console.log(\"playNextReq err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\nexport function skipSong({ songCompletion }) {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve) => {\n      try {\n        if (!songCompletion) songCompletion = \"0\";\n\n        let location = get(getState(), \"auth.location\", {});\n        let player = get(getState(), \"player\", {});\n\n        dispatch(setDisableSkip(true));\n        let trackScheduleId = get(location, \"trackSchedule._id\", \"\");\n        let trackScheduleLength = get(location, \"trackSchedule.queue\", []).length - 1;\n        let queue = get(location, \"trackSchedule.queue\", []);\n        let lastTrack = get(location, \"currentTrack\", {});\n        let trackNumber = get(player, \"trackNumber\", 0);\n        let nextTrack = null;\n\n        // Get the next track / track number\n        if (trackNumber + 1 <= trackScheduleLength) {\n          nextTrack = queue[trackNumber + 1] || \"\";\n          trackNumber += 1;\n        } else {\n          nextTrack = get(location, \"trackSchedule.queue[\" + 0 + \"]\", \"\");\n          trackNumber = 0;\n        }\n\n        let checkTrackNumber = await dispatch(getTrackNumberByTrack(nextTrack));\n\n        // Tries to make sure track number is the same as the song it's trying to play\n        if (checkTrackNumber && trackNumber !== checkTrackNumber) trackNumber = checkTrackNumber;\n\n        dispatch(setLastTrack(lastTrack)); // Reset last track\n        dispatch(setCurrentTrack(nextTrack));\n        dispatch(setTrackNumber(trackNumber));\n        // console.log({ props: getState(), checkTrackNumber, songCompletion, lastTrack, nextTrack, trackNumber, queue, trackScheduleId, trackScheduleLength, deviceID: getDeviceId() });\n\n        let playNextRes = await dispatch(\n          playNextReq({\n            jwt: get(player, \"locationJWT\", null),\n            data: {\n              locationId: get(location, \"_id\", null),\n              stationId: get(location, \"station._id\", null),\n              trackScheduleId,\n              nextTrack,\n              lastTrack,\n              deviceID: getDeviceId(),\n              songCompletion,\n              currentTrackNumber: trackNumber.toString(),\n            },\n          })\n        );\n\n        if (playNextRes) {\n          console.log(\"music bar props: \", getState());\n          if (playNextRes === \"DEVICE_ALREADY_PAIRED\") {\n            dispatch(setIsPlaying(false));\n            dispatch(setDisableSkip(false));\n            await dispatch(disconnectPlayer());\n            return resolve(playNextRes);\n          }\n        } else return resolve(false);\n\n        resolve(true);\n      } catch (err) {\n        dispatch(setDisableSkip(false));\n        console.log(\"caught callPlayNext err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\n// Checks to see if we need to disable skip on the current song\nexport function checkIfAdvertisement(currentTrack) {\n  return function (dispatch) {\n    let isAdvertisement = get(currentTrack, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n    let isInStoreMessage = get(currentTrack, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n    if (isAdvertisement || isInStoreMessage) dispatch(setDisableSkip(true));\n    else {\n      let skipTimer = setTimeout(() => {\n        clearTimeout(skipTimer);\n        dispatch(setDisableSkip(false));\n      }, 2000);\n    }\n  };\n}\n\n// Gets the track position of the passed track\nexport function getTrackNumberByTrack(track) {\n  return function (dispatch, getState) {\n    return new Promise((resolve) => {\n      let location = get(getState(), \"auth.location\", {});\n      let trackSchedule = get(location, \"trackSchedule.queue\", []);\n\n      let isAdvertisement = get(track, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n      let isInStoreMessage = get(track, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n      if (isAdvertisement || isInStoreMessage) return resolve(false);\n\n      for (let i = 0; i < trackSchedule.length; i++) {\n        if (get(trackSchedule[i], \"isrc\", \"\") === get(track, \"isrc\", track)) return resolve(i);\n      }\n\n      resolve(false);\n    });\n  };\n}\n\nexport const removePlayerListeners = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.playerPaired);\n  socket.removeEventListener(socketChannels.playerUnPaired);\n  socket.removeEventListener(socketChannels.playerDisconnected);\n  socket.removeEventListener(socketChannels.playerPlayed);\n  socket.removeEventListener(socketChannels.playerPaused);\n};\n\nexport const updateStationListener = () => (dispatch) => {\n  socket.on(socketChannels.stationUpdated, (data) => {\n    dispatch(setStation(data));\n  });\n};\n\nexport const updateCurrentTrackListener = () => (dispatch) => {\n  socket.on(socketChannels.onPlayNext, (data) => {\n    dispatch(setCurrentTrack(get(data, \"track\", {})));\n  });\n};\n\nexport const removeStationListener = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.stationUpdated);\n};\n\nconst playerPaired = (dispatch) => {\n  socket.on(socketChannels.playerPaired, (data) => {\n    console.log(\"Player Paired\", data);\n  });\n};\n\nconst playerUnPaired = (dispatch) => {\n  socket.on(socketChannels.playerUnPaired, (data) => {\n    console.log(\"Player UnPaired\", data);\n  });\n};\n\nconst playerDisconnected = (dispatch) => {\n  socket.on(socketChannels.playerDisconnected, (data) => {\n    console.log(\"Player Disconnected\", data);\n  });\n};\n\nconst playerPlayed = (dispatch) => {\n  socket.on(socketChannels.playerPlayed, (data) => {\n    console.log(\"Player playerPlayed\", data);\n  });\n};\n\nconst playerPaused = (dispatch) => {\n  socket.on(socketChannels.playerPaused, (data) => {\n    console.log(\"Player playerPaused\");\n  });\n};\n","import { HTTP } from \"../configs/api\";\nimport { setIsApple, loginSuccess, setUser, setLocation, hideLoader, showLoader, signUpFailed, signUpSuccess } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { getDeviceId } from \"../util\";\nimport { connectPlayer } from \"./player\";\n\nexport function auth0setLogin() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      HTTP(\"post\", \"/auth/login\")\n        .then((response) => {\n          console.log(\"auth0setLogin res: \", response);\n          let data = get(response, \"data.data\", null);\n          let location = get(data, \"defaultLocation\", {});\n\n          // The fact this line (and any subsequent code) exists is reltih\n          if (get(data, \"user.email\", \"\").toLowerCase() === \"apple@ambii.io\") dispatch(setIsApple(true));\n\n          // Dispatch\n          dispatch(loginSuccess(data));\n          dispatch(setUser(get(data, \"user\", {})));\n          dispatch(setLocation(location));\n          getDeviceId();\n\n          // Auto-connects player\n          if (get(location, \"pairedDevice.uniqueId\", null) === getDeviceId()) {\n            let obj = {\n              token: get(location, \"token\", \"\"),\n              deviceName: \"web\",\n              uniqueId: getDeviceId(),\n              deviceBrand: \"web\",\n              override: false,\n            };\n\n            dispatch(connectPlayer(obj));\n          }\n\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"auth0setLogin error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function auth0clearLogin() {\n  return function (dispatch) {\n    dispatch(setUser({}));\n    dispatch(setLocation({}));\n  };\n}\n\nexport function mixMaxRegister({ id, email, name }) {\n  return function (dispatch) {\n    HTTP(\"post\", \"/public/create-new-mix-max-contact\", { id, email, name, groupName: \"Signed Up Users\" });\n  };\n}\n\nexport function signUp(data) {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      dispatch(showLoader());\n      HTTP(\"post\", \"/auth/sign-up\", data)\n        .then((response) => {\n          let data = get(response, \"data.data\");\n\n          if (get(response, \"data.success\", false)) {\n            dispatch(signUpSuccess(data));\n            dispatch(setUser(get(data, \"user\", {})));\n            dispatch(setLocation(get(data, \"defaultLocation\", {})));\n          }\n          resolve(response.data);\n        })\n        .catch((error) => {\n          let message = get(error, \"response\", \"\");\n          dispatch(signUpFailed(message));\n          reject(message);\n        })\n        .finally(() => {\n          dispatch(hideLoader());\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setExplicit, setTrackSchedule, setFavorites, setTrackMap, setTrackNumber, setLastTrack } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\n// Toggle Station Favorite\nexport function toggleFavorite({ locationId, stationId, favorites }) {\n  return function (dispatch) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !stationId || !favorites) return resolve(false);\n\n      HTTP(\"post\", `/api/location/${locationId}/toggleFavorite/`, { locationId, stationId }, auth)\n        .then((response) => {\n          let station = get(response, \"data.data.station\", {});\n          let type = get(response, \"data.data.type\", {});\n          let newFavorites = [...favorites];\n\n          if (type === \"remove\") {\n            for (let i = 0; i < newFavorites.length; i++) if (newFavorites[i]._id === station) newFavorites.splice(i, 1);\n          } else newFavorites.push(station);\n\n          // Set favorites\n          dispatch(setFavorites(newFavorites));\n\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(true);\n        });\n    });\n  };\n}\n\n// Toggle Explicit\nexport function toggleExplicit({ locationId, currentTrack }) {\n  return function (dispatch, getState) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !currentTrack) return resolve(false);\n\n      let previousExplicitState = get(getState(), \"auth.location.explicitAllowed\", false);\n      HTTP(\"post\", `/api/location/${locationId}/toggleExplicit/`, { locationId, currentTrack }, auth)\n        .then((response) => {\n          console.log(\"toggleExplicit: \", response);\n          let data = get(response, \"data.data.location\", {});\n\n          let trackSchedule = get(data, \"trackSchedule\", {});\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n          let explicitAllowed = get(data, \"explicitAllowed\", false);\n          let lastTrack = get(data, \"lastTrack\", null);\n\n          // Dispatch parent data first\n          dispatch(setExplicit(explicitAllowed)); // Set location data\n          dispatch(setTrackMap(trackMap)); // Save track map\n\n          // Dispatch specific data into parent\n          dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n          dispatch(setTrackNumber(0)); // Reset Track Number\n          dispatch(setLastTrack(lastTrack)); // Reset last track\n\n          resolve(explicitAllowed);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(previousExplicitState);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setCurrentTrack, setTrackNumber, setLocation, getPublicStationsForDiscover, setTrackSchedule, setTrackMap } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\n// Return a station's information\nexport function getStation(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"get\", \"/api/location/\" + companyId, null, auth)\n        .then((res) => {\n          console.log(\"getStation: \", res);\n          dispatch(setLocation(get(res, \"data.data\", null)));\n          resolve(res);\n        })\n        .catch((err) => {\n          console.log(\"getStation err: \", err);\n          reject(err);\n        });\n    });\n  };\n}\n\nexport function getDiscoverPulicStations() {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      HTTP(\"get\", \"/public/station\")\n        .then((res) => {\n          let data = get(res, \"data.data\", {});\n\n          let filteredData = {\n            eraList: [],\n            genreList: [],\n            moodList: [],\n            tempoList: [],\n            playlistList: [],\n          };\n\n          get(data, \"playlistList\", []).forEach((station) => {\n            if (station.track.length > 0) filteredData.playlistList.push(station);\n          });\n\n          dispatch(getPublicStationsForDiscover(filteredData));\n\n          resolve(filteredData);\n        })\n        .catch((err) => {\n          console.log(\"getDiscoverPulicStations error in action \", err);\n          reject(err);\n        });\n    });\n  };\n}\n\nexport function getStationDetails(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!id) return resolve(false);\n\n      if (get(auth, \"access-token\", false)) {\n        HTTP(\"get\", `/api/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      } else {\n        HTTP(\"get\", `/public/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      }\n    });\n  };\n}\n\nexport function assignStation(companyId, stationId) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !companyId) || !stationId) return resolve(false);\n\n      HTTP(\"post\", `/api/company/${companyId}/station/${stationId}`, null, auth)\n        .then((res) => {\n          let data = get(res, \"data.data\", {});\n          let trackSchedule = get(data, \"trackSchedule\", {});\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n          // Dispatch parent data first\n          dispatch(setLocation(data)); // Set Location\n          dispatch(setTrackMap(trackMap)); // Set Track Map\n\n          // Dispatch specific data into parent\n          let currentTrack = get(trackSchedule, \"queue[\" + 0 + \"]\", get(data, \"currentTrack\", {})); // Set current track to first song in filtered queue\n          dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n          dispatch(setCurrentTrack(currentTrack)); // Update current track\n          dispatch(setTrackNumber(0)); // Reset Track Number\n\n          resolve(data);\n        })\n        .catch((err) => {\n          console.log(\"Error :\", err);\n          reject(err.response);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { message } from \"antd\";\nimport { _setSchedule, setActiveSchedule, setSchedules, setLocation, setTrackMap, setTrackSchedule, setCurrentTrack, setTrackNumber } from \"./dispatch\";\nimport { setSnackbarMessage } from \"./index\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nexport function createSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/createSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Create Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"createSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not create schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/getSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Get Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"getSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not find schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function editSchedule(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      dispatch(setActiveSchedule(id));\n      resolve(true);\n    });\n  };\n}\n\nexport function setSchedule({ companyId, scheduleId, name, stations }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId || !name || !stations) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/schedule\", { scheduleId, name, stations }, auth)\n        .then((response) => {\n          let schedule = get(response, \"data\", {});\n          console.log(\"create playlist res in action \", response);\n          dispatch(_setSchedule(schedule));\n          resolve(schedule);\n        })\n        .catch((error) => {\n          console.log(\"setSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"cannot find artist or track\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getMyPlaylists({ companyId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"get\", \"/api/company/\" + companyId + \"/getSchedules\", null, auth)\n        .then((res) => {\n          console.log(\"getMyPlaylists res: \", res);\n          let data = get(res, \"data.data.schedules\", []);\n          dispatch(setSchedules(data));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"getMyPlaylists error\", err.response);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function assignSchedule({ companyId, scheduleId }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/assignSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"assignSchedule: \", response);\n\n          let location = get(response, \"data.data\", false);\n          if (location) {\n            let trackSchedule = get(location, \"trackSchedule\", {});\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n            // Dispatch parent data first\n            dispatch(setLocation(location)); // Set location data\n            dispatch(setTrackMap(trackMap)); // Set track map\n\n            // Dispatch specific data into parent\n            let currentTrack = get(trackSchedule, \"queue[\" + 0 + \"]\", get(location, \"currentTrack\", {})); // Set current track to first song in filtered queue\n            dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n            dispatch(setCurrentTrack(currentTrack)); // Update current track\n            dispatch(setTrackNumber(0)); // Reset Track Number\\\n          } else dispatch(setSnackbarMessage({ message: \"Schedule is already playing!\", type: \"info\" }));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"assignSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function deleteSchedule({ companyId, scheduleId }) {\n  return function (dispatch, getState) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/deleteSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"deleteSchedule: \", response);\n          let deletedSchedule = get(response, \"data.data._id\", null);\n          if (deletedSchedule) {\n            let schedules = [...get(getState(), \"playlists.schedules\", [])];\n\n            // Remove deleted schedule from client\n            for (let i = 0; i < schedules.length; i++) if (get(schedules[i], \"_id\", \"\") === deletedSchedule) schedules.splice(i, 1);\n\n            dispatch(setSchedules(schedules));\n          }\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"deleteSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setInStoreMessages } from \"./dispatch\";\nimport { get } from \"lodash\";\n\nexport function getMessages({ companyId, locationId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId) return resolve(false);\n\n      HTTP(\"post\", \"/api/listMessages\", { companyId, locationId }, auth)\n        .then((response) => {\n          console.log(\"getMessages res\", response);\n          dispatch(setInStoreMessages(get(response, \"data.data\", [])));\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"getMessages error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for creating a message preview\nexport function createPreviewMessage({ voice, language, message, speed, hash }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !hash) return resolve(false);\n\n      HTTP(\"post\", \"/api/createPreviewMessage\", { voice, language, message, speed, hash }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"createPreviewMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for creating a message\nexport function createMessage({ companyId, locationId, title, voice, language, message, speed, frequency, savedPreviews, hash }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !title || !message) return resolve(false);\n\n      HTTP(\"post\", \"/api/createMessage\", { companyId, locationId, title, voice, language, message, speed, frequency, savedPreviews, hash }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"createMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for editing an existing message\nexport function editMessage({ companyId, locationId, messageId, title, voice, language, message, speed, frequency, savedPreviews, hash }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !title || !message) return resolve(false);\n\n      HTTP(\"post\", \"/api/editMessage\", { companyId, locationId, messageId, title, voice, language, message, speed, frequency, savedPreviews, hash }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"editMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for deleting a message\nexport function deleteMessage({ companyId, locationId, id }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id) return resolve(false);\n\n      HTTP(\"post\", \"/api/deleteMessagingFile\", { companyId, locationId, id }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"deleteMessage error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for updating a message's frequency\nexport function updateFrequency({ companyId, locationId, id, frequency }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id || !frequency) return resolve(false);\n\n      HTTP(\"post\", \"/api/changeMessagingFileFrequency\", { companyId, locationId, id, frequency }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"updateFrequency error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\n// API request for retrieving Google text-to-speech voice options\nexport function getVoiceOptions() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false)) return resolve(false);\n\n      HTTP(\"get\", \"/public/listVoices\", null, auth)\n        .then((response) => {\n          resolve(get(response, \"data.data\", []));\n        })\n        .catch((error) => {\n          console.log(\"getVoiceData error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { setSnackbarMessage } from \"./index\";\nimport { socket, socketChannels } from \"../configs/socket\";\n\nexport function startSockets() {\n  return function (dispatch) {\n    dispatch(onSocketConnect());\n    dispatch(onSocketDisconnect());\n    dispatch(onSocketReconnect());\n  };\n}\n\nexport function onSocketConnect() {\n  return function (dispatch) {\n    socket.on(\"connect\", function () {\n      console.log(\"Socket Connected\");\n    });\n  };\n}\n\nexport function onSocketDisconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.disconnect, function () {\n      console.log(\"Socket Disconnected\");\n      dispatch(setSnackbarMessage({ message: \"Connection Lost\", type: \"warn\" }));\n    });\n  };\n}\n\nexport function onSocketReconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.reconnect, function () {\n      console.log(\"Socket Reconnected\");\n      dispatch(setSnackbarMessage({ message: \"Reconnected\", type: \"success\" }));\n    });\n  };\n}\n","import { _setSnackbarNotification, _setSnackbarMessage } from \"./dispatch\";\n\nexport function setSnackbarNotification(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarNotification(data));\n  };\n}\n\nexport function setSnackbarMessage(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarMessage(data));\n  };\n}\n","import React from \"react\";\nimport { Icon } from \"antd\";\n\nconst AntSpinner = <Icon type=\"loading\" style={{ fontSize: 24, color: \"#D04283\" }} spin />;\n\nexport default AntSpinner;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    if (this.props.auth0.isAuthenticated && this.props.auth.user) {\n      this.props.history.push(\"/nowPlaying\");\n    }\n    return (\n      <div style={{ width: \"100%\", height: \"100%\", position: \"fixed\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <Spin indicator={AntSpinner} spinning={true} />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    auth: state.auth,\n  };\n}\n\nexport default connect(mapStateToPropsRouter, mapDispatchToProps)(withRouter(withAuth0(Main)));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Geosuggest from \"react-geosuggest\";\nimport { Form, message } from \"antd\";\nimport { get } from \"lodash\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\nconst google = window.google;\n\nclass AutoSearchForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      userData: {\n        name: \"\",\n        addressLineOne: \"\",\n        addressLineTwo: \"\",\n        city: \"\",\n        state: \"\",\n        postalCode: \"\",\n        cords: [],\n      },\n      myLocation: { lng: 0, lat: 0 },\n    };\n  }\n\n  componentDidMount() {\n    this.getLocation();\n  }\n\n  getLocation = async () => {\n    const currentLocation = await navigator.geolocation;\n    currentLocation.getCurrentPosition((res) => {\n      if (res.coords) {\n        this.setState({\n          myLocation: {\n            lng: res.coords.longitude,\n            lat: res.coords.latitude,\n          },\n        });\n      } else {\n        message.info(\"location permission not granted\");\n      }\n    });\n  };\n\n  onSuggestSelect = async (suggest) => {\n    let addressLineOne, addressLineTwo, city, state, postalCode, country;\n    if (suggest && suggest.gmaps) {\n      let address = suggest.gmaps.address_components;\n      address.forEach((component) => {\n        let types = component.types;\n        if (types.indexOf(\"locality\") > -1) city = component.long_name;\n        if (types.indexOf(\"sublocality_level_1\") > -1 || types.indexOf(\"route\") > -1 || types.indexOf(\"administrative_area_level_2\") > -1) addressLineOne = component.long_name;\n        if (types.indexOf(\"sublocality_level_2\") > -1) addressLineTwo = component.long_name;\n        if (types.indexOf(\"administrative_area_level_1\") > -1) state = component.long_name;\n        if (types.indexOf(\"postal_code\") > -1) postalCode = component.long_name;\n        if (types.indexOf(\"country\") > -1 || types.indexOf(\"political\") > -1) country = component.long_name;\n      });\n\n      let timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      let lng = get(suggest, \"location.lng\", \"\");\n      let lat = get(suggest, \"location.lat\", \"\");\n\n      let userData = {\n        ...this.props.userData,\n        name: get(suggest, \"gmaps.name\", suggest.label),\n        addressLineOne,\n        addressLineTwo,\n        city,\n        state,\n        postalCode,\n        country,\n        timezone,\n        cords: [lng, lat],\n        companySearch: true,\n      };\n\n      this.setState({ userData }, () => {\n        if (get(this.state, \"userData.addressLineOne\", false) && get(this.state, \"userData.postalCode\", false) && get(this.state, \"userData.city\", false) && get(this.state, \"userData.state\", false) && get(this.state, \"userData.timezone\", false)) {\n          this.props.onSumbit(userData);\n        } else {\n          userData.missingData = true;\n          this.setState({ userData }, () => {\n            message.error(\"Some required data is missing. Please fill out the below fields.\", 5);\n            this.props.onSumbit(userData);\n          });\n        }\n      });\n    }\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { myLocation } = this.state;\n\n    return (\n      <Form className=\"auto-complete-form\">\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"userData\", {\n            rules: [{ required: true, message: \"Please input Company name or address.\" }],\n          })(<Geosuggest ref={(el) => (this._geoSuggest = el)} onChange={(e) => console.log(e)} placeholder=\"Ambii Inc. 123 Main St\" onSuggestSelect={this.onSuggestSelect} location={new google.maps.LatLng(myLocation.lat, myLocation.lng)} radius={20} country={\"us\"} />)}\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AutoSearchForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, message, AutoComplete } from \"antd\";\nimport { get } from \"lodash\";\nimport { timezones } from \"../../../constants\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\n\nclass AddressForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      dropdownError: false,\n      selectedTimezone: \"\",\n      timezoneData: {}, // Map to search through\n      timezones: [], // Masterlist of data\n      timezoneRes: [], // Results to show\n      userData: {\n        name: get(this.props, \"userData.name\", \"\"),\n        addressLineOne: get(this.props, \"userData.addressLineOne\", \"\"),\n        addressLineTwo: get(this.props, \"userData.addressLineTwo\", \"\"),\n        city: get(this.props, \"userData.city\", \"\"),\n        country: get(this.props, \"userData.country\", \"United States\"),\n        state: get(this.props, \"userData.state\", \"\"),\n        cords: get(this.props, \"userData.cords\", []),\n        postalCode: get(this.props, \"userData.postalCode\", \"\"),\n        timezone: get(this.props, \"userData.timezone\", \"\"),\n      },\n    };\n  }\n\n  componentDidMount() {\n    let timezoneRes = [];\n    let keys = Object.keys(timezones);\n    keys.forEach((timezone) => {\n      timezoneRes.push(timezone);\n    });\n    let timezoneRecommendation = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    let selectedTimezone = timezoneRecommendation;\n    this.setState({ timezoneRes, selectedTimezone });\n  }\n\n  checkIfValidTimezone(timezone) {\n    if (!timezone) return false;\n    else {\n      if (timezones[timezone]) return true;\n      else return false;\n    }\n  }\n\n  onSubmit = (e) => {\n    console.log(e);\n    //e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      console.log(\"vals: \", values);\n      let validTimezone = this.checkIfValidTimezone(get(values, \"timezone\", \"\"));\n      if (!err && validTimezone) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            ...this.props.userData,\n            ...this.state.userData,\n            name: get(values, \"name\", \"\").toString(),\n            addressLineOne: get(values, \"addressLineOne\", \"\").toString(),\n            addressLineTwo: get(values, \"addressLineTwo\", \"\").toString(),\n            city: get(values, \"city\", \"\").toString(),\n            state: get(values, \"state\", \"\").toString(),\n            postalCode: get(values, \"postalCode\", \"\").toString(),\n            country: get(values, \"country\", \"United States\").toString(),\n            cords: get(values, \"cords\", []),\n            timezone: get(values, \"timezone\", Intl.DateTimeFormat().resolvedOptions().timeZone),\n          };\n\n          this.props.onSumbit(userData);\n        });\n      } else {\n        if (!validTimezone) message.error(\"Invalid timezone selection\");\n        else if (err) message.error(\"One or more fields has an error\");\n        else {\n          message.error(\"An error occurred\");\n        }\n      }\n    });\n  };\n\n  onSearch = (searchText) => {\n    let keys = Object.keys(timezones);\n    let timezoneRes = keys.filter((s) => s.toLowerCase().includes(searchText.toLowerCase()));\n    this.setState({ selectedTimezone: searchText, timezoneRes: searchText.length <= 0 ? keys : timezoneRes });\n  };\n\n  onSelect = (value) => {\n    this.setState({ selectedTimezone: value });\n  };\n\n  render() {\n    const { timezoneRes, selectedTimezone } = this.state;\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit}>\n        <p style={{ float: \"right\" }}>* Indicates a required field </p>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"name\", {\n            rules: [{ required: true, message: \"Please input your company name\" }],\n            initialValue: this.state.userData.name,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Company Name\"\n            />\n          )}\n        </FormItem>\n\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineOne\", {\n            rules: [{ required: true, message: \"Please input your Address\" }],\n            initialValue: this.state.userData.addressLineOne,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Address Line 1\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineTwo\", {\n            initialValue: this.state.userData.addressLineTwo,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"Enter Address Line 2\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"city\", {\n            rules: [{ required: true, message: \"Please input City\" }],\n            initialValue: this.state.userData.city,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter City\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"state\", {\n            rules: [{ required: true, message: \"Please input your state\" }],\n            initialValue: this.state.userData.state,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter State\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"postalCode\", {\n            rules: [{ required: true, message: \"Please input your Postal Code\" }],\n            initialValue: this.state.userData.postalCode,\n          })(\n            <Input\n              type=\"number\"\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Postal Code\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"timezone\", {\n            rules: [{ required: true, message: \"Please input your location's timezone\" }],\n            initialValue: selectedTimezone,\n          })(<AutoComplete placeholder={\"* Enter Location Timezone\"} dataSource={timezoneRes} style={{ width: \"100%\" }} onSelect={(e) => this.onSelect(e)} onSearch={(e) => this.onSearch(e)} />)}\n        </FormItem>\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={() => this.onSubmit()}>\n          Confirm Address\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AddressForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, Select, Dropdown, Menu } from \"antd\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/pro-regular-svg-icons\";\nimport { get } from \"lodash\";\nimport \"antd/dist/antd.css\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\n\nclass CompanyInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businessType: \"Select Business Type\",\n      dropdownError: false,\n      countryCode: \"1\",\n    };\n  }\n\n  menu() {\n    return (\n      <Menu onClick={(e) => this.handleMenuClick(e)} id={\"company-info-dropdown-menu\"}>\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n  }\n\n  handleMenuClick(e) {\n    this.setState({ businessType: e.key, dropdownError: false });\n  }\n\n  // Standardizes the phone number\n  parsePhoneNumber(phoneNumber) {\n    return phoneNumber.replace(/\\D/g, \"\");\n  }\n\n  onSubmit = (e) => {\n    const { countryCode, businessType } = this.state;\n    e.preventDefault();\n    let businessSelected = businessType.toLowerCase() !== \"Select Business Type\".toLowerCase();\n    let userType = get(this.props, \"userData.userType\", \"company\");\n\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      let errors = Object.keys(err || []);\n      if (errors.length <= 0 && (userType === \"company\" ? businessSelected : true)) {\n        let userData = {\n          ...this.props.userData,\n          firstName: values.firstName ?? \"\",\n          lastName: values.lastName ?? \"\",\n          phoneNumber: countryCode.concat(this.parsePhoneNumber(get(values, \"phone\", \"234567890\"))),\n          businessType: userType === \"individual\" ? \"other\" : businessType,\n        };\n\n        if (userType === \"individual\") {\n          if (!get(this.props, \"userData.name\", null)) userData.name = \"Individual\";\n          if (!get(this.props, \"userData.addressLineOne\", null)) userData.addressLineOne = \"\";\n          if (!get(this.props, \"userData.addressLineTwo\", null)) userData.addressLineTwo = \"\";\n          if (!get(this.props, \"userData.city\", null)) userData.city = \"\";\n          if (!get(this.props, \"userData.state\", null)) userData.state = \"\";\n          if (!get(this.props, \"userData.postalCode\", null)) userData.postalCode = \"\";\n          if (!get(this.props, \"userData.timezone\", null)) userData.timezone = \"\";\n          if (!get(this.props, \"userData.cords\", null)) userData.cords = [];\n        }\n\n        this.props.onSumbit(userData);\n      } else {\n        if (!businessSelected) this.setState({ dropdownError: true });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { businessType, dropdownError, countryCode } = this.state;\n\n    const prefixSelector = getFieldDecorator(\"prefix\", { initialValue: countryCode })(\n      <Select style={{ width: 70, borderRight: \"1px solid #d9d9d9\" }}>\n        <Option value=\"1\">+1</Option>\n      </Select>\n    );\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit} className={\"company-info-form\"}>\n        {get(this.props, \"userData.userType\", \"company\") === \"company\" && (\n          <>\n            <Form.Item className=\"form-item no-margin\" label={\"First Name:\"}>\n              {getFieldDecorator(\"firstName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your first name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter First Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item className=\"form-item no-margin\" label={\"Last Name:\"}>\n              {getFieldDecorator(\"lastName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your last name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter Last Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item label={\"Phone\"}>\n              {getFieldDecorator(\"phone\", {\n                rules: [{ required: true, message: \"Please input your phone number!\", min: 10, pattern: /^[0-9 ()-]*$/ }],\n              })(<Input addonBefore={prefixSelector} placeholder={\"Phone Number\"} />)}\n            </Form.Item>\n\n            <Form.Item label={\"Type\"}>\n              <Dropdown overlay={this.menu()} trigger={[\"click\"]} className={dropdownError ? \"button-error\" : \"\"}>\n                <Button style={{ textTransform: \"capitalize\" }}>\n                  {businessType} <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"5px\" }} />\n                </Button>\n              </Dropdown>\n            </Form.Item>\n          </>\n        )}\n\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={(e) => this.onSubmit(e)}>\n          Continue\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(CompanyInfo);\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import ReactGA from \"react-ga\";\n\n// Initializes analytics\nexport const startGoogleAnalytics = () => {\n  ReactGA.initialize(\"UA-167385126-1\", {\n    siteSpeedSampleRate: 100,\n    testMode: document.location.hostname.includes(\"business.ambii.io\") ? false : true,\n  });\n};\n\n/**\n * @param {category} - Category of action\n * @param {action} - Action user performed\n * @param {value} - (optional) any potential value\n * @param {label} - Item which was interacted with\n */\nexport const logEvent = ({ category, action, value, label }) => {\n  // console.log(\"hit event: \", { category, action, value, label });\n  ReactGA.event({\n    category,\n    action,\n    value: value ? parseInt(value) : null,\n    label,\n  });\n};\n\n// Tracks screen based on url\nexport const trackScreen = () => {\n  // console.log(\"hit screen: \", window.location.pathname + window.location.search)\n  ReactGA.pageview(window.location.pathname + window.location.search);\n};\n\n// Tracks modals when page does not reload\nexport const trackModal = (modal) => {\n  // console.log(\"hit modal: \", modal)\n  ReactGA.modalview(modal);\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { signUp, mixMaxRegister } from \"../../../actions\";\nimport AutoSearchForm from \"../autoComplete\";\nimport AddressForm from \"../addressForm\";\nimport CompanyDetails from \"../companyInfo\";\nimport { Form, Steps, Button, message, Spin } from \"antd\";\nimport { trackScreen, logEvent } from \"../../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport \"../index.scss\";\n\nconst { Step } = Steps;\nlet companySteps = [{ key: \"Company\" }, { key: \"Contact Info\" }];\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      current: 0,\n      companySearch: true,\n      steps: companySteps,\n      userData: {},\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n  }\n\n  next = (userData) => {\n    if (userData) {\n      let missingData = get(userData, \"missingData\", false);\n      if (missingData) delete userData[\"missingData\"];\n\n      this.setState({ current: missingData ? this.state.current : this.state.current + 1, userData, steps: companySteps, companySearch: missingData ? false : this.state.companySearch });\n    }\n\n    if (this.state.current === this.state.steps.length - 1) {\n      this.signUpSubmit(userData);\n    }\n  };\n\n  signUpSubmit = (userData) => {\n    this.setState({ isLoading: true }, () => {\n      if (userData) {\n        delete userData[\"missingData\"]; // Remove from final object\n        delete userData[\"companySearch\"]; // Remove from final object\n\n        this.props.actions\n          .signUp(userData)\n          .then((res) => {\n            this.props.actions.mixMaxRegister({ id: get(res, \"data.user._id\", \"\"), email: get(userData, \"email\", \"\"), name: get(userData, \"firstName\", \"Ambii\") + \" \" + get(userData, \"lastName\", \"User\") });\n            this.setState({ isLoading: false });\n            if (res.success) {\n              logEvent({ category: categories.welcome, action: actions.signup, value: get(userData, \"email\", \"\") });\n              this.props.history.push(\"/\");\n            }\n          })\n          .catch((err) => {\n            logEvent({ category: categories.welcome, action: actions.signup, value: err, label: labels.error });\n            this.setState({ isLoading: false, current: 0 });\n            message.error(get(err, \"userData.message\", \"Something went wrong. Please try again\"));\n          });\n      } else {\n        this.setState({ isLoading: false });\n        message.error(\"Fields are missing\");\n      }\n    });\n  };\n\n  prev = () => {\n    this.setState({ current: this.state.current - 1 });\n  };\n\n  render() {\n    const { current, steps, userData, isLoading, companySearch } = this.state;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={isLoading}>\n        <div className={\"signup-modal-subtitle\"}>{\"Let's set up your first location!\"}</div>\n        <div className=\"signUp-container\">\n          {current >= 0 && (\n            <Steps className=\"steps\" progressDot current={current} style={{ textAlign: \"justify\" }}>\n              {steps.map((item) => (\n                <Step key={item.key} title={item.key} />\n              ))}\n            </Steps>\n          )}\n          {\n            {\n              0: companySearch ? <div className={\"signup-modal-subsubtitle\"}>{\"Please enter business name or address\"}</div> : null,\n              1: <div className={\"signup-modal-subsubtitle\"}>{\"Please enter your contact information\"}</div>,\n            }[current]\n          }\n          <div className=\"form_container\">\n            {\n              {\n                0: companySearch ? <AutoSearchForm onSumbit={this.next} userData={userData} /> : <AddressForm onSumbit={this.next} userData={userData} />,\n                1: <CompanyDetails onSumbit={this.next} userData={userData} />,\n              }[current]\n            }\n            <div className={\"button_row\"} style={{ float: \"right\" }}>\n              {!isLoading && current > 0 && (\n                <Button onClick={() => this.prev()} style={{ marginRight: \"10px\" }}>\n                  Previous\n                </Button>\n              )}\n              {companySearch && current === 0 ? <Button onClick={() => this.setState({ companySearch: false })}>Manually Enter Company</Button> : null}\n              {!companySearch && current === 0 ? (\n                <Button onClick={() => this.setState({ companySearch: true })} style={{ marginRight: \"10px\" }}>\n                  Search Company\n                </Button>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ signUp, mixMaxRegister }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Spin, Button, message } from \"antd\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport { get } from \"lodash\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nconst FormItem = Form.Item;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLogin: false,\n      userData: {\n        email: \"\",\n        password: \"\",\n      },\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n\n    let token = localStorage.getItem(\"access-token\");\n    if (token) this.props.history.push(\"/nowPlaying\");\n  }\n\n  _onLogin = () => {\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            email: values.email,\n            password: values.password,\n          };\n          // this.props.actions\n          //   .login(userData)\n          //   .then(() => {\n          //     logEvent({ category: categories.welcome, action: actions.login });\n          //     this.setState({ isLoading: false });\n          //     this.props.history.push(\"/nowPlaying\");\n          //   })\n          //   .catch((err) => {\n          //     logEvent({ category: categories.welcome, action: actions.failedLogin });\n          //     message.error(get(err, \"message\", \"invalid email password\"));\n          //     this.setState({ isLoading: false });\n          //   });\n        });\n      } else {\n        message.error(\"Fields Required\");\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={this.state.isLoading}>\n        <div className=\"form-container\">\n          <Form className=\"form-wrapper\" hideRequiredMark={true} onSubmit={this._onLogin}>\n            <FormItem className=\"form-item no-margin\">\n              {getFieldDecorator(\"email\", {\n                rules: [\n                  { type: \"email\", message: \"The input is not a valid Email!\" },\n                  { required: true, message: \"Please input your Email!\" },\n                ],\n              })(\n                <Input\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Email\"\n                />\n              )}\n            </FormItem>\n\n            <FormItem\n              // label=\"Password\"\n              className=\"form-item\"\n            >\n              {getFieldDecorator(\"password\", {\n                rules: [{ required: true, message: \"Please input your password!\" }],\n              })(\n                <Input.Password\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Password\"\n                />\n              )}\n            </FormItem>\n            <Button className=\"login-btn\" block type=\"primary\" onClick={() => this.props.auth0.loginWithRedirect()}>\n              Login\n            </Button>\n          </Form>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(WrappedApp)));\n","import React from \"react\";\nimport \"./index.scss\";\n\nconst pairToken = ({ token, fontSize }) => (\n  <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n    {token\n      ? token.split(\"\").map((char, index) => {\n          return (\n            <div key={index} className={\"token-character\"}>\n              <p style={{ fontWeight: \"bold\", color: \"#2A2A2A\", fontSize: fontSize || \"28px\", margin: \"0\" }}>{char}</p>\n            </div>\n          );\n        })\n      : null}\n  </div>\n);\n\nexport default pairToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", null, \".st0{fill:url(#SVGID_1_)}.st1{fill:url(#SVGID_2_)}.st2{fill:url(#SVGID_3_)}.st3{fill:url(#SVGID_4_)}\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_1_\",\n  gradientUnits: \"userSpaceOnUse\",\n  y1: 112.094,\n  x2: 261.746,\n  y2: 112.094\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#63be6b\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.506,\n  stopColor: \"#5bbc6a\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#4ab96a\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M261.7 142.3L15 1.3C11.9-.5 8-.4 5 1.4c-3.1 1.8-5 5-5 8.6 0 0 .1 13 .2 34.4l179.7 179.7 81.8-81.8z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_2_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 0.152,\n  y1: 223.393,\n  x2: 179.896,\n  y2: 223.393\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#3ec6f2\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#45afe3\"\n}));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st1\",\n  d: \"M.2 44.4C.5 121.6 1.4 309 1.8 402.3L180 224.1.2 44.4z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_3_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 179.896,\n  y1: 229.464,\n  x2: 407.976,\n  y2: 229.464\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#faa51a\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.387,\n  stopColor: \"#fab716\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.741,\n  stopColor: \"#fac412\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#fac80f\"\n}));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st2\",\n  d: \"M402.9 223l-141.2-80.7-81.9 81.8 92.4 92.4L403 240.3c3.1-1.8 5-5.1 5-8.6 0-3.6-2-6.9-5.1-8.7z\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_4_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 1.744,\n  y1: 345.521,\n  x2: 272.296,\n  y2: 345.521\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#ec3b50\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#e7515b\"\n}));\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st3\",\n  d: \"M1.7 402.3c.2 33.3.3 54.6.3 54.6 0 3.6 1.9 6.9 5 8.6 3.1 1.8 6.9 1.8 10 0l255.3-148.9-92.4-92.4L1.7 402.3z\"\n});\n\nvar SvgGooglePlayStore = function SvgGooglePlayStore(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    viewBox: \"0 0 408 466.9\",\n    width: 2185,\n    height: 2500,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGooglePlayStore, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/google-play-store.6fec8523.svg\";\nexport { ForwardRef as ReactComponent };","import Auth0Lock from \"auth0-lock\";\n\nexport default class Auth0Helper {\n  static initialize() {\n    // Dev\n    // window.lock = new Auth0Lock(\"MkozMO1FrxX4SNXS6xZ8y2UNpCX9RM1x\", \"auth.ambii.io\", {\n    // Prod\n    window.lock = new Auth0Lock(\"U6LfUnEpkLYrtnZ2u3IAuSDlraBebeGP\", \"auth.ambii.io\", {\n      configurationBaseUrl: \"https://ambii.us.auth0.com\",\n      autoclose: true,\n      autofocus: true,\n      closable: true,\n      allowShowPassword: true,\n      auth: {\n        redirectUrl: window.location.origin,\n        responseType: \"id_token\",\n        sso: true,\n      },\n      theme: {\n        logo: `${window.location.origin}/icon.png`,\n        primaryColor: \"#d04283\",\n      },\n      languageDictionary: {\n        title: \"\",\n        signUpTitle: \"\",\n        forgotPasswordTitle: \"\",\n      },\n      additionalSignUpFields: [\n        // Save this in case we need it later.\n        //\n        // {\n        //   name: \"given_name\",\n        //   icon: iconToDataURI(faIdBadge),\n        //   placeholder: \"First Name\",\n        //   storage: \"root\",\n        //   validator: function (txt) {\n        //     return {\n        //       valid: txt.length > 0 && txt.length < 100,\n        //       hint: \"The first name field is required\", // optional\n        //     };\n        //   },\n        // },\n      ],\n    });\n  }\n\n  static getLock() {\n    return window.lock;\n  }\n\n  static isLoggedIn() {\n    return localStorage.getItem(\"access-token\");\n  }\n\n  static login() {\n    window.lock.show();\n  }\n\n  static signUp() {\n    window.lock.show({ initialScreen: \"signUp\" });\n  }\n\n  static logout() {\n    localStorage.removeItem(\"access-token\");\n    localStorage.removeItem(\"location-jwt\");\n    window.lock.logout();\n  }\n}\n","export default class MobileAppCommunicator {\n  static inApp() {\n    return window.inApp;\n  }\n\n  static send(endpoint, data) {\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          data: data,\n          endpoint: endpoint,\n        })\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Layout, Spin, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getStationDetails, assignStation, toggleFavorite } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport { hashCode, checkForMobile } from \"../../util\";\nimport { get, isEqual } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlayCircle } from \"@fortawesome/pro-regular-svg-icons\";\nimport { faHeart, faChevronLeft } from \"@fortawesome/pro-solid-svg-icons\";\nimport AntSpinner from \"../antSpinner\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\n\nconst { Content } = Layout;\n\nlet resizeListener = null;\n\nclass StationDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      station: {},\n      isBackgroundImage: false,\n      explicit: false,\n      startStationDisabled: false,\n      favoriteDisabled: false,\n      isMobile: false,\n    };\n  }\n\n  componentDidMount() {\n    this.checkForMobile();\n\n    // Scrolls us to top of page when page loads\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n\n    // Listens for window resize\n    resizeListener = window.addEventListener(\"resize\", () => {\n      this.checkForMobile();\n    });\n\n    this.setStationDetails();\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"playlistId\", null), get(prevProps, \"playlistId\", null))) {\n      this.setStationDetails();\n    }\n  }\n\n  async setStationDetails() {\n    this.setState({ isLoading: true }, async () => {\n      const id = get(this.props, \"match.params.id\", null) || get(this.props, \"playlistId\", null);\n      if (id) {\n        let result = await this.props.actions.getStationDetails(id);\n        let explicit = get(result, \"explicit\", false);\n        this.setState({ isLoading: false, explicit, station: result });\n      } else this.setState({ isLoading: false });\n    });\n  }\n\n  assignStation = () => {\n    const { location, close, history, actions, user, inApp } = this.props;\n    const { station } = this.state;\n\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n\n    this.setState({ startStationDisabled: true }, () => {\n      let companyId = get(user, \"company._id\", \"\");\n      actions.assignStation(companyId, station._id).then(() => {\n        this.setState({ startStationDisabled: false }, () => {\n          logEvent({ category: categories.discover, action: actions.startStation, value: get(station, \"_id\", \"Error\") });\n\n          if (inApp) {\n            // Things to do if we're using Mobile App\n            let myLocation = get(this.props, \"myLocation\", null);\n            let trackSchedule = get(this.props, \"myLocation.trackSchedule.queue\", null);\n\n            close(); // close the modal\n\n            // Sends needed data to player for instant station swap\n            if (myLocation && trackSchedule) MobileAppCommunicator.send(\"newStation\", { location: myLocation, trackSchedule });\n            else MobileAppCommunicator.send(\"newStation\", null);\n          }\n\n          if (get(location, \"pathname\", \"\").toLowerCase().includes(\"nowplaying\")) close();\n          else {\n            if (inApp) history.push(\"/discover\");\n            // If we're in-app, put user back to discover page\n            else history.push(\"/nowPlaying\", { isBack: true }); // If we're in web, put user to dashboard\n          }\n        });\n      });\n    });\n  };\n\n  favoriteStation = () => {\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n    this.setState({ favoriteDisabled: true }, () => {\n      let locationId = get(this.props, \"myLocation._id\", \"\");\n      let stationId = get(this.state, \"station._id\", \"\");\n      let favorites = get(this.props, \"myLocation.favorites\", []);\n\n      this.props.actions.toggleFavorite({ locationId, stationId, favorites }).then(() => {\n        logEvent({ category: categories.general, action: actions.toggledFavorite, value: stationId });\n        this.setState({ favoriteDisabled: false });\n      });\n    });\n  };\n\n  checkForMobile() {\n    const { isBackgroundImage } = this.state;\n    this.setState({ isMobile: checkForMobile() }, () => {\n      if (this.state.isMobile && !isBackgroundImage) this.setStationBackgroundImage();\n      if (!this.state.isMobile && isBackgroundImage) this.removeStationBackgroundImage();\n    });\n  }\n\n  setStationBackgroundImage() {\n    let { station } = this.state;\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = \"url('\" + station.cover + \"')\";\n        if (station.cover) this.setState({ isBackgroundImage: true });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  removeStationBackgroundImage() {\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = null;\n        this.setState({ isBackgroundImage: false });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  checkIfFavorited(station) {\n    let favorites = get(this.props, \"myLocation.favoritesMap\", []);\n    if (favorites[station]) return true;\n    else return false;\n  }\n\n  render() {\n    const { isLoading, station, explicit, startStationDisabled, favoriteDisabled, isMobile, source } = this.state;\n    let thisStationId = get(station, \"_id\", \"\");\n    let stationQueue = get(station, \"track\", []);\n    let stationFavorited = this.checkIfFavorited(thisStationId);\n    let hasSchedule = get(this.props, \"myLocation.schedule._id\", \"\");\n    let isActiveStation = hasSchedule ? false : get(this.props, \"myLocation.station._id\", \"\") === thisStationId;\n\n    return (\n      <Layout className=\"create-layout\">\n        <Content className=\"create-body\">\n          <Spin indicator={AntSpinner} spinning={isLoading}>\n            <div id=\"station-header\" className=\"cover-content-wrapper\" style={{ backgroundColor: station.hex !== undefined ? station.hex : \"#aa4e9f\" }}>\n              <div className=\"headerLeft\">\n                <div className=\"station-head-wrapper\">\n                  <h1 className=\"cover-heading\">{station.name}</h1>\n                </div>\n\n                <div className=\"cover-btn-div\">\n                  <Button size=\"large\" loading={startStationDisabled} className={\"cover-btn\".concat(isActiveStation ? \" disabledButton\" : \"\")} disabled={isActiveStation || startStationDisabled} onClick={this.assignStation}>\n                    {isActiveStation ? null : <FontAwesomeIcon icon={faPlayCircle} className={\"cover-icon\"} />}\n                    <div> {isActiveStation ? \"Now Playing\" : \"Start\"} </div>\n                  </Button>\n                  <Button size=\"large\" loading={favoriteDisabled} className=\"cover-btn\" disabled={favoriteDisabled} onClick={this.favoriteStation}>\n                    <FontAwesomeIcon icon={faHeart} className={\"cover-icon\".concat(stationFavorited ? \" favorited\" : \"\")} />\n                    <div> {stationFavorited ? \"Favorited\" : \"Favorite\"} </div>\n                  </Button>\n                </div>\n                <div className=\"description\">{station.description}</div>\n              </div>\n\n              <div className=\"headerRight\">\n                <img src={!station.cover && station.name ? hashCode(station.name) : station.cover} className=\"stationImage\" alt={\"\"} />\n              </div>\n            </div>\n            <div className={\"station-table-wrapper\"}>\n              <div className={\"station-table-item station-table-header\"}>\n                <div className={\"station-table-track title\"}>\n                  <h1>Track</h1>\n                </div>\n                <div className={\"station-table-artist title\"}>\n                  <h1>Artist/Album</h1>\n                </div>\n              </div>\n              {stationQueue.map((track, i) => (\n                <div className={\"station-table-item\"} key={track._id} style={{ opacity: i > stationQueue.length * 0.5 ? (stationQueue.length + 1 - i) / stationQueue.length : 1 }}>\n                  <div className={\"station-table-track\"}>{track.title}</div>\n                  <div className={\"station-table-artist\"}>\n                    {track.artist[0]}, {track.album}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Spin>\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ getStationDetails, assignStation, toggleFavorite }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    user: state.auth.user,\n    stations: state.stations.data,\n    count: state.stations.count,\n    myLocation: state.auth.location,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationDetails));\n","import React from \"react\";\nimport \"./index.scss\";\n\n/**\n * @param {bool} animate - Should bpm be animated\n * @param {number} speed - Animation speed\n * @param {number} value - Value to display next to '<value> BPM'\n * @param {string} display - [\"column\", \"row\"] - Styling of the bpm div\n * @param {bool} hideText - Display the bpm\n * @param {object} style - React in-line styling\n */\n\nconst BPM = ({ animate, speed, value, display, hideText, style }) => (\n  <div className={\"bpm-container\".concat(display === \"column\" ? \" column\" : \" row\")} style={style}>\n    <div className={\"beat-container\"} style={{ animation: animate ? `bpm ${speed}s linear infinite` : \"none\" }} />\n    {!hideText && value && <div className={\"bpm-text\"}>{`${parseInt(value).toFixed(0)} BPM`}</div>}\n  </div>\n);\n\nexport default BPM;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\n/**\n * @param {string} title - Big text to display\n * @param {string} subtitle - Small text below title\n * @param {object} style - React in-line styling\n * @param {bool} backArrow - Show back arrow\n * @param {function} backArrowPress - Action to take when back arrow pressed\n */\n\nconst PageTitle = ({ title, subtitle, style, backArrow, backArrowPress }) => {\n  return (\n    <div className={\"title-container\"} style={style}>\n      {backArrow && (\n        <div className=\"backArrow\" onClick={backArrowPress}>\n          <FontAwesomeIcon icon={faArrowLeft} />\n        </div>\n      )}\n      <div className={\"flexCol\"}>\n        <div className={\"create-list-view-title\"}> {title} </div>\n        <div className={\"create-list-view-subtitle\"}> {subtitle} </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PageTitle;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./index.scss\";\n\nclass DashboardModule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { title, content, icon, style } = this.props;\n    let contentArray = Array.isArray(content);\n\n    return (\n      <div className=\"dashboard-module\" style={style}>\n        <div className=\"dashboard-header\">\n          <div className=\"dashboard-icon\">{icon && <FontAwesomeIcon icon={icon} style={{ fontSize: \"24px\" }} />}</div>\n          <div className=\"dashboard-title\">{title}</div>\n          <div className=\"dashboard-icon\"></div>\n        </div>\n        <div className=\"dashboard-content\">{contentArray ? React.Children.map(content, (child) => React.cloneElement(child)) : content}</div>\n      </div>\n    );\n  }\n}\n\nexport default DashboardModule;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { disconnectPlayer, setIsPlaying, skipSong, setDisableSkip, getStation, addPlayerListeners, removePlayerListeners, updateStationListener, updateCurrentTrackListener, removeStationListener, connectPlayer, playerError, assignStation, toggleExplicit } from \"../../actions\";\nimport { socket, socketChannels } from \"../../configs/socket\";\nimport PairToken from \"../../components/pairToken\";\nimport { get, isEqual, stubTrue } from \"lodash\";\nimport { Button, Modal, Spin, Switch } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMobile, faSpeaker, faTvMusic, faTv, faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport { faCommentMusic, faMusic, faHeartbeat, faKey, faCog, faPause, faPlay, faStepForward } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faApple } from \"@fortawesome/free-brands-svg-icons\";\nimport { checkForMobile, getDeviceId } from \"../../util\";\nimport { ReactComponent as GooglePlay } from \"../../images/google-play-store.svg\";\nimport AmbiiLogo from \"../../images/ambii_logo_inverse.png\";\nimport AdBlockDetect from \"react-ad-block-detect\";\nimport StationDetails from \"../../components/stationDetails\";\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\nimport BPM from \"../../components/bpm\";\nimport PageTitle from \"../../components/page-title\";\nimport { categories, actions, labels } from \"../../constants\";\nimport DashboardModule from \"../../components/dashboardModule\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\n\nlet errorTimer = null;\nlet testInterval = null;\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile: checkForMobile(),\n      isLoading: false,\n      loadingPlayer: false,\n      artistName: \"\",\n      searchText: undefined,\n      isFixHeader: false,\n      pageHeight: 0,\n      showStationSearch: false,\n      showAppModal: false,\n      showConnectModal: false,\n      showErrorModal: false,\n      playlistModalId: false,\n      playButtonDisabled: false,\n      userName: \"\",\n      errorTitle: \"\",\n      errorMessage: \"\",\n      errorIcon: \"\",\n      errorButton: \"\",\n      playerInfo: {\n        token: get(this.props, \"myLocation.token\", \"\"),\n        deviceName: \"web\",\n        uniqueId: getDeviceId(),\n        deviceBrand: \"web\",\n        override: false,\n      },\n      loadingExplicit: false,\n      explicitAllowed: false,\n      currentSongTime: \"0:00\",\n      currentSongDuration: \"0:00\",\n      controllerStyle: false,\n    };\n  }\n\n  componentDidMount() {\n    let { myLocation, user, actions, inApp } = this.props;\n\n    trackScreen();\n    if (inApp) MobileAppCommunicator.send(\"player\", \"player/\" + get(myLocation, \"token\", \"\"));\n\n    this.checkPlayerState();\n\n    this.setState({ isMobile: checkForMobile(), userName: this.createUserName() }, () => {\n      if (this.state.isMobile) logEvent({ category: categories.dashboard, action: actions.viewedMobile });\n    });\n\n    // Connect sockets\n    if (get(user, \"_id\", null)) {\n      socket.emit(socketChannels.connect, { userId: user._id });\n      actions.addPlayerListeners();\n      actions.updateStationListener();\n      actions.updateCurrentTrackListener();\n    }\n  }\n\n  checkPlayerState = () => {\n    let { myLocation, player } = this.props;\n\n    let deviceBrand = get(myLocation, \"pairedDevice.deviceBrand\", \"\");\n    let isThisDevicePlaying = deviceBrand && get(this.state, \"playerInfo.uniqueId\", \"\") === get(myLocation, \"pairedDevice.uniqueId\", \"\");\n\n    let playerInfo = { ...this.state.playerInfo };\n    playerInfo.token = get(myLocation, \"token\", \"\");\n\n    // FALSE - NO DEVICE IS PLAYING\n    // WEB - THIS DEVICE IS PLAYING MUSIC\n    // OTHER - ANOTHER WEB DEVICE IS PLAYING MUSIC\n    // MOBILE - A MOBILE DEVICE IS PLAYING MUSIC\n\n    this.setState({ playerInfo, isLoading: !get(myLocation, \"station\", null) ? true : false, explicitAllowed: get(myLocation, \"explicitAllowed\", false), controllerStyle: !deviceBrand ? false : isThisDevicePlaying ? \"WEB\" : !isThisDevicePlaying ? \"OTHER\" : \"MOBILE\" }, () => {\n      // If player is visible\n      if (get(player, \"showPlayer\", null)) {\n        this.getSongTime(); // Grab song times at start\n\n        // If player is playing\n        if (get(player, \"isPlaying\", null)) {\n          clearInterval(testInterval);\n          testInterval = setInterval(() => {\n            this.getSongTime(); // Grab song times at start\n          }, 100);\n        }\n      } else {\n        clearInterval(testInterval);\n      }\n    });\n  };\n\n  componentWillUnmount() {\n    try {\n      this.props.actions.removePlayerListeners();\n      this.props.actions.removeStationListener();\n      clearInterval(testInterval);\n      clearTimeout(errorTimer);\n    } catch (err) {\n      console.log(\"caught error when unmounting 'nowPlaying' page: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // If paired device or station is updated (and is not null)\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null)) && get(this.props, \"myLocation\", null)) {\n      if (!get(this.props, \"myLocation.station\", null)) this.props.history.push(\"/discover\");\n      this.checkPlayerState();\n    }\n\n    if (!isEqual(get(this.props, \"player.playerError\", null), get(prevProps, \"player.playerError\", null)) && get(this.props, \"player.playerError.error\", null)) {\n      console.log(\"got player error!\", get(this.props, \"player.playerError\", {}));\n\n      let errorTitle = get(this.props, \"player.playerError.title\", \"\");\n      let errorMessage = get(this.props, \"player.playerError.message\", \"\");\n      let errorIcon = get(this.props, \"player.playerError.icon\", \"\");\n      let errorButton = get(this.props, \"player.playerError.button\", \"\");\n\n      this.setState({ showErrorModal: true, errorTitle, errorMessage, errorIcon, errorButton }); // Open the error modal\n      this.props.actions.playerError({}); // Reset player error in redux\n      trackModal(\"Error Modal\"); // Track Error Modal\n      logEvent({ category: categories.dashboard, value: errorMessage, label: labels.error });\n\n      errorTimer = setTimeout(() => {\n        this.closeErrorMessage();\n        clearTimeout(errorTimer);\n        errorTimer = null;\n      }, 300 * 1000);\n    }\n\n    if (!isEqual(get(this.props, \"player.isPlaying\", null), get(prevProps, \"player.isPlaying\", null)) || !isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      clearInterval(testInterval);\n      testInterval = setInterval(() => {\n        if (get(this.props, \"player.isPlaying\", null)) this.getSongTime();\n        else this.getSongTime();\n      }, 100);\n    }\n\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.checkPlayerState();\n    }\n\n    // If playback device has changed\n    if (!isEqual(get(this.props, \"myLocation.pairedDevice.deviceName\", null), get(prevProps, \"myLocation.pairedDevice.deviceName\", null))) {\n      console.log(\"Changed playback device\");\n    }\n  }\n\n  // Gets the song time / duration from the music bar\n  getSongTime() {\n    try {\n      let currentSongTime = document.getElementById(\"current-song-time\").innerHTML;\n      let currentSongDuration = document.getElementById(\"current-song-duration\").innerHTML;\n      let songCompletion = document.getElementById(\"invis-current-song-time\").innerHTML;\n      this.setState({ currentSongTime, currentSongDuration, songCompletion });\n    } catch (err) {\n      console.log(\"getSongTime err: \", err);\n    }\n  }\n\n  // Creates a username based on user's first / last name\n  createUserName() {\n    let firstName = get(this.props, \"user.firstName\", \"\");\n    let lastName = get(this.props, \"user.lastName\", \"\");\n\n    firstName = firstName.substring(0, 1).toUpperCase() + firstName.substring(1, firstName.length);\n    lastName = lastName.substring(0, 1).toUpperCase() + lastName.substring(1, lastName.length);\n\n    return firstName + \" \" + lastName;\n  }\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Playlist Modal\");\n    logEvent({ category: categories.dashboard, action: actions.stationPreview, value: playlistId, label: labels.button });\n  };\n\n  afterCreateStaion = () => {\n    this.setState({ showStationSearch: false });\n  };\n\n  toggleStationSearch = () => {\n    const showStationSearch = !this.state.showStationSearch;\n    this.setState({ showStationSearch });\n    if (showStationSearch) {\n      setTimeout(() => {\n        const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n        if (collapse && collapse.length) {\n          collapse[0].scrollIntoView();\n        }\n      }, 100);\n    }\n  };\n\n  parseLocationName = (myLocation) => {\n    if (!myLocation) return;\n    return myLocation.split(\",\")[0];\n  };\n\n  // Gets track data from our station\n  getTrackData(currentTrack) {\n    const { myLocation } = this.props;\n    let useTrack = currentTrack;\n    if (!useTrack) useTrack = get(myLocation, \"station.track[0]\", null);\n    let obj = {\n      songImage: get(useTrack, \"picture\", null),\n      locationName: get(myLocation, \"name\", null),\n      songTrack: get(useTrack, \"title\", null),\n      bpm: get(useTrack, \"bpm\", null),\n      songArtist: get(useTrack, \"artist\", null),\n      token: get(myLocation, \"token\", null),\n      stationName: get(myLocation, \"station.name\", null),\n    };\n\n    if (Array.isArray(obj.songArtist)) obj.songArtist = obj.songArtist[0];\n\n    return obj;\n  }\n\n  // Actions when user presses Connect\n  connectPress = () => {\n    this.setState({ showAppModal: true });\n    trackModal(\"Connect Modal\"); // Track Connect Modal\n    logEvent({ category: categories.dashboard, action: actions.connect, label: labels.button });\n  };\n\n  loadPlayer = ({ override }) => {\n    let data = { ...this.state.playerInfo, override };\n    this.setState({ loadingPlayer: true }, () => {\n      this.props.actions.connectPlayer(data).then(() => {\n        this.setState({ showConnectModal: false, loadingPlayer: false });\n      });\n    });\n  };\n\n  // Actions when user presses Change Station\n  changeStationPress = () => {\n    logEvent({ category: categories.dashboard, action: actions.button, value: \"Back\", label: labels.button });\n    this.props.history.push(\"/discover\");\n  };\n\n  playStation = () => {\n    const { playButtonDisabled } = this.state;\n    if (!playButtonDisabled) {\n      this.setState({ playButtonDisabled: true }, () => {\n        this.props.actions\n          .connectPlayer(this.state.playerInfo)\n          .then((res) => {\n            this.setState({ playButtonDisabled: false }, () => {\n              if (res === \"DEVICE_ALREADY_PAIRED\") {\n                trackModal(\"Device Already Connected Modal\");\n                this.setState({ showConnectModal: true });\n              }\n              logEvent({ category: categories.dashboard, action: actions.startPlayer, label: labels.button });\n            });\n          })\n          .catch((err) => {\n            this.setState({ playButtonDisabled: false });\n            console.log(\"caught err: \", err);\n          });\n      });\n    }\n  };\n\n  openLink(link) {\n    window.open(link, \"_blank\");\n  }\n\n  closeErrorMessage() {\n    this.setState({ showErrorModal: false, errorTitle: \"\", errorMessage: \"\", errorIcon: \"\", errorButton: \"\" });\n  }\n\n  openAdBlockMessage() {\n    this.setState({\n      showErrorModal: true,\n      errorTitle: \"Please Disable Ad-Block\",\n      errorMessage: \"All of our advertisements help fund small business relief programs. Please help us help them by disabling your ad-blocker.\",\n      errorIcon: <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} style={{ color: \"#d04283\" }} />,\n      errorButton: \"Ok, Got It\",\n    });\n  }\n\n  toggleExplicit = () => {\n    this.setState({ loadingExplicit: true }, () => {\n      this.props.actions\n        .toggleExplicit({\n          locationId: get(this.props, \"myLocation._id\", \"\"),\n          currentTrack: get(this.props, \"currentTrack\", null),\n        })\n        .then((explicitAllowed) => {\n          this.setState({ loadingExplicit: false, explicitAllowed });\n        });\n    });\n  };\n\n  // Things to do for mobile\n  sendToMobileDevice(token) {\n    const { inApp } = this.props;\n    if (inApp) MobileAppCommunicator.send(\"player\", \"player/\" + token);\n    else this.openLink(\"https://ambii.app.link/OpenMobile\");\n  }\n\n  // Skip Song functionality\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { isApple } = this.props;\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { isLoading, explicitAllowed, loadingExplicit, songCompletion, controllerStyle, showAppModal, showConnectModal, showErrorModal, loadingPlayer, errorTitle, errorMessage, errorIcon, errorButton, playlistModalId, userName, isMobile, playButtonDisabled, currentSongTime, currentSongDuration } = this.state;\n    let songData = this.getTrackData(get(this.props, \"myLocation.currentTrack\", null));\n    let { songImage, locationName, songTrack, songArtist, token, stationName } = songData;\n    let isIndividual = get(this.props, \"myLocation.company.isIndividual\", get(this.props, \"myLocation.name\", \"\").toLowerCase() === \"individual\");\n    let locationInUse = get(this.props, \"myLocation.isPlaying\", false); // Is this location playing music anywhere (any device)\n    let activeStation = get(this.props, \"myLocation.station._id\", null);\n    let scheduleName = get(this.props, \"myLocation.schedule.name\", false);\n    let scheduleId = get(this.props, \"myLocation.schedule._id\", \"\");\n    let modalWidth = checkForMobile() ? \"90%\" : \"80%\";\n\n    let hasTrackOverflow = false;\n    let hasArtistOverflow = false;\n    let bpm = get(songData, \"bpm\", 100);\n    if (!bpm) bpm = 100; // If no bpm, default it to 100bpm\n\n    let nowPlayingInfoWrapper = document.getElementById(\"now-playing-info-wrapper\") || null;\n    let nowPlayingTrack = document.getElementById(\"now-playing-track\") || null;\n    let nowPlayingArtist = document.getElementById(\"now-playing-artist\") || null;\n\n    if (nowPlayingInfoWrapper && nowPlayingTrack && nowPlayingArtist) {\n      nowPlayingInfoWrapper = nowPlayingInfoWrapper.getBoundingClientRect().width - (checkForMobile() ? 0 : 310);\n      nowPlayingTrack = nowPlayingTrack.getBoundingClientRect().width;\n      nowPlayingArtist = nowPlayingArtist.getBoundingClientRect().width;\n\n      if (nowPlayingInfoWrapper < nowPlayingTrack) hasTrackOverflow = true;\n      if (nowPlayingInfoWrapper < nowPlayingArtist) hasArtistOverflow = true;\n    }\n\n    return (\n      <div className={\"dashboard-page-wrapper\"}>\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={modalWidth} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} source={\"dashboard\"} />\n        </Modal>\n        <PageTitle\n          title={\n            <span>\n              Welcome <span style={{ color: \"#D04283\" }}>Back</span>\n            </span>\n          }\n          subtitle={isIndividual ? userName : locationName}\n          backArrow={true}\n          backArrowPress={() => this.changeStationPress()}\n        />\n\n        <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\", maxHeight: \"100%\" }}>\n          <div className=\"dashboard-content-wrapper\">\n            <div className=\"nowPlayingContainer\">\n              <div className=\"imgAndInfo\" id={\"now-playing-info-wrapper\"}>\n                <div className=\"songImageContainer\">\n                  <img className=\"songImage noselect\" src={songImage} alt={\"\"} />\n                </div>\n                <div className=\"infoContainer\">\n                  <div className=\"nowPlayingTitle\">\n                    Now Playing\n                    {locationInUse && bpm && <BPM animate={true} speed={60 / bpm} value={bpm} hideText={true} style={{ marginLeft: \"12px\", justifyContent: \"flex-start\" }} />}\n                  </div>\n                  <div className=\"songTitle\" style={{ justifyContent: isMobile && !hasTrackOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-track\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                      {songTrack}\n                    </span>\n                  </div>\n                  <div className=\"songArtist\" style={{ justifyContent: isMobile && !hasArtistOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-artist\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                      {songArtist}\n                    </span>\n                  </div>\n                  <div>\n                    Station:\n                    <span className={\"now-playing-station\"} onClick={() => this.showPlaylistModal(activeStation)}>\n                      {stationName}\n                    </span>\n                  </div>\n                  {scheduleName && (\n                    <div>\n                      Schedule:\n                      <span className={\"now-playing-station\"} onClick={() => this.props.history.push(`/createSchedule/${scheduleId}`)}>\n                        {scheduleName}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                <div className={\"adblock-div\"} onClick={() => this.openAdBlockMessage()}>\n                  <AdBlockDetect>\n                    <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} />\n                  </AdBlockDetect>\n                </div>\n              </div>\n            </div>\n\n            <div className={\"module-row\"}>\n              {controllerStyle === \"MOBILE\" ? (\n                <DashboardModule\n                  title={\"Playing on Mobile\"}\n                  icon={faMobile}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"OTHER\" ? (\n                <DashboardModule\n                  title={\"Playing on Another Device\"}\n                  icon={faTv}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"WEB\" ? (\n                <DashboardModule\n                  title={\"Playing on Web\"}\n                  icon={faTv}\n                  style={{ backgroundColor: \"#D04283\", borderColor: \"#FFF\", color: \"#FFF\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-music-controller\"}>\n                        <div className=\"dashboard-music-time\">\n                          {currentSongTime} / {currentSongDuration}\n                        </div>\n                        <div className=\"dashboard-music-controls\">\n                          {/* Play/Pause Button */}\n                          {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(false)} /> : <FontAwesomeIcon icon={faPlay} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(stubTrue)} />}\n\n                          {/* Skip Button */}\n                          {<FontAwesomeIcon icon={faStepForward} className={\"music-controller-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n\n                          {/* Close Button */}\n                          <FontAwesomeIcon icon={faTimes} className={\"music-controller-icon close-icon\"} onClick={() => this.props.actions.disconnectPlayer()} />\n                        </div>\n                      </div>\n\n                      {/* Mobile Button */}\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\", marginTop: \"10px\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              ) : (\n                <DashboardModule\n                  title={\"Play Music\"}\n                  icon={faMusic}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginBottom: \"15px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              )}\n\n              <div className={\"flexCol\"} style={{ justifyContent: \"space-evenly\" }}>\n                <DashboardModule title={\"Store Code\"} icon={faKey} content={[<PairToken token={token} fontSize={\"22px\"} />]} />\n\n                <DashboardModule\n                  title={\"Settings\"}\n                  icon={faCog}\n                  content={\n                    <div className={\"dashboard-setting-wrapper\"}>\n                      <div className={\"dashboard-setting-text\"}>Allow Explicit</div>\n                      <div className={\"dashboard-setting-option\"}>\n                        <Switch style={{ width: \"30px\" }} checked={explicitAllowed} disabled={explicitAllowed === null} loading={loadingExplicit} onClick={() => this.toggleExplicit()} />\n                      </div>\n                    </div>\n                  }\n                />\n              </div>\n            </div>\n          </div>\n        </Spin>\n\n        {/* CONNECTION INSTRUCTIONS */}\n        <Modal visible={showAppModal} onOk={() => this.setState({ showAppModal: false })} onCancel={() => this.setState({ showAppModal: false })} width={modalWidth} footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Connect Device</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"mobile-phone\"}>\n                <FontAwesomeIcon icon={faMobile} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faMusic} className={\"special-music-icon\"} />\n              </div>\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"speaker-group\"}>\n                <FontAwesomeIcon icon={faSpeaker} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faCommentMusic} className={\"connect-music-icon\"} />\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">\n              {isApple ? (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on the App Store.\n                </>\n              ) : (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on Google Play or the App Store onto your mobile device\n                </>\n              )}\n            </div>\n\n            <div className=\"store-wrapper rowItem\">\n              <img src={AmbiiLogo} className={\"connect-music-icon ambii-logo\"} alt={\"\"} />\n              <div className=\"store-button-wrapper\" onClick={() => this.openLink(\"https://play.google.com/store/apps/details?id=com.ambii_business_music\")}>\n                {!isApple && (\n                  <div className=\"store-button\">\n                    <GooglePlay className={\"connect-music-icon brand-icon\"} style={{ width: 24, height: 48 }} />\n                    <div className=\"store-button-text\">\n                      <div className=\"store-button-subtitle\">Download on</div>\n                      <div className=\"store-button-title\"> Google Play </div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"store-button\" onClick={() => this.openLink(\"https://apps.apple.com/us/app/ambii-music-for-business/id1501666271\")}>\n                  <FontAwesomeIcon icon={faApple} className={\"connect-music-icon brand-icon\"} style={{ fontSize: \"32px\" }} />\n                  <div className=\"store-button-text\">\n                    <div className=\"store-button-subtitle\">Download on</div>\n                    <div className=\"store-button-title\"> App Store </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">2. Once downloaded, enter your Store Code</div>\n\n            <div className=\"connect-text\" style={{ marginTop: \"25px\", fontSize: \"24px\" }}>\n              Store Code: <span className=\"connect-token\">{token}</span>\n            </div>\n          </div>\n        </Modal>\n\n        {/* DEVICE ALREADY CONNECTED */}\n        <Modal visible={showConnectModal} onOk={() => this.setState({ showConnectModal: false })} onCancel={() => this.setState({ showConnectModal: false })} width={modalWidth} footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Device Already Connected!</div>\n            <div className=\"connect-text\">Another device is already connected to this account. Would you like to play music on this device instead?</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n            </div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton\"} loading={loadingPlayer} disabled={loadingPlayer} onClick={() => this.loadPlayer({ override: true })}>\n                Yes, Connect\n              </Button>\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.setState({ showConnectModal: false })}>\n                No, Cancel\n              </Button>\n            </div>\n          </div>\n        </Modal>\n\n        {/* WEB PLAYER OVERRIDEN */}\n        <Modal visible={showErrorModal} onOk={() => this.closeErrorMessage()} onCancel={() => this.closeErrorMessage()} width={modalWidth} footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">{errorTitle}</div>\n\n            <div className=\"connect-text\">{errorMessage}</div>\n\n            <div className=\"connect-display rowItem\">{errorIcon}</div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.closeErrorMessage()}>\n                {errorButton ? errorButton : \"Ok\"}\n              </Button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        updateStationListener,\n        updateCurrentTrackListener,\n        removeStationListener,\n        getStation,\n        connectPlayer,\n        playerError,\n        assignStation,\n        toggleExplicit,\n        setDisableSkip,\n        skipSong,\n        setIsPlaying,\n        disconnectPlayer,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    player: state.player,\n    currentTrack: state.auth.location.currentTrack,\n    isApple: state.auth.isApple,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport \"./index.scss\";\n\nexport default class MoodTag extends Component {\n  state = {\n    isHovered: false,\n  };\n\n  onMouseOver = () => {\n    this.setState({ isHovered: true });\n  };\n  onMouseOut = () => {\n    this.setState({ isHovered: false });\n  };\n\n  render() {\n    const { performSelect, text } = this.props;\n    return (\n      <div className=\"mood_tag\" onMouseEnter={this.onMouseOver} onMouseLeave={this.onMouseOut} onClick={performSelect}>\n        <span style={{ marginLeft: 8 }}>{text}</span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ReactResizeDetector from \"react-resize-detector\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport MoodTag from \"./mood_tag\";\nimport \"./index.scss\";\n\nexport default class MoodTagSearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: this.props.items,\n      search: \"\",\n      isSearchFocused: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  removeTag = (mood) => () => {\n    this.props.performSelect(mood);\n  };\n\n  onChangeText = (e) => {\n    this.setState({ search: e.target.value }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  performSelect = (mood) => () => {\n    this.props.performSelect(mood);\n    this.setState({ search: \"\" }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  filterTagArray = () => {\n    const second = new Set(this.props.selectedTags);\n    const difference = [...this.state.tags].filter((x) => !second.has(x));\n    return difference;\n  };\n\n  handleClick = (e) => {\n    if (this.node.contains(e.target)) {\n      return;\n    }\n\n    this.setState({ isSearchFocused: false });\n  };\n\n  render() {\n    const { search, isSearchFocused } = this.state;\n\n    return (\n      <ReactResizeDetector handleHeight>\n        {({ height }) => (\n          <div className=\"mood_container\" ref={(node) => (this.node = node)}>\n            <div className={`input-tag ${isSearchFocused ? \"red-focus\" : \"\"}`}>\n              <ul className=\"input-tag__tags\" ref={(tagListRef) => (this.tagListRef = tagListRef)}>\n                {this.props.selectedTags.map((tag, i) => (\n                  <li key={tag}>\n                    {tag}\n                    <button type=\"button\" className=\"remove_btn\" onClick={this.removeTag(tag)}>\n                      +\n                    </button>\n                  </li>\n                ))}\n                <li className=\"input-tag__tags__input\">\n                  <textarea\n                    className=\"mood_searchBar\"\n                    type=\"text\"\n                    placeholder=\"Search for Moods\"\n                    onFocus={() => this.setState({ isSearchFocused: true })}\n                    value={search}\n                    onChange={this.onChangeText}\n                    ref={(c) => {\n                      this.tagInput = c;\n                    }}\n                  />\n                  <FontAwesomeIcon icon={faSearch} color=\"rgba(95, 95, 95, 0.4)\" />\n                </li>\n              </ul>\n            </div>\n            {isSearchFocused ? (\n              <div className=\"tag-result\" style={{ position: \"absolute\", top: height }}>\n                {this.filterTagArray().map((mood, i) => (\n                  <MoodTag key={i} text={mood} performSelect={this.performSelect(mood)} />\n                ))}\n              </div>\n            ) : null}\n          </div>\n        )}\n      </ReactResizeDetector>\n    );\n  }\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { tempos } from \"../../constants\";\nimport \"./index.scss\";\n\nexport default function TempoSelection(props) {\n  const performSelectTempo = (tempo, index) => () => {\n    if (index !== props.currentSelectedTempo) {\n      props.selectTempo(tempo, index);\n    } else {\n      props.deSelectTempo();\n    }\n  };\n\n  const renderTempos = () => {\n    let tempoKeys = Object.keys(tempos);\n    return tempoKeys.map((tempo, i) => (\n      <div key={i} className=\"wrapper\">\n        <div\n          className=\"energy\"\n          onClick={performSelectTempo([tempos[tempo].min, tempos[tempo].max], i)}\n          style={{\n            backgroundColor: i === props.currentSelectedTempo ? \"rgba(95, 95, 95, 0.1)\" : \"white\",\n          }}\n        >\n          <div className=\"content\">\n            <div className=\"inner\">\n              <FontAwesomeIcon icon={tempos[tempo].icon} className=\"tempo_icon\" />\n              <span>{tempos[tempo].title}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ));\n  };\n\n  return <div className=\"tempo_container\">{renderTempos()}</div>;\n}\n","import React from \"react\";\nimport { Range } from \"rc-slider\";\nimport \"./index.scss\";\n\nconst LABEL = [`10's`, `00's`, `90's`, `80's`, `70's`, `60's`].reverse();\n\nexport default function EraSelection(props) {\n  const renderLabel = () => {\n    return LABEL.map((label, i) => (\n      <div id={i} className=\"label_container\">\n        <span className=\"label\">{label}</span>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"era_container\">\n      <Range\n        step={10}\n        min={1950}\n        max={2020}\n        defaultValue={props.defaultValue}\n        dots\n        onAfterChange={props.selectEra}\n        trackStyle={[{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }]}\n        railStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\n        dotStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\", border: \"none\" }}\n        handleStyle={[\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n        ]}\n      />\n      <div className=\"labels\">\n        <div id=\"oldies\">Oldies</div>\n        <div className=\"label_body\">{renderLabel()}</div>\n        <div id=\"modern\">Modern</div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport MoodTagSearchBar from \"../../mood_tag_search_bar\";\nimport TempoSelection from \"../../tempo_selection\";\nimport EraSelection from \"../../era_selection\";\n\nconst AdvanceFilter = ({ browseMoods, currentSelectedTempo, onSelectTempo, onDeselectTempo, browseEraRange, onSelectEra, onSelectMood }) => (\n  <div>\n    <div className=\"moodWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Tags</div>\n      <div className=\"browseSelectionsContainer\">\n        <MoodTagSearchBar items={Object.keys(browseMoods)} selectedTags={Object.keys(browseMoods).filter((mood) => browseMoods[mood] === true)} performSelect={onSelectMood} />\n      </div>\n    </div>\n\n    <div className=\"tempoWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Energy</div>\n      <div className=\"browseSelectionsContainer\">\n        <TempoSelection currentSelectedTempo={currentSelectedTempo} selectTempo={onSelectTempo} deSelectTempo={onDeselectTempo} />\n      </div>\n    </div>\n\n    {/* <div className=\"eraWrapper\" style={{ margin: 'auto' }}>\n          <div className=\"browseSettingsTitle\">{'Era'}</div>\n          <div className=\"browseSelectionsContainer\">\n            <EraSelection\n              defaultValue={[browseEraRange.from, browseEraRange.to]}\n              selectEra={onSelectEra}\n            />\n          </div>\n        </div> */}\n  </div>\n);\n\nexport default AdvanceFilter;\n","import React from \"react\";\nimport { Modal, Avatar } from \"antd\";\nimport \"./index.scss\";\n\nconst TracksModal = ({ visible, onCancel, tracks, title }) => (\n  <Modal title={title} visible={visible} onCancel={onCancel} footer={[]}>\n    {tracks.map((track, key) => (\n      <div className=\"track-container\" key={key}>\n        {track.albumCover ? <Avatar shape=\"square\" size={50} src={track.albumCover} /> : <Avatar shape=\"square\" size={50} icon=\"user\" />}\n        <div>\n          <p style={{ marginLeft: 10 }} className=\"heading-regular margin-0\">\n            {track.title}\n          </p>\n          <p style={{ marginLeft: 10 }} className=\"margin-0\">\n            {track.artist}\n          </p>\n        </div>\n      </div>\n    ))}\n  </Modal>\n);\n\nexport default TracksModal;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { genreColors } from \"../../constants\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\n/**\n * @param {array} genres - Array of genres\n * @param {bool} showStats - Display of text % (such as '72%', 26%', ...)\n * @param {object} style - React in-line styling\n * @param {object} simple - Show only the genre color bar (no bpm info)\n */\n\nconst GenreColorBar = ({ genres, roundBottom, bpm, simple }) => {\n  const data = Object.entries(genres || [])\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n\n  let dataA,\n    dataB,\n    dataC = 0;\n\n  try {\n    dataA = data[0][1];\n    dataB = data[1][1];\n    dataC = data[2][1];\n  } catch (err) {\n    console.log(\"Not all genre fields available\");\n  }\n\n  const totalPercentage = (dataA && dataA > 0.1 ? dataA : 0) + (dataB && dataB > 0.1 ? dataB : 0) + (dataC && dataC > 0.1 ? dataC : 0);\n\n  const calculateEachPercentage = (percent) => {\n    return percent / totalPercentage;\n  };\n\n  let bpmInfo = getBPMInfo(bpm);\n\n  return (\n    <div className=\"genre-container\">\n      <div className=\"genre-color-bar\">\n        {data.map((music, i) => {\n          const genre = music[0];\n          const percent = calculateEachPercentage(music[1]);\n\n          return (\n            <div className={\"genre-wrapper\"} style={{ width: `${percent * 100}%`, display: percent > 0.1 ? \"flex\" : \"none\" }} key={genre}>\n              <div\n                className={\"genre-chunk\"}\n                style={{\n                  backgroundColor: genreColors[genre],\n                  borderBottomLeftRadius: i === 0 && roundBottom ? \"8px\" : null,\n                  borderBottomRightRadius: i === genres.length - 1 && roundBottom ? \"8px\" : null,\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n\n      {!simple && (\n        <div className={\"genre-tile-info-wrapper\"}>\n          <div className={\"genre-tile-genre-wrapper\"}>\n            {data.map((music, i) => {\n              const genre = music[0];\n              const percent = calculateEachPercentage(music[1]);\n\n              if (percent > 0.1) {\n                return (\n                  <div className={\"flexRow\"} key={genre}>\n                    <div className={\"genre-color-dot\"} style={{ backgroundColor: genreColors[genre] }} />\n                    <span style={{ position: \"relative\", bottom: 4, left: 4, fontWeight: i === 0 ? \"bold\" : \"normal\" }}>{genre}</span>\n                  </div>\n                );\n              }\n            })}\n          </div>\n          <div className={\"genre-bpm\"}>\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} className={\"bpm-icon\"} />\n            <div>{get(bpmInfo, \"title\", \"\")}</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GenreColorBar;\n","import React from \"react\";\nimport TracksModal from \"../tracksModal\";\nimport { logEvent } from \"../../../configs/google-analytics\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport { hashCode, checkForMobile } from \"../../../util\";\nimport GenreColorBar from \"../../genre-color-bar\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass PublicStation extends React.PureComponent {\n  state = {\n    modalVisible: false,\n    hovered: false,\n  };\n\n  showModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  hideModal = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  stationPress = (id, name) => {\n    const { history } = this.props;\n    if (id) {\n      logEvent({ category: categories.discover, action: actions.button, value: name, label: labels.button });\n      history.push(`/station/${id}`);\n    }\n  };\n\n  playStation = (e) => {\n    const { _id, company, name, assignStation } = this.props;\n    e.stopPropagation();\n    let companyId = get(company, \"_id\", \"\");\n    assignStation(companyId, _id).then(() => {\n      logEvent({ category: categories.discover, action: actions.startStation, value: name, label: labels.button });\n      this.props.history.push(\"/nowPlaying\", { isBack: true });\n    });\n  };\n\n  render() {\n    const { modalVisible } = this.state;\n    const { bpm, genres, _id, hex, track, title, type, rowIndex, browse, showPlaylistModal, isApple, explicit } = this.props;\n\n    let tileStyle = type === \"advanced\" ? \"advanced-station-preview\" : \"public-station noselect\";\n    let previewCardStyle = (_id ? \"item-container pointer\" : \"item-container-preview item-container pointer\").concat(rowIndex === 0 ? \" first-row\" : \"\");\n    let name = get(this.props, \"name\", \"\");\n    let bpmMean = get(bpm, \"mean\", 1);\n\n    return (\n      <div className={tileStyle} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })} style={browse ? { margin: \"0px 0px 10px 0px\", border: \"2px solid white\" } : { border: \"2px solid white\" }} onClick={() => showPlaylistModal(_id)}>\n        <div className={previewCardStyle} style={{ backgroundColor: hex, backgroundImage: `url(${hashCode(this.props.name)})` }}>\n          <div className={\"station-tile-header\"}>\n            {type !== \"advanced\" && (\n              <div style={_id ? {} : { fontSize: 14 }} className=\"name\">\n                {name ? name.replace(\" (Explicit)\", \"\") : title}\n              </div>\n            )}\n          </div>\n        </div>\n        {track && track.length ? <TracksModal title={name} visible={modalVisible} onCancel={this.hideModal} tracks={track} /> : null}\n        <div className={\"info-container\"}>\n          <GenreColorBar genres={genres} showStats={isApple ? false : true} bpm={bpmMean || 100} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PublicStation;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"antd\";\nimport PublicStation from \"../public_stations/publicStation\";\nimport { assignStation } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { supersetDescriptions, categories, actions, labels } from \"../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft, faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass StationSection extends Component {\n  state = {\n    showArrows: false,\n    showLeftArrow: true,\n    showRightArrow: true,\n    diff: 0,\n  };\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n    const preMargin = Math.round((outer * 5) / 100);\n    this.setState({ diff: inner - outer + preMargin });\n    if (inner > outer) {\n      this.setState({ showArrows: true });\n    } else {\n      this.setState({ showArrows: false });\n    }\n  }\n\n  render() {\n    let { id, title, type, showViewAll, rowIndex, isApple } = this.props;\n    let data = get(this.props, \"data\", []);\n\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n\n    return (\n      <section className=\"feature-section\" id={id} style={!showViewAll ? { padding: \"25px 0px\" } : {}}>\n        <div className=\"feature-section-head-wrapper\">\n          <div className=\"feature-section-title-wrapper\">\n            <div className=\"preMargin\" />\n            <div className=\"heading heading-large\"> {title} </div>\n            {!showViewAll && (\n              <Button type=\"primary\" onClick={() => buttonPress(0, type, this.props.history)}>\n                <FontAwesomeIcon icon={faChevronLeft} />\n                Go back\n              </Button>\n            )}\n          </div>\n        </div>\n        <div className=\"description\">{supersetDescriptions[title]}</div>\n\n        <div className=\"blurredWrapper\">\n          <div\n            className=\"blurredEdgeStart\"\n            onMouseEnter={() => {\n              this.rightMoveSpeed = 2;\n              this.scrollRight = setInterval(() => {\n                this.rightMoveSpeed = Math.min(12, this.rightMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: -this.rightMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollRight);\n            }}\n          >\n            {showArrows && showLeftArrow ? <FontAwesomeIcon icon={faCaretLeft} /> : null}\n          </div>\n          <ScrollContainer\n            className=\"stationPreviewWrapper\"\n            ref={(me) => (this.scrollView = me)}\n            onScroll={(e) => {\n              if (e === 0) {\n                this.setState({ showLeftArrow: false });\n              } else {\n                this.setState({ showLeftArrow: true });\n              }\n              if (e === diff) {\n                this.setState({ showRightArrow: false });\n              } else {\n                this.setState({ showRightArrow: true });\n              }\n            }}\n          >\n            <div className=\"preMargin\" />\n            <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n              {data.map((item, index) => (\n                <PublicStation assignStation={this.props.actions.assignStation} showPlaylistModal={this.props.showPlaylistModal} company={this.props.company} history={this.props.history} key={index} rowIndex={rowIndex} isApple={isApple} {...item} />\n              ))}\n            </div>\n          </ScrollContainer>\n          <div\n            className=\"blurredEdgeEnd\"\n            onMouseEnter={() => {\n              this.leftMoveSpeed = 2;\n              this.scrollLeft = setInterval(() => {\n                this.leftMoveSpeed = Math.min(12, this.leftMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: this.leftMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollLeft);\n            }}\n          >\n            {showArrows && showRightArrow ? <FontAwesomeIcon icon={faCaretRight} /> : null}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\n// Button Press actions\nconst buttonPress = (clicked, type, history) => {\n  if (clicked === 0) {\n    history.push(\"/discover\", { isBack: true });\n  }\n  if (clicked === 1) {\n    logEvent({ category: categories.discover, action: actions.button, value: \"View More\", label: labels.button });\n    history.push(`/stations/${type}`);\n  }\n};\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeStationPreview: state.activeStationPreview,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationSection));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"./index.scss\";\n\nexport default class GenresSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showArrows: false,\n      showLeftArrow: false,\n      showRightArrow: true,\n      diff: 0,\n    };\n  }\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n\n    this.setState({ diff: inner - outer });\n\n    if (inner > outer) this.setState({ showArrows: true });\n    else this.setState({ showArrows: false });\n  }\n  render() {\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n    return (\n      <div className=\"genre_container\">\n        <div\n          className=\"edgeStart\"\n          onMouseEnter={() => {\n            let rightMoveSpeed = 2;\n            this.scrollRight = setInterval(() => {\n              rightMoveSpeed = Math.min(12, rightMoveSpeed + 0.1);\n              if (showLeftArrow) this.scrollView.getElement().scrollBy({ left: -rightMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollRight);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon className=\"icon\" icon={faCaretLeft} style={{ fontSize: 24, color: showLeftArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n        <ScrollContainer\n          className=\"itemWrapper\"\n          ref={(me) => (this.scrollView = me)}\n          onScroll={(e) => {\n            if (e === 0) this.setState({ showLeftArrow: false });\n            else this.setState({ showLeftArrow: true });\n\n            if (e === diff) this.setState({ showRightArrow: false });\n            else this.setState({ showRightArrow: true });\n          }}\n        >\n          <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n            {this.props.items}\n          </div>\n        </ScrollContainer>\n        <div\n          className=\"edgeEnd\"\n          onMouseEnter={() => {\n            let leftMoveSpeed = 2;\n            this.scrollLeft = setInterval(() => {\n              leftMoveSpeed = Math.min(12, leftMoveSpeed + 0.1);\n              this.scrollView.getElement().scrollBy({ left: leftMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollLeft);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon icon={faCaretRight} style={{ fontSize: 24, color: showRightArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Lottie from \"react-lottie\";\n\nclass ControlledLottie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isStopped: false,\n      isPaused: false,\n    };\n  }\n\n  render() {\n    const { animationData, height, width } = this.props;\n\n    // const buttonStyle = {\n    //     display: 'inline-block',\n    //     margin: '10px auto',\n    //     marginRight: '10px',\n    //     border: 'none',\n    //     color: 'white',\n    //     backgroundColor: '#647DFF',\n    //     borderRadius: '2px',\n    //     fontSize: '15px'\n\n    // };\n\n    const defaultOptions = {\n      loop: true,\n      autoplay: true,\n      animationData,\n      rendererSettings: {\n        preserveAspectRatio: \"xMidYMid slice\",\n      },\n    };\n\n    return (\n      <div className=\"controlled\">\n        <Lottie options={defaultOptions} height={height || 400} width={width || 400} isStopped={this.state.isStopped} isPaused={this.state.isPaused} />\n      </div>\n    );\n  }\n}\n\nexport default ControlledLottie;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { SlideDown } from \"react-slidedown\";\nimport { Dropdown, Button, Menu, Modal, Input } from \"antd\";\nimport { Range } from \"rc-slider\";\nimport { addPlayerListeners, removePlayerListeners, getDiscoverPulicStations, assignStation } from \"../../../actions\";\nimport AdvanceFilter from \"../advance_filter\";\nimport StationsSection from \"../../../components/stationSection\";\nimport PublicStation from \"../../../components/public_stations/publicStation\";\nimport StationDetails from \"../../../components/stationDetails\";\nimport GenresSection from \"../../genre_section\";\nimport { Animated } from \"react-animated-css\";\nimport { Spin } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../../configs/google-analytics\";\nimport { get, isEqual } from \"lodash\";\nimport { userTypes, supersets, categories, actions, labels, defaultStationCount } from \"../../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faFilter } from \"@fortawesome/pro-solid-svg-icons\";\nimport { capitolizeFirstLetter, checkForMobile } from \"../../../util\";\nimport PageTitle from \"../../../components/page-title\";\nimport UncontrolledLottie from \"../../../components/UncontrolledLottie\";\nimport ControlledLottie from \"../../../components/ControlledLottie\";\nimport AdFree from \"../../../lotties/lottie_ad_free.json\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport MobileAppCommunicator from \"../../../helpers/MobileAppCommunicator\";\nimport \"../index.scss\";\nimport Auth0Helper from \"../../../helpers/Auth0Helper\";\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      artistName: \"\",\n      searchText: \"\",\n      isStation: false,\n      isFixHeader: false,\n      showStationSearch: false,\n      showAppModal: false,\n      businessType: \"other\",\n      browseGenres: {},\n      defaultGenres: {}, // Easy reset for browseGenres\n      browseMoods: {},\n      defaultMoods: {}, // Easy reset for browseMoods\n      browseTempoRange: {\n        min: 30,\n        max: 150,\n      },\n      browseEraRange: {\n        from: 1950,\n        to: 2020,\n      },\n      playlistModalId: null,\n      playlists: null, // Station Sections\n      calculatedPlaylists: null,\n      // showAdFreeModal: true,\n      showAdvancedSearch: false,\n      isFiltering: false,\n      currentSelectedTempo: -1,\n      selectedGenres: {},\n      selectedMoods: {},\n      loadNumber: defaultStationCount,\n    };\n  }\n\n  getBusinessType() {\n    let businessType = get(this.props, \"myLocation.company.businessType\", \"restaurant\").toLowerCase();\n    if (businessType.toLowerCase() === \"other\") businessType = \"other\";\n    this.setState({ businessType });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { inApp } = this.props;\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null))) {\n      this.getBusinessType();\n\n      if (inApp) {\n        let token = get(this.props, \"myLocation.token\", \"\");\n        let station = get(this.props, \"myLocation.station._id\", \"\");\n\n        // If we're coming from the mobile intro screen & we're logged in & have a station selected already\n        if (localStorage.getItem(\"mobileIntroLogin\") && Auth0Helper.isLoggedIn() && token && station) {\n          localStorage.removeItem(\"mobileIntroLogin\");\n          MobileAppCommunicator.send(\"player\", \"player/\" + token);\n        }\n      }\n    }\n  }\n\n  async componentDidMount() {\n    trackScreen();\n    this.getBusinessType();\n\n    this.props.actions.getDiscoverPulicStations().then((res) => {\n      let playlists = get(res, \"playlistList\", []);\n\n      let browseGenres = playlists.reduce((total, current) => {\n        Object.keys(current.genres).forEach((genre) => {\n          total[genre] = false;\n        });\n        return total;\n      }, {});\n\n      let browseMoods = playlists.reduce((total, current) => {\n        Object.keys(current.moods).forEach((mood) => {\n          total[mood] = false;\n        });\n        return total;\n      }, {});\n\n      this.setState({ isLoading: false, playlists, browseGenres, defaultGenres: browseGenres, browseMoods, defaultMoods: browseMoods }, this.calculateBrowse);\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.actions.removePlayerListeners();\n  }\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  toggleStationSearch = () => {\n    const { showStationSearch } = this.state;\n    this.setState({ showStationSearch: !showStationSearch }, () => {\n      if (showStationSearch) {\n        setTimeout(() => {\n          const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n          if (collapse && collapse.length) collapse[0].scrollIntoView();\n        }, 100);\n      } else\n        logEvent({\n          category: categories.discover,\n          action: actions.advancedBrowse,\n          label: labels.button,\n        });\n    });\n  };\n\n  calculateBrowse = () => {\n    const { loadNumber } = this.state;\n\n    // function capable of building a percentage list of an incoming object\n    const buildPercentages = (obj) => {\n      var returnedObj = {};\n      var keys = Object.keys(obj).filter((key) => obj[key]);\n      keys.forEach((key) => {\n        returnedObj[key] = 1 / keys.length;\n      });\n      return returnedObj;\n    };\n\n    const toVector = (obj, target) => {\n      var vector = [];\n      Object.keys(target).forEach((key) => {\n        if (obj[key]) vector.push(obj[key]);\n        else vector.push(0);\n      });\n      return vector;\n    };\n\n    const cosSim = (A, B) => {\n      var dotproduct = 0;\n      var mA = 0;\n      var mB = 0;\n      for (var i = 0; i < A.length; i++) {\n        dotproduct += A[i] * B[i];\n        mA += A[i] * A[i];\n        mB += B[i] * B[i];\n      }\n      mA = Math.sqrt(mA);\n      mB = Math.sqrt(mB);\n      var similarity = dotproduct / (mA * mB);\n      return similarity;\n    };\n\n    const scoreString = (searchString, targetString) => {\n      var score = 0;\n\n      for (var i = 0; i < searchString.length; i++) {\n        for (var j = i + 1; j < searchString.length + 1; j++) {\n          var ngram = searchString.slice(i, j);\n          if (!targetString.includes(ngram)) break;\n          score += Math.pow(ngram.length, 1.5) / targetString.length;\n        }\n      }\n\n      return score;\n    };\n\n    // start by filtering by tempo\n    var playlists = this.state.playlists.filter((playlist) => {\n      if (playlist?.bpm?.mean > this.state.browseTempoRange?.max) return false;\n      if (playlist?.bpm?.mean < this.state.browseTempoRange?.min) return false;\n      return true;\n    });\n\n    if (!this.state.searchText) {\n      var targetGenres = buildPercentages(this.state.browseGenres);\n      var targetMoods = buildPercentages(this.state.browseMoods);\n\n      var genresSelected = Object.keys(targetGenres).length !== 0;\n      var moodsSelected = Object.keys(targetMoods).length !== 0;\n\n      targetGenres = toVector(targetGenres, this.state.browseGenres);\n      targetMoods = toVector(targetMoods, this.state.browseMoods);\n\n      var genreSimilarities = {};\n      if (genresSelected) {\n        playlists.forEach((playlist) => {\n          genreSimilarities[playlist._id] = cosSim(toVector(playlist.genres, this.state.browseGenres), targetGenres);\n        });\n      }\n\n      var moodSimilarities = {};\n      if (moodsSelected) {\n        playlists.forEach((playlist) => {\n          moodSimilarities[playlist._id] = cosSim(toVector(playlist.moods, this.state.browseMoods), targetMoods);\n        });\n      }\n\n      playlists = playlists.sort((a, b) => {\n        var total = 0;\n        if (genresSelected) total += (genreSimilarities[b._id] - genreSimilarities[a._id]) * 0.5;\n        if (moodsSelected) total += (moodSimilarities[b._id] - moodSimilarities[a._id]) * 0.5;\n        return total;\n      });\n    } else {\n      playlists = playlists\n        .map((playlist) => {\n          var searchScore = 0;\n          searchScore += scoreString(this.state.searchText, playlist.name);\n          if (playlist.description) searchScore += scoreString(this.state.searchText, playlist.description);\n          return { ...playlist, searchScore: searchScore };\n        })\n        .sort((a, b) => {\n          return b.searchScore - a.searchScore;\n        });\n    }\n\n    // return only the top 12\n    playlists = playlists.slice(0, loadNumber);\n    this.setState({ calculatedPlaylists: playlists });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Station Preview: \" + playlistId);\n  };\n\n  updatePreference(e) {\n    this.setState({ businessType: e.key });\n    logEvent({\n      category: categories.discover,\n      action: actions.updatePreference,\n      value: e.key,\n      label: labels.button,\n    });\n  }\n\n  _checkIfAllFalse = (arr) => {\n    for (const select of arr) {\n      if (select === true) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  _checkIsFiltering = () => {\n    const { searchText, browseGenres, browseMoods, currentSelectedTempo } = this.state;\n    const isSearching = searchText.length > 0;\n    const isSelectingGenre = this._checkIfAllFalse(Object.values(browseGenres)) === false;\n    const isSelectingMood = this._checkIfAllFalse(Object.values(browseMoods)) === false;\n    const isSelectingTempo = currentSelectedTempo > -1;\n\n    return isSearching || isSelectingGenre || isSelectingMood || isSelectingTempo;\n  };\n\n  onSetFiltering = () => {\n    if (this._checkIsFiltering()) this.setState({ isFiltering: true });\n    else this.setState({ isFiltering: false });\n  };\n\n  // Selects a genre\n  onSelectGenre = (genre) => () => {\n    let selectedGenres = { ...this.state.selectedGenres };\n    selectedGenres[genre] ? delete selectedGenres[genre] : (selectedGenres[genre] = true);\n\n    this.setState({ showAdvancedSearch: Object.keys(selectedGenres).length > 0 ? true : false, selectedGenres, browseGenres: { ...this.state.browseGenres, [genre]: !this.state.browseGenres[genre] }, loadNumber: defaultStationCount }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects a mood\n  onSelectMood = (mood) => {\n    let selectedMoods = { ...this.state.selectedMoods };\n    selectedMoods[mood] ? delete selectedMoods[mood] : (selectedMoods[mood] = true);\n\n    this.setState({ selectedMoods, browseMoods: { ...this.state.browseMoods, [mood]: !this.state.browseMoods[mood] } }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects a tempo\n  onSelectTempo = (tempo, index) => {\n    this.setState({ browseTempoRange: { min: tempo[0], max: tempo[1] }, currentSelectedTempo: index }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Deselects tempo\n  onDeselectTempo = () => {\n    this.setState({ browseTempoRange: { min: 30, max: 150 }, currentSelectedTempo: -1 }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects an era\n  onSelectEra = (era) => {\n    this.setState({ browseEraRange: { from: era[0], to: era[1] } });\n  };\n\n  // Updates the station search text\n  onSetSearchText = (e) => {\n    this.setState({ searchText: e.target.value }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  };\n\n  // Clears all selections from advanced filters\n  clearAdvancedFilters() {\n    const { defaultGenres, defaultMoods } = this.state;\n    this.setState({ searchText: \"\", selectedGenres: {}, selectedMoods: {}, browseGenres: defaultGenres, browseMoods: defaultMoods, loadNumber: defaultStationCount, currentSelectedTempo: -1 }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  }\n\n  // Decides whether to show or hide advanced search menu\n  showClearFilters() {\n    const { currentSelectedTempo, selectedGenres, selectedMoods, searchText } = this.state;\n    if (searchText.length > 0 || Object.keys(selectedGenres).length > 0 || Object.keys(selectedMoods).length > 0 || currentSelectedTempo !== -1) return true;\n    else return false;\n  }\n\n  // Shows more stations in advanced search\n  loadMoreStations() {\n    this.setState({ loadNumber: this.state.loadNumber + defaultStationCount }, () => {\n      this.calculateBrowse();\n    });\n  }\n\n  render() {\n    const { isApple, inApp } = this.props;\n    const { showAdFreeModal, browseMoods, isLoading, playlists, businessType, playlistModalId, showAdvancedSearch, currentSelectedTempo, browseEraRange, isFiltering, browseGenres, searchText, calculatedPlaylists, selectedGenres } = this.state;\n\n    let modalWidth = checkForMobile() ? \"90%\" : \"80%\";\n    let globalStations = {};\n    let businessTypeStations = {};\n    let userType = get(this.props, \"user.role\", null);\n    let company = get(this.props, \"user.company\", \"\");\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n    let hasFavorites = favorites.length > 0 ? true : false;\n    let favoritesQueue = {};\n    if (hasFavorites) favoritesQueue[\"Favorites\"] = favorites;\n\n    for (var superset of supersets.global) globalStations[superset] = [];\n\n    let businessTypeSuperset = businessType.toLowerCase() === \"other\" && userType === userTypes.Individual ? supersets[\"defaultIndividual\"] : supersets[businessType.toLowerCase()];\n\n    for (var superset of businessTypeSuperset) businessTypeStations[superset] = [];\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) globalStations[playlistSuperset].push(playlist);\n          if (playlistSuperset in businessTypeStations) businessTypeStations[playlistSuperset].push(playlist);\n        }\n      }\n    }\n\n    const businessTypeMenu = (\n      <Menu onClick={(e) => this.updatePreference(e)} selectedKeys={[businessType]} className=\"menu-wrapper\">\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n\n    return (\n      <div className={\"discoverWrapper\"} id=\"discover-container\">\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={modalWidth} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails login={this.props.login} playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} />\n        </Modal>\n        <div className=\"create-body\">\n          {/* Display page title if we're not viewing from mobile app */}\n          {!inApp && (\n            <div className=\"discover-head-wrapper\">\n              <PageTitle\n                title={\n                  <span>\n                    Let's Find Your\n                    <span style={{ color: \"#D04283\" }}>&nbsp;ambii</span>-ance\n                  </span>\n                }\n                subtitle={\"Discover the right music for your business\"}\n                style={{ flex: 1 }}\n              />\n\n              {userType !== userTypes.Individual && (\n                <div className={\"discover-buttons\"}>\n                  <div className={\"viewOptions\"}>\n                    <Dropdown overlay={businessTypeMenu} trigger={[\"click\"]} className={\"preference-menu\"}>\n                      <Button className={\"preference-menu-button\"}>\n                        <span style={{ marginRight: \"5px\", color: \"black\" }}>Preference:</span>\n                        {capitolizeFirstLetter(businessType)}\n                        <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"8px\" }} />\n                      </Button>\n                    </Dropdown>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\" }}>\n            {isLoading && <div style={{ width: \"100%\", height: \"30vh\" }}></div>}\n            {!isLoading && (\n              <Animated animationIn=\"fadeIn\" isVisible={true}>\n                <div className={\"browseSettingsContainer \".concat(showAdvancedSearch && \"showAdvancedSearch\")}>\n                  <div className=\"searchWrapper\">\n                    <div className=\"searchInput\">\n                      <Input.Search className=\"searchBar\" placeholder=\"Search\" value={searchText} onChange={this.onSetSearchText} />\n                    </div>\n                    <Button onClick={() => this.setState((prevState) => ({ showAdvancedSearch: !prevState.showAdvancedSearch }))} className={showAdvancedSearch ? \"active\" : null}>\n                      <FontAwesomeIcon icon={faFilter} style={{ paddingRight: \"4px\" }} />\n                      Filters\n                    </Button>\n                    {this.showClearFilters() && (\n                      <Button onClick={() => this.clearAdvancedFilters()} style={{ marginLeft: \"10px\" }}>\n                        Clear\n                      </Button>\n                    )}\n                  </div>\n                  <div className=\"genreWrapper\">\n                    <div className=\"browseSelectionsContainer\">\n                      <GenresSection\n                        items={Object.keys(browseGenres).map((genre) => (\n                          <span\n                            key={genre}\n                            className=\"mobileGenreItem\"\n                            onClick={this.onSelectGenre(genre)}\n                            style={{\n                              backgroundColor: browseGenres[genre] ? \"rgba(95, 95, 95, 0.2)\" : \"transparent\",\n                            }}\n                          >\n                            {genre}\n                          </span>\n                        ))}\n                      />\n                    </div>\n                  </div>\n\n                  <SlideDown style={{ width: \"100%\" }}>{showAdvancedSearch ? <AdvanceFilter browseMoods={browseMoods} currentSelectedTempo={currentSelectedTempo} browseEraRange={browseEraRange} onSelectTempo={this.onSelectTempo} onDeselectTempo={this.onDeselectTempo} onSelectEra={this.onSelectEra} onSelectMood={this.onSelectMood} /> : null}</SlideDown>\n                </div>\n\n                {isFiltering ? (\n                  <div className=\"advanced-station-wrapper\">\n                    <div className=\"playlistsContainer\">\n                      {calculatedPlaylists\n                        ? calculatedPlaylists.map((playlist, i) => {\n                            return (\n                              <div className=\"playlistContainer\" key={get(playlist, \"_id\", i)}>\n                                <PublicStation showPlaylistModal={this.showPlaylistModal} assignStation={this.props.actions.assignStation} company={company} browse={true} history={this.props.history} {...playlist} />\n                              </div>\n                            );\n                          })\n                        : null}\n                    </div>\n                    <Button className={\"load-more\"} onClick={() => this.loadMoreStations()}>\n                      Load More\n                    </Button>\n                  </div>\n                ) : null}\n\n                {!isFiltering ? (\n                  <div>\n                    {hasFavorites &&\n                      Object.keys(favoritesQueue).map((favorite, i) => {\n                        return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={favorite} id={favorite} rowIndex={i} title={favorite} type={favorite} data={favoritesQueue[favorite]} source={\"discover\"} isApple={isApple} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(globalStations).map((superset, i) => {\n                        console.log({ globalStations, superset, test: globalStations[superset] });\n                        if (globalStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} rowIndex={hasFavorites ? null : i} title={superset} type={superset} data={globalStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(businessTypeStations).map((superset) => {\n                        if (businessTypeStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} title={superset} type={superset} data={businessTypeStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                  </div>\n                ) : null}\n              </Animated>\n            )}\n          </Spin>\n          <div className=\"pageFooter\" />\n        </div>\n\n        {/* AD FREE */}\n        {/* <Modal\n          visible={showAdFreeModal}\n          onOk={() => this.setState({ showAdFreeModal: false })}\n          onCancel={() => this.setState({ showAdFreeModal: false })}\n          width={modalWidth}\n          footer={[]}\n          className=\"app-modal\"\n        >\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">\n              Welcome to <span style={{ color: '#D04283' }}>Ambii</span>\n            </div>\n            <div className=\"connect-text\">\n              We've set you up with 60 days of ad-free music, on us!\n            </div>\n            <div className=\"connect-text\" style={{ marginTop: '25px' }}>\n              After the 60 days, there's no pressure to subscribe or give us\n              your credit card information. Our advertisements let us promise to\n              be <span style={{ color: '#D04283' }}>Free. Forever!</span>\n            </div>\n            <div className=\"connect-animation\">\n              <UncontrolledLottie animationData={AdFree} />\n            </div>\n            <div className=\"connect-text\">\n              Now, simply choose any station and start playing music!\n            </div>\n            <div className=\"connect-button-group\" style={{ marginTop: '25px' }}>\n              <Button\n                type=\"primary\"\n                className={'big-button'}\n                onClick={() => this.setState({ showAdFreeModal: false })}\n              >\n                Get Started\n              </Button>\n            </div>\n          </div>\n        </Modal> */}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        getDiscoverPulicStations,\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    isApple: state.auth.isApple,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport GenreColorBar from \"../genre-color-bar\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass StationTile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovered: false,\n    };\n  }\n\n  render() {\n    const { data, simple } = this.props;\n    let key = get(data, \"_id\", data);\n    let name = get(data, \"name\", \"\");\n    let bpm = get(data, \"bpm.mean\", 100).toFixed(0);\n    let genres = get(data, \"genres\", []);\n    let bpmInfo = getBPMInfo(bpm);\n\n    return (\n      <div className=\"schedule-playlist draggable-events\" title={name} data={key} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })}>\n        <div className=\"flexRow station-content noselect\">\n          <div className=\"name\"> {name} </div>\n          <div className=\"bpm-wrapper\">\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} style={{ fontSize: 24 }} />\n          </div>\n        </div>\n        <GenreColorBar genres={genres} roundBottom={true} simple={simple} />\n      </div>\n    );\n  }\n}\n\nexport default StationTile;\n","import React, { Component } from \"react\";\nimport StationTile from \"../station-tile\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nlet MIN_COUNT = 5;\n\nclass StationVerticalList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  toggleExpand() {\n    this.setState({ expanded: !this.state.expanded });\n  }\n\n  render() {\n    const { label, data } = this.props;\n    const { expanded } = this.state;\n    let displayData = [...data];\n\n    if (!expanded) displayData = displayData.slice(0, MIN_COUNT);\n\n    return (\n      <div className=\"music-section-wrapper\">\n        <div className=\"music-section-header\"> {label} </div>\n        {displayData.map((elem) => (\n          <StationTile data={elem} key={get(elem, \"_id\", elem)} simple />\n        ))}\n\n        {data.length > MIN_COUNT && (\n          <div className=\"view-more\" onClick={() => this.toggleExpand()}>\n            {expanded ? \"View Less\" : \"View More\"}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default StationVerticalList;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPenSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport \"./index.scss\";\n\nclass ToggleInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      activeInput: false,\n    };\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    try {\n      document.addEventListener(\"mousedown\", (e) => this.handleClickOutside(e));\n      document.addEventListener(\"keypress\", (e) => this.handleKeyDown(e));\n    } catch (err) {\n      console.log(\"caught didMount toggleInput err: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!isEqual(get(this.props, \"text\", \"\"), get(prevProps, \"text\", \"\"))) {\n      console.log(\"props: \", this.props);\n      this.setState({ text: get(this.props, \"text\", \"\") });\n    }\n\n    if (!get(this.state, \"activeInput\", false) && !isEqual(get(this.state, \"activeInput\", false), get(prevState, \"activeInput\", false))) {\n      console.log(\"onUpdate: \", this.state);\n      this.props.onUpdate(this.state.text);\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\n      document.removeEventListener(\"keypress\", this.handleKeyDown);\n    } catch (err) {\n      console.log(\"caught willUnmount toggleInput err: \", err);\n    }\n  }\n\n  // Tries to capture 'enter' press\n  handleKeyDown(e) {\n    if (get(e, \"key\", \"\").toLowerCase() === \"enter\") {\n      this.setState({ activeInput: false });\n    }\n  }\n\n  // Listens for clicks outside this component\n  handleClickOutside(e) {\n    let current = get(this, \"inputRef.current\", \"\");\n    if (current && !current.contains(e.target)) this.setState({ activeInput: false });\n  }\n\n  // Handles updating text changes\n  handleUpdate = (e) => {\n    let copy = { ...e };\n    let val = get(copy, \"target.value\", \"\");\n    this.setState({ text: val.length > 0 && val.length < 40 ? val : val.substring(0, 40) });\n  };\n\n  // Handles input focus toggle\n  toggleInput = () => {\n    try {\n      this.setState({ activeInput: !this.state.activeInput }, () => {\n        this.inputRef.current.focus(); // Autofocus the input\n      });\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  };\n\n  render() {\n    const { activeInput, text } = this.state;\n\n    return (\n      <div className={\"toggle-input noselect\"}>\n        {!activeInput && (\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n            <div className=\"scheduleName\" onClick={() => this.toggleInput()}>\n              {text}\n            </div>\n            <FontAwesomeIcon icon={faPenSquare} className=\"icon inputIcon\" onClick={() => this.toggleInput()} />\n          </div>\n        )}\n        {activeInput && <input ref={this.inputRef} onChange={(e) => this.handleUpdate(e)} className=\"scheduleNameInput\" placeholder={text} />}\n      </div>\n    );\n  }\n}\n\nexport default ToggleInput;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getDiscoverPulicStations, setSchedule, getSchedule } from \"../../actions\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\"; // needed for dayClick\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faDesktop, faSmile } from \"@fortawesome/pro-light-svg-icons\";\nimport { Modal, Button, Spin } from \"antd\";\nimport StationVerticalList from \"../../components/stationVerticalList\";\nimport { isEqual, get } from \"lodash\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions, labels, supersets } from \"../../constants\";\nimport { checkForMobile } from \"../../util\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport ToggleInput from \"../../components/toggleInput\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass CreateSchedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      isMobile: checkForMobile(),\n      stations: [],\n      stationName: \"\",\n      mySchedule: {},\n      stationId: this.props.match.params.id,\n      playlists: [],\n      showMusicPlayer: false,\n      isSaving: false,\n    };\n    this.calendarComponentRef = React.createRef();\n  }\n\n  // Adding dragable properties to external events through javascript\n  async componentDidMount() {\n    trackScreen();\n\n    const { stationId } = this.state;\n    const [schedule, stations] = [await this.props.actions.getSchedule(stationId), await this.props.actions.getDiscoverPulicStations(stationId)];\n\n    if (schedule.success) {\n      let mySchedule = get(schedule, \"data[0]\", null);\n      let stationName = get(schedule, \"data[0].name\", null);\n      let stations = get(schedule, \"data[0].stations\", null);\n      this.setState({ mySchedule, stationName, stations });\n    }\n\n    let playlists = get(stations, \"playlistList\", []);\n\n    let browseGenres = playlists.reduce((total, current) => {\n      Object.keys(current.genres).forEach((genre) => {\n        total[genre] = false;\n      });\n      return total;\n    }, {});\n    let browseMoods = playlists.reduce((total, current) => {\n      Object.keys(current.moods).forEach((mood) => {\n        total[mood] = false;\n      });\n      return total;\n    }, {});\n\n    this.setState({ isLoading: false, playlists, browseGenres, browseMoods, showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n      try {\n        this.accessFullCalendarAPI();\n        window.addEventListener(\"resize\", this.accessFullCalendarAPI.bind(this));\n        let draggableEl = document.getElementById(\"external-events\");\n        new Draggable(draggableEl, {\n          itemSelector: \".draggable-events\",\n          eventData: (eventEl) => {\n            let title = eventEl.getAttribute(\"title\");\n            let id = eventEl.getAttribute(\"data\");\n            return { title, id };\n          },\n        });\n      } catch (err) {\n        console.log(\"caught err: \", err);\n      }\n    });\n    if (this.state.isMobile) logEvent({ category: categories.schedule, action: actions.viewedMobile });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.setState({ showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n        this.accessFullCalendarAPI();\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", this.accessFullCalendarAPI);\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  // Calendar options\n  accessFullCalendarAPI() {\n    try {\n      this.setState({ isMobile: checkForMobile() });\n\n      let sideSection = document.getElementById(\"external-events\") || null;\n      if (sideSection) sideSection = sideSection.getBoundingClientRect().height; // Subtract music player height from side-section\n\n      let calendar = this.calendarComponentRef.current.getApi();\n      calendar.setOption(\"height\", sideSection); // Shouldn't need to do this, but the calendar css is stuipd\n      calendar.setOption(\"eventColor\", \"#2F2F2F\");\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  renderHeader = (date) => {\n    switch (date.getDay()) {\n      case 1:\n        return \"Monday\";\n      case 2:\n        return \"Tuesday\";\n      case 3:\n        return \"Wednesday\";\n      case 4:\n        return \"Thursday\";\n      case 5:\n        return \"Friday\";\n      case 6:\n        return \"Saturday\";\n      default:\n        return \"Sunday\";\n    }\n  };\n\n  validateEvent = (data) => {\n    if (data.event.start.getDate() !== data.event.end.getDate()) {\n      if (data.event.start.getDate() + 1 === data.event.end.getDate() && data.event.end.getHours() === 0 && data.event.end.getMinutes() === 0) {\n        console.log(\"Same day allowed\");\n      } else {\n        data.revert();\n      }\n    }\n  };\n\n  saveSchedule = () => {\n    const { stationName, stationId, isSaving } = this.state;\n\n    try {\n      this.setState({ isSaving: true }, () => {\n        let calendar = this.calendarComponentRef.current.getApi();\n        let calendarEvents = calendar.getEvents();\n        let companyId = get(this.props, \"user.company._id\", null);\n\n        // Send in the correct format to server\n        let tempStations = [];\n        calendarEvents.forEach((station) => {\n          tempStations.push({\n            start: moment(station.start).format(),\n            end: moment(station.end).format(),\n            day: moment(station.start).format(),\n            title: station.title,\n            stationId: station.id !== null && station.id !== \"\" ? station.id : station.extendedProps.stationId,\n          });\n        });\n\n        this.props.actions.setSchedule({ companyId, scheduleId: stationId, name: stationName, stations: tempStations }).then(() => {\n          this.setState({ isSaving: false }, () => {\n            logEvent({ category: categories.schedule, action: actions.saveSchedule, label: labels.button });\n            this.props.history.push(\"/schedules\");\n          });\n        });\n      });\n    } catch (err) {\n      logEvent({ category: categories.schedule, value: err, label: labels.error });\n      this.setState({ isSaving: false });\n      console.log(\"caught: \", err);\n    }\n  };\n\n  closeSchedule = () => {\n    logEvent({ category: categories.schedule, action: actions.closeSchedule, label: labels.button });\n    this.props.history.push(\"/schedules\");\n  };\n\n  backToDashboard = () => {\n    logEvent({ category: categories.schedule, action: actions.backToDashboard, label: labels.button });\n    this.props.history.push(\"/nowPlaying\");\n  };\n\n  showErrorMessage() {\n    return (\n      <div className=\"error-div\">\n        <div className=\"title\">Mobile Not Supported</div>\n        <div className=\"subtitle\">Please view this page on desktop.</div>\n        <div className=\"phone\">\n          <FontAwesomeIcon icon={faDesktop} className=\"mobile-icon\" />\n          <FontAwesomeIcon icon={faSmile} className=\"frown-icon\" />\n        </div>\n        <Button className={\"optionButton\"} onClick={() => this.backToDashboard()}>\n          Back to Dashboard\n        </Button>\n      </div>\n    );\n  }\n\n  eventClick(e) {\n    confirm({\n      title: \"Delete this station?\",\n      content: get(e, \"event.title\", \"\") + \": \" + moment(get(e, \"event.start\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.start\", \"\")).format(\"LT\") + \" - \" + moment(get(e, \"event.end\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.end\", \"\")).format(\"LT\"),\n      onOk() {\n        e.event.remove();\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  stationNameUpdate(stationName) {\n    this.setState({ stationName });\n  }\n\n  render() {\n    const { history } = this.props;\n    const { isLoading, playlists, stations, showMusicPlayer, isMobile, stationName, isSaving } = this.state;\n\n    let globalStations = {};\n    let businessTypeStations = {};\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n\n    for (var superset of supersets.global) {\n      globalStations[superset] = [];\n    }\n\n    let businessTypeSuperset = supersets[\"defaultIndividual\"];\n\n    for (var superset of businessTypeSuperset) {\n      businessTypeStations[superset] = [];\n    }\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) {\n            globalStations[playlistSuperset].push(playlist);\n          }\n          if (playlistSuperset in businessTypeStations) {\n            businessTypeStations[playlistSuperset].push(playlist);\n          }\n        }\n      }\n    }\n\n    let categorizedKeys = Object.keys(businessTypeStations);\n    let globalStationKeys = Object.keys(globalStations);\n\n    return (\n      <div className={\"schedulePageWrapper\"}>\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          {isMobile ? (\n            this.showErrorMessage()\n          ) : (\n            <>\n              <div className=\"topRowWrapper\">\n                <div className=\"topRowLeft\">\n                  <div className=\"scheduleNameWrapper\">\n                    <ToggleInput text={stationName} onUpdate={(e) => this.stationNameUpdate(e)} />\n                  </div>\n                  <div className=\"description\"> Drag and Drop Your Stations to Schedule When They Play </div>\n                </div>\n                <div className=\"scheduleButtonGroup\">\n                  <Button className={\"optionButton\"} loading={isSaving} type=\"primary\" onClick={isSaving ? null : () => this.saveSchedule()}>\n                    Save & Close\n                  </Button>\n                  <Button className={\"optionButton\"} onClick={() => this.closeSchedule()}>\n                    Close\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"bottomRowWrapper\" style={{ maxHeight: showMusicPlayer ? \"72vh !important\" : null }}>\n                <div id=\"external-events\" className=\"selectionWrapper\">\n                  <StationVerticalList label={\"Favorites\"} data={favorites} />\n                  {globalStationKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={globalStations[superset]} />\n                  ))}\n                  {categorizedKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={businessTypeStations[superset]} />\n                  ))}\n                  <StationVerticalList label={\"General\"} data={playlists} />\n                  <div className=\"musicSectionWrapper\">\n                    <div className=\"musicSectionHeader\"> Browse More Soundtracks </div>\n                    <div className=\"musicSectionFooter\" onClick={() => history.push(\"/discover\")}>\n                      Discover Music\n                      <FontAwesomeIcon icon={faExternalLinkAlt} className=\"discoverIcon\" />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"calendarWrapper\">\n                  <div className=\"app-calendar noselect\" id=\"mycalendartest\">\n                    <FullCalendar\n                      defaultView=\"timeGridWeek\"\n                      header={false}\n                      defaultDate={\"2020-01-10T00:00:00.000Z\"}\n                      allDayDefault={false}\n                      eventDurationEditable={true}\n                      editable={true}\n                      events={stations}\n                      droppable={true}\n                      plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n                      ref={this.calendarComponentRef}\n                      eventDrop={this.validateEvent}\n                      eventReceive={(data) => {\n                        console.log(\"data: \", { ...data });\n                      }}\n                      slotDuration={\"00:30\"} // duration of slot interval\n                      eventClick={(e) => this.eventClick(e)}\n                      startRecur={Date.now()}\n                      allDaySlot={false}\n                      eventOverlap={false}\n                      columnHeaderText={this.renderHeader}\n                      eventResize={this.validateEvent}\n                      forceEventDuration={true}\n                    />\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getDiscoverPulicStations,\n        setSchedule,\n        getSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n    schedules: state.schedules,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSchedule));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Animated } from \"react-animated-css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faTrash } from \"@fortawesome/pro-solid-svg-icons\";\nimport { assignSchedule, deleteSchedule, setSnackbarMessage } from \"../../actions\";\nimport AntSpinner from \"../antSpinner\";\nimport { get } from \"lodash\";\nimport { Spin, Modal } from \"antd\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass ScheduleBlock extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hidden: true,\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    const { wait } = this.props;\n\n    let timeout = setTimeout(() => {\n      this.setState({ hidden: false });\n      clearTimeout(timeout);\n    }, wait);\n  }\n\n  assignSchedule = (e) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      let companyId = get(this.props, \"data.company._id\", null);\n      let scheduleId = get(this.props, \"data._id\", null);\n\n      this.props.actions.assignSchedule({ companyId, scheduleId }).then((res) => {\n        if (res) {\n          this.setState({ isLoading: false });\n          this.props.history.push(\"/nowPlaying\", { isBack: true });\n        } else this.props.actions.setSnackbarMessage({ message: \"Error while assigning station\", type: \"error\" });\n      });\n    });\n  };\n\n  deleteSchedule = ({ e, data, props, callback }) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      confirm({\n        title: \"Delete Schedule?\",\n        content: get(data, \"name\", \"\"),\n        onOk() {\n          let companyId = get(props, \"data.company._id\", null);\n          let scheduleId = get(props, \"data._id\", null);\n\n          props.actions.deleteSchedule({ companyId, scheduleId }).then((res) => {\n            if (!res) {\n              callback();\n              props.actions.setSnackbarMessage({ message: \"Error while deleting station\", type: \"error\" });\n            }\n          });\n        },\n        onCancel() {\n          callback();\n        },\n      });\n    });\n  };\n\n  stopLoading() {\n    this.setState({ isLoading: false });\n  }\n\n  render() {\n    const { data, onClick } = this.props;\n    const { hidden, isLoading } = this.state;\n    let hasData = get(data, \"stations\", []).length > 0;\n\n    return (\n      <>\n        {!hidden && (\n          <Animated animationIn=\"fadeIn\" isVisible={true}>\n            <Spin indicator={AntSpinner} spinning={isLoading}>\n              <div key={data._id} className=\"scheduleBlock\" style={{ backgroundColor: \"#eee\" }} onClick={() => onClick(data._id)}>\n                <div className={\"schedule-icon-row\"}></div>\n                <div className={\"schedule-text-wrapper\"} style={{ flex: 1 }}>\n                  <div className=\"schedule-text\">{get(data, \"name\", \"\")}</div>\n                </div>\n                <div className={\"schedule-icon-row\"}>\n                  {hasData && (\n                    <div className=\"schedule-icon\" onClick={(e) => this.assignSchedule(e)}>\n                      <FontAwesomeIcon icon={faPlay} className=\"icon\" />\n                    </div>\n                  )}\n                  <div className=\"schedule-icon\" onClick={(e) => this.deleteSchedule({ e, data, props: this.props, callback: () => this.stopLoading() })}>\n                    <FontAwesomeIcon icon={faTrash} className=\"icon\" />\n                  </div>\n                </div>\n              </div>\n            </Spin>\n          </Animated>\n        )}\n      </>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ assignSchedule, deleteSchedule, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    stations: state.stations.data,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ScheduleBlock));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMyPlaylists, editSchedule, createSchedule } from \"../../actions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport ScheduleBlock from \"../../components/scheduleBlock\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport PageTitle from \"../../components/page-title\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\n\nclass Schedules extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      creatingSchedule: false,\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n    this.getAllLocations();\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/schedules), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      console.log(\"update props: \", this.props);\n      this.getAllLocations();\n    }\n  }\n\n  getAllLocations = () => {\n    let companyId = get(this.props, \"user.company._id\", \"\");\n    this.props.actions.getMyPlaylists({ companyId }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  };\n\n  createNewSchedule() {\n    this.setState({ creatingSchedule: true }, () => {\n      let companyId = get(this.props, \"user.company._id\", \"\");\n      this.props.actions.createSchedule(companyId).then((res) => {\n        logEvent({ category: categories.schedule, action: actions.createSchedule });\n        let id = get(res, \"data._id\", null);\n        this.props.history.push(`/createSchedule/${id}`);\n      });\n    });\n  }\n\n  editSchedule(id) {\n    logEvent({ category: categories.schedule, action: actions.createSchedule, value: id });\n    this.props.history.push(`/createSchedule/${id}`);\n  }\n\n  render() {\n    const { playlists } = this.props;\n    const { isLoading, creatingSchedule } = this.state;\n\n    return (\n      <div className=\"scheduleWrapper\">\n        <PageTitle\n          title={\n            <span>\n              Your <span style={{ color: \"#D04283\" }}>Schedules</span>\n            </span>\n          }\n          subtitle={\"Schedule out your stations for the whole week!\"}\n        />\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          <div className=\"scheduleBlockWrapper noselect\">\n            <div className=\"newSchedule\" onClick={() => (!creatingSchedule ? this.createNewSchedule() : null)}>\n              <div className=\"plusCircle\">\n                <FontAwesomeIcon icon={faPlus} className=\"icon\" />\n              </div>\n              <div className=\"newScheduleText\">Create Schedule</div>\n            </div>\n\n            {get(playlists, \"schedules\", []).map((elem, i) => (\n              <ScheduleBlock key={get(elem, \"_id\", elem)} wait={i * 300} data={elem} onClick={(id) => this.editSchedule(id)} />\n            ))}\n          </div>\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getMyPlaylists,\n        editSchedule,\n        createSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Schedules));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Select, Modal } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies } from \"../../constants\";\nimport { faTimes } from \"@fortawesome/pro-light-svg-icons\";\nimport { faVolume, faEdit } from \"@fortawesome/pro-solid-svg-icons\";\nimport { deleteMessage, updateFrequency, getMessages } from \"../../actions\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\nconst { Option } = Select;\n\nclass MessageCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messageData: this.props.message,\n    };\n  }\n\n  // Updates the message frequency\n  updateMessageFrequency({ e, messageData, user }) {\n    this.setState({ messageData: { ...messageData, frequency: e } }, () => {\n      this.props.actions.updateFrequency({ companyId: get(user, \"company._id\"), locationId: get(this.props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\"), frequency: e }).then((res) => {\n        if (res) this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") });\n      });\n    });\n  }\n\n  // Allows user to edit a message settings\n  editMessage({ user, messageData, props }) {\n    props.history.push(\"/createInStoreMessaging\", { ...messageData, locationId: get(this.props, \"myLocation._id\", \"\") });\n  }\n\n  // Prompts user to delete a message\n  delete({ user, messageData, props }) {\n    confirm({\n      title: \"Delete Message?\",\n      content: get(messageData, \"title\", \"\") + \": \" + get(messageData, \"message\", \"\"),\n      onOk() {\n        props.actions.deleteMessage({ companyId: get(user, \"company._id\"), locationId: get(props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\") }).then((res) => {\n          if (res) props.actions.getMessages({ companyId: get(props, \"user.company._id\"), locationId: get(props, \"myLocation._id\", \"\") });\n        });\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  render() {\n    const { message, user, setPreviewUrl, myLocation } = this.props;\n    const { messageData } = this.state;\n\n    return (\n      <div className=\"messageCard\">\n        <div className=\"messageCardheader\">\n          <FontAwesomeIcon icon={faVolume} className={\"messageCardPreview\"} style={{ marginRight: \"10px\" }} onClick={() => setPreviewUrl(get(messageData, \"url\", \"\"))} />\n          <div className={\"messageTitle\"}> {get(messageData, \"title\", \"\")} </div>\n          <FontAwesomeIcon icon={faEdit} className={\"icon\"} style={{ marginLeft: \"10px\" }} onClick={() => this.editMessage({ user, messageData, props: this.props })} />\n          <FontAwesomeIcon icon={faTimes} className={\"icon\"} style={{ marginLeft: \"10px\" }} onClick={() => this.delete({ user, messageData, props: this.props })} />\n        </div>\n        <Select\n          defaultValue={get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")}\n          onChange={(e) => {\n            this.updateMessageFrequency({ e, messageData, user });\n          }}\n        >\n          {frequencies.map((frequency, i) => (\n            <Option key={get(frequency, \"time\", i)} value={get(frequency, \"time\", \"60\")}>\n              {get(frequency, \"title\", \"Error\")}\n            </Option>\n          ))}\n        </Select>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ deleteMessage, updateFrequency, getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(MessageCard));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMessages } from \"../../actions\";\nimport { Button, Spin } from \"antd\";\nimport { get, isEqual } from \"lodash\";\nimport PageTitle from \"../../components/page-title\";\nimport MessageCard from \"../../components/messageCard\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/pro-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass InStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPlaying: false,\n      previewTrackUrl: null,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/inStoreMessaging), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then(() => {\n        this.setState({ isLoading: false });\n      });\n    }\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      this.rap.audioEl.play();\n    });\n  }\n\n  setPreviewUrl(e) {\n    this.setState({ previewTrackUrl: e });\n  }\n\n  render() {\n    const { user, inStoreMessaging, myLocation } = this.props;\n    const { previewTrackUrl, isLoading } = this.state;\n\n    let activeMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) > 0);\n    let inactiveMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) === 0);\n\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          title={\n            <span>\n              In-Store <span style={{ color: \"#D04283\" }}> Messages </span>\n            </span>\n          }\n          subtitle=\"Custom announcements to help drive customer action\"\n        />\n        <div className=\"centerMessages\">\n          <div className=\"viewMessagesContainer\">\n            <div>\n              <div style={{ display: \"none\" }}>\n                <ReactAudioPlayer\n                  ref={(element) => {\n                    this.rap = element;\n                  }}\n                  src={previewTrackUrl}\n                  autoPlay={false}\n                  controls={false}\n                  muted={false}\n                  volume={1}\n                  onCanPlay={() => this.playTrack()}\n                  onEnded={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                  onError={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                />\n              </div>\n\n              <Spin indicator={AntSpinner} spinning={isLoading}>\n                {activeMessages.length > 0 || inactiveMessages.length > 0 ? (\n                  <>\n                    <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                      <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                      Create New Message\n                    </Button>\n\n                    {activeMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Active Messages </div>\n                        {activeMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n\n                    {inactiveMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Inactive Messages </div>\n                        {inactiveMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n                  </>\n                ) : (\n                  <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                    <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                    Create Your First Message\n                  </Button>\n                )}\n              </Spin>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    inStoreMessaging: state.inStoreMessaging,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(InStoreMessaging));\n","import React, { useMemo, useState } from \"react\";\nimport { useStripe, useElements, CardNumberElement, CardExpiryElement, CardCvcElement } from \"@stripe/react-stripe-js\";\nimport { Button, Col, Input, notification, Row } from \"antd\";\nimport \"./index.scss\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\n\nconst CheckoutForm = ({ setSubscription }) => {\n  const state = useSelector((state) => state.auth);\n  const { user, location } = state;\n\n  const stripe = useStripe();\n  const elements = useElements();\n  const accessToken = localStorage.getItem(\"access-token\");\n  const [enterLoading, setEnterLoading] = useState(false);\n  const [cardBillingDetails, setCardBillingDetails] = useState({\n    nameOnCard: \"\",\n    phone: \"\",\n    city: \"\",\n    postal_code: \"\",\n    line1: \"\",\n  });\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: elements.getElement(CardNumberElement, CardExpiryElement, CardCvcElement),\n\n      billing_details: {\n        email: user.email,\n        name: cardBillingDetails.nameOnCard,\n        phone: user.company.phoneNumber,\n        address: { city: cardBillingDetails.city, postal_code: cardBillingDetails.postal_code, line1: cardBillingDetails.line1 },\n      },\n    });\n    if (error) {\n      notification.error({\n        message: `Information Incomplete`,\n        description: error.message,\n        placement: \"bottomLeft\",\n      });\n      setEnterLoading(false);\n    } else {\n      const response = axios\n        .post(\n          \"http://localhost:4040/v2/auth/subscribtion\",\n          {\n            payment_method: paymentMethod.id,\n            email: user.email,\n            location,\n          },\n          {\n            headers: {\n              Authorization: \"Bearer \" + accessToken,\n            },\n          }\n        )\n        .then((res) => {\n          setSubscription(res.data.stripeSubscription);\n          console.log(res.data);\n        });\n    }\n  };\n\n  const cardNumberElementOptions = { showIcon: true, iconStyle: \"solid\", style: { base: { fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif', fontSmoothing: \"antialiased\", fontSize: \"16px\", textAlign: \"center\" } } };\n\n  const cardCvcAndExpElementOptions = {\n    style: {\n      base: {\n        fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        textAlign: \"center\",\n      },\n    },\n  };\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCardBillingDetails((prevState) => ({ ...prevState, [name]: value }));\n    console.log(cardBillingDetails);\n  };\n  return (\n    <form onSubmit={handleSubmit}>\n      <Row>\n        <Col span={14}>\n          <CardNumberElement options={cardNumberElementOptions} className=\"numberElement\" />\n        </Col>\n        <Col span={5}>\n          <CardExpiryElement options={cardCvcAndExpElementOptions} className=\"cardElement\" />\n        </Col>\n        <Col span={5}>\n          <CardCvcElement options={cardCvcAndExpElementOptions} className=\"cardElement\" />\n        </Col>\n      </Row>\n\n      <Row className=\"rowMargin\">\n        <Input name=\"nameOnCard\" placeholder=\"Name on the card\" onChange={handleChange}></Input>\n      </Row>\n      <Row className=\"rowMargin\">\n        <Input name=\"line1\" placeholder=\"Street Address\" onChange={handleChange}></Input>\n      </Row>\n      <Row className=\"rowMargin\">\n        <Col span={16}>\n          <Input name=\"city\" placeholder=\"City\" style={{ width: \"95%\" }} onChange={handleChange}></Input>\n        </Col>\n        <Col span={8}>\n          <Input name=\"postal_code\" placeholder=\"Zip Code\" onChange={handleChange}></Input>\n        </Col>{\" \"}\n      </Row>\n\n      <br />\n      <Button style={{ marginBottom: \"5%\" }} type=\"primary\" htmlType=\"submit\" disabled={!stripe} loading={enterLoading} onClick={() => setEnterLoading(true)}>\n        Activate\n      </Button>\n    </form>\n  );\n};\nexport default CheckoutForm;\n","import { faCreditCard, faLockAlt, faPen, faStoreAlt } from \"@fortawesome/pro-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Divider } from \"antd\";\nimport React from \"react\";\n\nconst SettingPanel = () => {\n  return (\n    <div>\n      <div style={{ backgroundColor: \"white\", width: \"80%\", height: \"100%\", borderRadius: 10, boxShadow: \"0px 0px 10px grey\" }}>\n        <p style={{ marginLeft: 20, width: \"100%\", textAlign: \"left\", paddingTop: 25, fontSize: 13, fontWeight: \"bold\" }}>\n          <FontAwesomeIcon icon={faPen} style={{ marginRight: 10 }} />\n          Edit User Details\n        </p>\n        <Divider />\n        <p style={{ marginLeft: 20, width: \"100%\", textAlign: \"left\", paddingTop: 3, fontSize: 13, fontWeight: \"bold\" }}>\n          <FontAwesomeIcon icon={faStoreAlt} style={{ marginRight: 10 }} /> Edit Business Info\n        </p>\n        <Divider />\n        <p style={{ marginLeft: 20, width: \"100%\", textAlign: \"left\", paddingTop: 3, fontSize: 13, fontWeight: \"bold\" }}>\n          <FontAwesomeIcon icon={faCreditCard} style={{ marginRight: 10 }} /> Choose Plan\n        </p>\n        <Divider />\n        <p style={{ marginLeft: 20, width: \"100%\", textAlign: \"left\", paddingTop: 3, paddingBottom: 25, fontSize: 13, fontWeight: \"bold\" }}>\n          <FontAwesomeIcon icon={faLockAlt} style={{ marginRight: 10 }} /> Password & Security\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingPanel;\n","import React, { Component, useState, useMemo, useEffect } from \"react\";\nimport { connect, useSelector } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMessages } from \"../../actions\";\nimport { Button, Card, Col, Divider, Icon, Input, InputNumber, PageHeader, Row, Spin } from \"antd\";\nimport { get, isEqual } from \"lodash\";\nimport PageTitle from \"../../components/page-title\";\nimport MessageCard from \"../../components/messageCard\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport activatedImage from \"../../common/assets/images/ROYAcVhHo.png\";\nimport axios from \"axios\";\nimport { useStripe, useElements, CardNumberElement, CardCvcElement, CardElement, CardExpiryElement } from \"@stripe/react-stripe-js\";\nimport { faCreditCard, faLockAlt, faPen, faPenAlt, faPlus, faStoreAlt } from \"@fortawesome/pro-solid-svg-icons\";\nimport \"./index.scss\";\nimport CheckoutForm from \"../../components/stripe-checkoutform\";\nimport SettingPanel from \"../../components/setting_panel\";\n\nconst SettingsPage = () => {\n  const accessToken = localStorage.getItem(\"access-token\");\n  const state = useSelector((state) => state.auth);\n  const { user, location } = state;\n  const [subscribtion, setSubscription] = useState(null);\n  const stripe = useStripe();\n  console.log(location.subscription);\n  useEffect(() => {}, [location]);\n  // const [email, setEmail] = useState(\"\");\n  const elements = useElements();\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    axios\n      .post(\n        \"http://localhost:4040/v2/auth/cancelSubscribtion\",\n        { subId: location.stripeSubscription, location: location },\n        {\n          headers: {\n            Authorization: \"Bearer \" + accessToken,\n          },\n        }\n      )\n      .then((res) => {\n        console.log(res.data);\n      });\n  };\n\n  return user === null ? (\n    <div className=\"messageWrapper\">\n      <PageTitle\n        title={\n          <span>\n            User <span style={{ color: \"#D04283\" }}> Settings </span>\n          </span>\n        }\n        subtitle=\"Change your information here\"\n      />\n      <Row>\n        <Col span={6}>\n          <SettingPanel />\n        </Col>\n\n        <Col span={16}>\n          <Icon type=\"loading\" style={{ fontSize: 24, color: \"#D04283\", marginLeft: \"30%\" }} spin />\n        </Col>\n      </Row>\n    </div>\n  ) : (\n    <div className=\"messageWrapper\">\n      <PageTitle\n        title={\n          <span>\n            User <span style={{ color: \"#D04283\" }}> Settings </span>\n          </span>\n        }\n        subtitle=\"Change your information here\"\n      />\n      <Row>\n        <div>\n          <Col span={6}>\n            <SettingPanel />\n          </Col>\n\n          {location.subscription !== \"paid\" ? (\n            <Col span={16}>\n              <div style={{ backgroundColor: \"white\", width: \"60%\", height: \"100%\", boxShadow: \"0px 0px 10px grey\", borderRadius: 10 }}>\n                <PageHeader title=\"Plan\" style={{ borderTopRightRadius: 10, borderTopLeftRadius: 10 }}></PageHeader>\n                <div style={{ width: \"90%\", backgroundColor: \"#CD4D9C\", margin: \"auto\", borderRadius: 5, color: \"white\" }}>\n                  <div>\n                    <Row>\n                      <Col span={16}>\n                        <div></div>\n                        <div style={{ paddingLeft: 30, paddingTop: 10 }}>\n                          <h2 style={{ color: \"white\", fontWeight: \"bold\" }}>Free</h2>\n                          <p>current plan</p>\n                        </div>\n                      </Col>\n                      <Col span={8}>\n                        <div style={{ height: \"100%\" }}>\n                          <h2 style={{ color: \"white\", fontWeight: \"bold\", paddingTop: \"10%\", textAlign: \"right\", paddingRight: 20 }}>$0/mo</h2>\n                        </div>\n                      </Col>\n                    </Row>\n                  </div>\n                </div>\n                <br />\n                <div style={{ width: \"90%\", backgroundColor: \"#F5F5F2\", margin: \"auto\", borderRadius: 5 }}>\n                  <Row>\n                    <Col span={16}>\n                      <div style={{ paddingLeft: 30, paddingTop: 10 }}>\n                        <h2 style={{ fontWeight: \"bold\" }}>Premium</h2>\n                        <p style={{ fontWeight: \"bold\" }}>activate for an ad free experience</p>\n                      </div>\n                    </Col>\n                    <Col span={8}>\n                      <div style={{ width: \"100%\" }}>\n                        <h2 style={{ fontWeight: \"bold\", paddingTop: \"10%\", textAlign: \"right\", paddingRight: 20 }}>$15.99/mo</h2>\n\n                        <Button type=\"primary\" style={{ marginLeft: \"28%\", marginTop: \"3%\", marginBottom: \"10%\" }}>\n                          Activate\n                        </Button>\n                      </div>\n                    </Col>\n                  </Row>\n                </div>\n\n                <PageHeader title=\"Payment\">\n                  <div style={{ border: \"0.2px #CD4D9c solid\", borderRadius: \"5px\", width: \"100%\", margin: \"auto\", height: \"100%\" }}>\n                    <h4 style={{ color: \"#7A7A7A\", fontWeight: \"bold\", padding: 20 }}>Add payment method</h4>\n                    <div style={{ marginLeft: 20, marginRight: 20 }}>\n                      <Row>\n                        {\" \"}\n                        <CheckoutForm setSubscription={setSubscription} />\n                      </Row>\n                    </div>\n                  </div>\n                </PageHeader>\n              </div>\n            </Col>\n          ) : (\n            <Col span={16}>\n              <div style={{ backgroundColor: \"white\", width: \"60%\", height: \"500px\", borderRadius: 10, boxShadow: \"0px 0px 10px grey\" }}>\n                <img src={activatedImage} height=\"220px\" width=\"350px\" style={{ marginLeft: \"20%\", marginTop: \"5%\" }} />\n                <div style={{ marginLeft: 50, marginTop: 40 }}>\n                  <PageTitle title=\"You're already subscribed!\" subtitle={<span style={{ marginLeft: 15, marginTop: 10 }}> We are glad you're onboard with ambii's premium service</span>} />\n                </div>\n                <form onSubmit={handleSubmit}>\n                  <Button style={{ marginLeft: \"34%\", marginTop: \"3%\", paddingTop: 13, paddingBottom: 35 }} type=\"primary\" htmlType=\"submit\" loading={loading} onClick={() => setLoading(true)}>\n                    Cancel Subscription\n                  </Button>\n                </form>\n              </div>\n            </Col>\n          )}\n        </div>\n      </Row>\n    </div>\n  );\n};\n// }\n\n/* Map Actions to Props */\n// function mapDispatchToProps(dispatch) {\n//   return { actions: bindActionCreators({ getMessages }, dispatch) };\n// }\n\n// function mapStateToProps(state) {\n//   return {\n//     user: state.auth.user,\n//     myLocation: state.auth.location,\n//     inStoreMessaging: state.inStoreMessaging,\n//   };\n// }\n\nexport default withRouter(SettingsPage); //connect(mapStateToProps, mapDispatchToProps)(withRouter(SettingsPage));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { createPreviewMessage, editMessage, createMessage, getVoiceOptions, setSnackbarNotification, setSnackbarMessage } from \"../../actions\";\nimport { Button, Input, Select } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies, full_language_names, proper_voice_name } from \"../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faVolume, faPlusCircle, faEdit } from \"@fortawesome/pro-solid-svg-icons\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport PageTitle from \"../../components/page-title\";\nimport md5 from \"md5\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\nconst { TextArea } = Input;\nconst ButtonGroup = Button.Group;\n\nclass CreateInStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\",\n      title: \"\",\n      language: \"English (US)\",\n      languageCode: \"en-US\",\n      voice: \"en-US-Wavenet-A\",\n      frequency: \"30\",\n      speed: 1.0,\n      voiceOptions: {},\n      sortedLanguageArray: [],\n      editingExistingMessage: false, // Are we editing an existing ISM\n      isSaving: false, // Are we currently saving an ISM\n      previewMessageUrl: \"\", // Track URL to play (voice)\n      isPlaying: false, // Are we currently playing a track (voice)\n      isPreviewing: false, // Are we currently previewing a messaging\n      postPreviewChanges: false, // Have any changes been made since we previewed\n      savedPreviews: {},\n    };\n  }\n\n  componentDidMount() {\n    let locallySavedPreviews = JSON.parse(localStorage.getItem(\"savedISMPreviews\"));\n\n    this.props.actions.getVoiceOptions().then((voiceOptions) => {\n      if (get(this.props, \"location.state._id\", null)) {\n        let data = get(this.props, \"location.state\", {});\n        this.setState({ voiceOptions, title: get(data, \"title\", \"\"), message: get(data, \"message\", \"\"), language: full_language_names[get(data, \"language\", \"\")], languageCode: get(data, \"language\", \"\"), voice: get(data, \"voice\", \"\"), speed: get(data, \"speed\", 1.0), frequency: get(data, \"frequency[\" + get(data, \"locationId\", \"\") + \"]\", \"\"), editingExistingMessage: true, sortedLanguageArray: Object.keys(voiceOptions).sort(), savedPreviews: locallySavedPreviews || {} });\n      } else this.setState({ voiceOptions, speed: 1, sortedLanguageArray: Object.keys(voiceOptions).sort(), savedPreviews: locallySavedPreviews || {} });\n    });\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      this.rap.audioEl.play();\n    });\n  }\n\n  setPreviewUrl(e) {\n    console.log(\"hit setPreviewUrl\");\n    this.setState({ previewMessageUrl: e });\n  }\n\n  renderLanguageOptions() {\n    const { sortedLanguageArray } = this.state;\n    return sortedLanguageArray.map((language) => <Option key={language}> {language} </Option>);\n  }\n\n  renderVoiceOptions() {\n    const { language, voiceOptions } = this.state;\n    if (!language) return;\n    else {\n      let voiceOptionList = Object.keys(voiceOptions).length > 0 ? voiceOptions[language] : [];\n      voiceOptionList.sort((a, b) => (proper_voice_name[a[\"simpleName\"]] > proper_voice_name[b[\"simpleName\"]] ? 1 : -1));\n      return voiceOptionList.map((voice) => (\n        <Option key={voice[\"name\"]} parent={voice[\"parent\"]}>\n          {proper_voice_name[voice[\"simpleName\"]] || voice[\"simpleName\"]}\n        </Option>\n      ));\n    }\n  }\n\n  // Checks if hash already exists. If so, returns the hash.\n  checkIfHashExists() {\n    const { savedPreviews } = this.state;\n    let hash = this.getMessageHash();\n    let hashExists = savedPreviews[hash];\n    if (hashExists) return hash;\n    else return false;\n  }\n\n  // Creates the MD5 hash for the current message settings\n  getMessageHash() {\n    const { title, message, languageCode, voice, speed, frequency } = this.state;\n    let hash = md5(title.concat(message).concat(languageCode).concat(voice).concat(speed).concat(frequency));\n    return hash;\n  }\n\n  // Creates a disposable preview MP3 we can play\n  previewMessage() {\n    const { message, languageCode, voice, speed } = this.state;\n\n    if (this.checkIfValidISM() && !this.state.isPreviewing) {\n      // Create a hash based off the current message config\n      let hash = this.getMessageHash();\n\n      if (!this.checkIfHashExists()) {\n        this.setState({ isPreviewing: true }, () => {\n          this.props.actions.createPreviewMessage({ voice, language: languageCode, message, speed, hash }).then((res) => {\n            if (res) {\n              let previewMessageUrl = get(res, \"data\", \"\");\n              this.setState({ previewMessageUrl, isPreviewing: false, savedPreviews: { ...this.state.savedPreviews, [hash]: previewMessageUrl } }, () => {\n                localStorage.setItem(\"savedISMPreviews\", JSON.stringify(this.state.savedPreviews)); // Save to local storage in case of page-reload\n                this.playTrack();\n              });\n            } else this.onFailure(\"There was an error when creating your preview file\");\n          });\n        });\n      } else {\n        this.setState({ previewMessageUrl: this.state.savedPreviews[hash], isPreviewing: false }, () => {\n          this.playTrack();\n        });\n      }\n    }\n  }\n\n  // Attempts to create an ISM\n  saveMessage() {\n    const { savedPreviews, editingExistingMessage, title, message, languageCode, voice, speed, frequency } = this.state;\n\n    if (this.checkIfValidISM() && !this.state.isSaving) {\n      this.setState({ isSaving: true }, () => {\n        if (editingExistingMessage) {\n          // Editing an existing ISM\n          this.props.actions.editMessage({ companyId: get(this.props, \"user.company._id\", \"\"), locationId: get(this.props, \"myLocation._id\", \"\"), messageId: get(this.props, \"location.state._id\", \"\"), title, voice, language: languageCode, message, speed, frequency, savedPreviews, hash: this.checkIfHashExists() }).then((res) => {\n            if (res) this.onSuccess();\n            else this.onFailure();\n          });\n        } else {\n          // Creating a new ISM\n          this.props.actions.createMessage({ companyId: get(this.props, \"user.company._id\", \"\"), locationId: get(this.props, \"myLocation._id\", \"\"), title, voice, language: languageCode, message, speed, frequency, savedPreviews, hash: this.checkIfHashExists() }).then((res) => {\n            if (res) this.onSuccess();\n            else this.onFailure();\n          });\n        }\n      });\n    }\n  }\n\n  // General fail message if message fails\n  onSuccess(msg) {\n    const { setSnackbarMessage } = this.props.actions;\n    this.setState({ isSaving: false }, () => {\n      setSnackbarMessage({ message: msg || \"Successfully saved message\", type: \"success\" });\n      localStorage.removeItem(\"savedISMPreviews\"); // Remove any existing savedPreviews from local storage\n      this.props.history.push(\"/inStoreMessaging\");\n    });\n  }\n\n  // General fail message if message fails\n  onFailure(msg) {\n    const { setSnackbarMessage } = this.props.actions;\n    this.setState({ isSaving: false }, () => {\n      setSnackbarMessage({ message: msg || \"There was an error when saving your message\", type: \"error\" });\n    });\n  }\n\n  // Checks to see if each ISM field is valid. Otherwise, returns a field-specific error\n  checkIfValidISM() {\n    const { setSnackbarMessage } = this.props.actions;\n    const { title, message, language, voice, frequency, speed } = this.state;\n\n    if (!title) {\n      setSnackbarMessage({ message: \"Please add a title to your message\", type: \"warn\" });\n      return false;\n    }\n    if (!message || message.length < 10) {\n      setSnackbarMessage({ message: \"Please add a longer message\", type: \"warn\" });\n      return false;\n    }\n    if (!language) {\n      setSnackbarMessage({ message: \"Please select a language\", type: \"warn\" });\n      return false;\n    }\n    if (!voice) {\n      setSnackbarMessage({ message: \"Please select a voice\", type: \"warn\" });\n      return false;\n    }\n    if (!frequency) {\n      setSnackbarMessage({ message: \"Please select a frequency\", type: \"warn\" });\n      return false;\n    }\n    if (!speed) {\n      setSnackbarMessage({ message: \"Please select a speed\", type: \"warn\" });\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    const { editingExistingMessage, isSaving, isPreviewing, language, voice, frequency, message, title, speed, previewMessageUrl } = this.state;\n    console.log(\"ISM: \", { p: this.props, s: this.state });\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          backArrow\n          backArrowPress={() => this.props.history.push(\"/inStoreMessaging\")}\n          title={\n            editingExistingMessage ? (\n              <div>\n                Edit <span style={{ color: \"#D04283\" }}> Message </span>\n              </div>\n            ) : (\n              <div>\n                Create <span style={{ color: \"#D04283\" }}> Message </span>\n              </div>\n            )\n          }\n        />\n        <div className=\"centerMessages\">\n          <div className=\"createMessagesContainer\">\n            <div style={{ display: \"none\" }}>\n              <ReactAudioPlayer\n                ref={(element) => {\n                  this.rap = element;\n                }}\n                src={previewMessageUrl}\n                autoPlay={false}\n                controls={false}\n                muted={false}\n                volume={1}\n                onCanPlay={() => this.playTrack()}\n                onEnded={() => this.setState({ isPlaying: false, previewMessageUrl: null })}\n                onError={() => this.setState({ isPlaying: false, previewMessageUrl: null })}\n              />\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Message Name </div>\n              <Input onChange={(e) => this.setState({ title: e.target.value })} value={title} />\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Message </div>\n              <TextArea placeholder=\"Max 200 Characters\" value={message} maxLength={200} onChange={(e) => this.setState({ message: e.target.value })} rows={4} />\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Language</div>\n              <Select value={language ? language : \"Please select a language\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ language: v.key, languageCode: \"\", voice: \"\" })}>\n                {this.renderLanguageOptions()}\n              </Select>\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Voice </div>\n              <Select value={voice ? voice : \"Please select a voice\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ voice: v.key, languageCode: get(v, \"props.parent\", \"\") })}>\n                {this.renderVoiceOptions()}\n              </Select>\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Frequency </div>\n              <Select value={frequency ? frequency : \"Please select a frequency\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ frequency: v.key })}>\n                {frequencies.map((freq, i) => (\n                  <Option key={get(freq, \"time\", i)} value={get(freq, \"time\", \"60\")}>\n                    {get(freq, \"title\", \"Error\")}\n                  </Option>\n                ))}\n              </Select>\n            </div>\n\n            <div className={\"ism-item\"}>\n              <div className=\"heading-medium\">Speed</div>\n              <ButtonGroup>\n                <Button type={speed === 0.75 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 0.75 })}>\n                  Slow\n                </Button>\n                <Button type={speed === 1 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 1 })}>\n                  Normal\n                </Button>\n                <Button type={speed === 1.25 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 1.25 })}>\n                  Fast\n                </Button>\n              </ButtonGroup>\n            </div>\n\n            <div className={\"ism-button-group\"}>\n              {/* Preview Button */}\n              <Button onClick={() => this.previewMessage()} size=\"large\" loading={isPreviewing} className={\"ism-button\"}>\n                <FontAwesomeIcon icon={faVolume} className={\"icon\"} />\n                Preview Message\n              </Button>\n\n              {/* Save Button */}\n              <Button onClick={() => this.saveMessage()} size=\"large\" loading={isSaving} className={\"ism-button\"}>\n                {editingExistingMessage ? (\n                  <>\n                    <FontAwesomeIcon icon={faEdit} className={\"icon\"} />\n                    Save Changes\n                  </>\n                ) : (\n                  <>\n                    <FontAwesomeIcon icon={faPlusCircle} className={\"icon\"} />\n                    Create Message\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ createPreviewMessage, editMessage, createMessage, getVoiceOptions, setSnackbarNotification, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateInStoreMessaging));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { setSnackbarNotification, setSnackbarMessage } from \"../../actions\";\nimport { Button, Input, Select } from \"antd\";\nimport UncontrolledLottie from \"../../components/UncontrolledLottie\";\nimport ControlledLottie from \"../../components/ControlledLottie\";\n\nimport \"./index.scss\";\n\nconst { Option } = Select;\nconst { TextArea } = Input;\n\nclass Sandbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"sandbox-wrapper\">\n        <ControlledLottie animationData={\"\"} height={1440} width={1440} />\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ setSnackbarNotification, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Sandbox));\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Landing from \"../containers/landing\";\nimport SignUp from \"../containers/welcome/signUp\";\nimport LogIn from \"../containers/login\";\nimport Create from \"../containers/create/\";\nimport Discover from \"../containers/create/discover\";\nimport StationDetails from \"../components/stationDetails\";\nimport CreateSchedule from \"../containers/createSchedule\";\nimport Schedules from \"../containers/schedules\";\nimport InStoreMessaging from \"../containers/inStoreMessaging\";\nimport SettingsPage from \"../containers/settings\";\nimport CreateInStoreMessaging from \"../containers/createInStoreMessaging\";\nimport Sandbox from \"../containers/sandbox\";\nimport Auth0Helper from \"../helpers/Auth0Helper\";\n\nlet routes = [\n  {\n    path: \"/\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => <Redirect to=\"/discover\" />,\n  },\n  {\n    path: \"/landing\",\n    exact: false,\n    isChild: false,\n    private: false,\n    component: () => <Landing />,\n  },\n  {\n    path: \"/login\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.login();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/signUp\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.signUp();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/nowPlaying\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Create />,\n  },\n  {\n    path: \"/discover\",\n    exact: true,\n    isChild: true,\n    private: false,\n    component: () => <Discover />,\n  },\n  {\n    path: \"/station/:id\",\n    exact: true,\n    isChild: true,\n    private: false,\n    component: () => <StationDetails />,\n  },\n  {\n    path: \"/createschedule/:id\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateSchedule />,\n  },\n  {\n    path: \"/schedules\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Schedules />,\n  },\n  {\n    path: \"/inStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <InStoreMessaging />,\n  },\n  {\n    path: \"/createInStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateInStoreMessaging />,\n  },\n  {\n    path: \"/sandbox\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Sandbox />,\n  },\n  {\n    path: \"/settings\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <SettingsPage />,\n  },\n];\n\nexport default routes;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { get } from \"lodash\";\nimport { Menu, message, Dropdown, Button } from \"antd\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBars, faAcorn, faMicrophone, faClock, faSignalStream, faCog, faStoreAlt } from \"@fortawesome/pro-solid-svg-icons\";\nimport { categories, actions, images } from \"../../constants\";\nimport config from \"../../configs/urls\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport { setSnackbarMessage } from \"../../actions\";\nimport \"./index.scss\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\nimport { faSignOut } from \"@fortawesome/pro-regular-svg-icons\";\n\nmessage.config({\n  top: \"5%\",\n  duration: 1,\n});\n\nlet resizeListener = null;\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: undefined,\n      windowSize: window.innerWidth,\n    };\n  }\n\n  componentDidMount() {\n    let str = this.props.location.pathname;\n    var activePath = str.replace(\"/\", \"\");\n    this.setState({ current: activePath });\n    resizeListener = window.addEventListener(\"resize\", (e) => {\n      this.setState({ windowSize: e.target.innerWidth });\n    });\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  handleClick = async (route) => {\n    if (route === \"features\" || route === \"price\") {\n      message.info(\"This service will be available soon, please enjoy our other services\");\n    } else if (route === \"signout\") {\n      this.logInOut();\n    } else {\n      let hasStation = get(this.props, \"auth.location.station._id\", null);\n      if (route === \"nowPlaying\" && !hasStation) {\n        this.props.actions.setSnackbarMessage({ message: \"Please select a station before viewing your dashboard\", type: \"warn\" });\n        return;\n      }\n      this.setState({ current: route });\n      message.destroy();\n      this.props.history.push(\"/\" + route);\n    }\n  };\n\n  logInOut = () => {\n    if (Auth0Helper.isLoggedIn()) {\n      try {\n        logEvent({ category: categories.general, action: actions.signout });\n        localStorage.removeItem(\"location-jwt\"); // Clear our location-jwt\n        Auth0Helper.logout();\n      } catch (err) {\n        console.log(\"Caught logout err: \", err);\n      }\n    } else {\n      Auth0Helper.login();\n    }\n  };\n\n  checkIfActiveTab(tab) {\n    return this.props.location.pathname.toLowerCase().includes(tab.toLowerCase());\n  }\n\n  render() {\n    const { inApp } = this.props;\n    const { windowSize } = this.state;\n\n    const mobileHeaderMenu = (\n      <Menu mode=\"horizontal\" onClick={(e) => this.handleClick(e.key)} selectedKeys={[this.state.current]} className=\"menu-wrapper\">\n        <Menu.Item className=\"mobileButtonItem\" key=\"nowPlaying\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faStoreAlt} />\n          </div>\n          <div className=\"mobileButtonText\">Dashboard</div>\n        </Menu.Item>\n        <Menu.Item className=\"mobileButtonItem\" key=\"discover\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faSignalStream} />\n          </div>\n          <div className=\"mobileButtonText\">Stations</div>\n        </Menu.Item>\n        <Menu.Item className=\"mobileButtonItem\" key=\"schedules\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faClock} />\n          </div>\n          <div className=\"mobileButtonText\">Schedules</div>\n        </Menu.Item>\n        <Menu.Item className=\"mobileButtonItem\" key=\"inStoreMessaging\">\n          <div className=\"mobileButtonIcon\">\n            <FontAwesomeIcon icon={faMicrophone} />\n          </div>\n          <div className=\"mobileButtonText\">Messaging</div>\n        </Menu.Item>\n        {Auth0Helper.isLoggedIn() ? (\n          <Menu.Item key=\"signout\" className=\"mobileButtonItem\">\n            <div className=\"mobileButtonIcon\">\n              <FontAwesomeIcon icon={faSignOut} rotation={180} />\n            </div>\n            <div className=\"mobileButtonText\">Sign Out</div>\n          </Menu.Item>\n        ) : (\n          <Menu.Item key=\"signout\"> Sign In</Menu.Item>\n        )}\n      </Menu>\n    );\n\n    const route = get(this.props, \"route\", null);\n    let isCreateSchedulePage = null;\n    let devMode = get(config, \"API_URL\", \"\").includes(\"localhost\") || get(config, \"API_URL\", \"\").includes(\"-dev\");\n    if (route) isCreateSchedulePage = route.toUpperCase().includes(\"createSchedule\".toUpperCase()) ? true : false;\n    let headStyle = isCreateSchedulePage ? \"header-container headerTwo\" : \"header-container headerOne\";\n\n    return (\n      <div className={headStyle}>\n        <div className={\"logo-wrapper\"}>\n          <img src={images.appLogo} className=\"header_logo pointer noselect\" onClick={() => this.props.history.push(\"/nowPlaying\")} alt=\"logo\" />\n        </div>\n        <div style={{ flex: 0 }}>{devMode && inApp ? \"inApp Mode\" : \"\"}</div>\n\n        {windowSize <= 760 ? (\n          <div className={\"mobileButtonsContainer\"}>\n            <Dropdown overlay={mobileHeaderMenu} trigger={[\"click\"]}>\n              <Button>\n                <FontAwesomeIcon icon={faBars} />\n              </Button>\n            </Dropdown>\n          </div>\n        ) : (\n          <>\n            <div className=\"mainButtonsContainer noselect\">\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"nowPlaying\") ? \" mainButtonActive\" : \"\")} key=\"nowPlaying\" onClick={() => this.handleClick(\"nowPlaying\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faStoreAlt} />\n                  </div>\n                  <div className=\"mainButtonsText\"> Dashboard </div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"discover\") || this.checkIfActiveTab(\"browse\") ? \" mainButtonActive\" : \"\")} key=\"discover\" onClick={() => this.handleClick(\"discover\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faSignalStream} />\n                  </div>\n                  <div className=\"mainButtonsText\">Stations</div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"schedules\") || this.checkIfActiveTab(\"createSchedule\") ? \" mainButtonActive\" : \"\")} key=\"schedules\" onClick={() => this.handleClick(\"schedules\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faClock} />\n                  </div>\n                  <div className=\"mainButtonsText\">Schedules</div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"inStoreMessaging\") || this.checkIfActiveTab(\"inStoreMessaging\") ? \" mainButtonActive\" : \"\")} key=\"inStoreMessaging\" onClick={() => this.handleClick(\"inStoreMessaging\")}>\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faMicrophone} />\n                  </div>\n                  <div className=\"mainButtonsText\"> Messaging </div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div>\n\n              {/* <div\n                className={\"mainButtons\"}\n                onClick={() => {\n                  this.props.history.push(\"/settings\");\n                }}\n              >\n                <div className=\"mainButtonsContent\">\n                  <div className=\"mainButtonsIcon\">\n                    <FontAwesomeIcon icon={faCog} />\n                  </div>\n                  <div className=\"mainButtonsText\"> Settings </div>\n                </div>\n                <div className=\"mainButtonsBottomBar\" />\n              </div> */}\n            </div>\n            <Button key=\"signout\" onClick={() => this.logInOut()}>\n              {Auth0Helper.isLoggedIn() ? \"Sign Out\" : \"Sign In\"}\n            </Button>\n          </>\n        )}\n        {devMode && <FontAwesomeIcon className={\"icon\"} style={{ paddingLeft: \"10px\", fontSize: \"32px\" }} icon={faAcorn} onClick={() => console.log({ props: this.props.state, trackSchedule: get(this.props, \"state.auth.location.trackSchedule\", {}), player: get(this.props, \"state.player\", {}) })} />}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    player: state.player,\n    state: state,\n    inApp: state.auth.inApp,\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(AppHeader)));\n","import React, { Component } from \"react\";\nimport { get, isEqual } from \"lodash\";\nimport Slider from \"react-rangeslider\";\nimport \"./index.scss\";\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myVolume: 0,\n    };\n  }\n\n  componentDidMount() {\n    // Sets initial state when volume slider pops-up\n    this.setState({ myVolume: get(this.props, \"volume\", 0) });\n  }\n\n  componentDidUpdate(prevProps) {\n    // Handles mute / unmute\n    if (!isEqual(get(this.props, \"volume\", 0), get(prevProps, \"volume\", 0))) {\n      this.setState({ myVolume: get(this.props, \"volume\", 0) });\n    }\n  }\n\n  // Handles volume slider change\n  handleChange = (myVolume) => {\n    this.props.changeVolume(myVolume * 0.01);\n  };\n\n  // Returns the volume as a %\n  calculateVolumeHeight() {\n    return 100 * this.state.myVolume;\n  }\n\n  render() {\n    const { myVolume } = this.state;\n\n    return (\n      <div className={\"volume-slider-wrapper\"}>\n        <div className=\"slider orientation-reversed\">\n          <div className=\"slider-group\">\n            <div className=\"slider-vertical\">\n              <Slider min={0} max={100} value={this.calculateVolumeHeight(myVolume)} orientation=\"vertical\" onChange={this.handleChange} tooltip={false} onChangeStart={(e) => this.props.startDrag(e)} onChangeComplete={(e) => this.props.endDrag(e)} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VolumeSlider;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faPause, faStepForward, faVolume, faVolumeUp, faVolumeMute } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError } from \"../../actions\";\nimport { get, isEqual } from \"lodash\";\nimport VolumeSlider from \"./volume-slider\";\nimport { categories, actions, labels } from \"../../constants\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { getTime } from \"../../util\";\nimport \"./index.scss\";\n\nclass MusicBar extends Component {\n  constructor(props) {\n    super(props);\n\n    let localVolume = parseFloat(localStorage.getItem(\"volume\"));\n    this.state = {\n      currentTime: \"0:00\",\n      duration: \"0:00\",\n      volume: localVolume ? localVolume : localVolume.toString() === \"0\" ? 0 : 0.3,\n      previousVolume: localVolume || 0.3,\n      showVolumeControl: false,\n      dragging: false,\n      url: null,\n      isrc: null,\n    };\n  }\n\n  // Checks if hovered elem belongs to volume slider\n  checkIfVolumeSlider(e) {\n    if (!e) return false;\n    let path = get(e, \"path\", []);\n    for (let i = 0; i < path.length; i++) if (path[i].id === \"volume-wrapper\") return true;\n    return false;\n  }\n\n  componentDidMount() {\n    this.rap.audioEl.addEventListener(\"timeupdate\", (e) => {\n      this.setState({ currentTime: e.target.currentTime, duration: e.target.duration }, () => {\n        // Makes sure the proper icon shows for playing\n        if (!get(this.props, \"player.isPlaying\", true)) this.props.actions.setIsPlaying(true);\n      });\n    });\n\n    window.addEventListener(\"mouseover\", (e) => {\n      if (this.checkIfVolumeSlider(e) || this.state.dragging) {\n        if (!this.state.showVolumeControl) this.setState({ showVolumeControl: true });\n      } else if (this.state.showVolumeControl) this.setState({ showVolumeControl: false });\n    });\n\n    let currentTrack = get(this.props, \"currentTrack\", \"\");\n    this.updateTrackState();\n    this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n\n    // Get duration from initial track\n    this.setState({ duration: get(currentTrack, \"duration\", null) });\n  }\n\n  componentWillUnmount() {\n    try {\n      this.player.removeEventListener(\"timeupdate\");\n      window.removeEventListener(\"mouseover\");\n    } catch (err) {\n      console.log(\"caught error on music-bar unmount\", err);\n    }\n  }\n\n  // Updates the local current track's url & isrc\n  updateTrackState() {\n    this.setState({ url: get(this.props, \"player.trackMap[\" + get(this.props, \"currentTrack.isrc\", \"\") + \"].url\", \"\"), isrc: get(this.props, \"currentTrack.isrc\", null) });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"myLocation.currentTrack.isrc\", null), get(prevProps, \"myLocation.currentTrack.isrc\", null))) {\n      console.log(\"nowPlaying: \", { currentTrack: get(this.props, \"currentTrack.title\", \"\"), duration: getTime(get(this.props, \"currentTrack.duration\", \"\")), station: get(this.props, \"myLocation.station.name\", \"\") });\n      this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n      this.updateTrackState();\n    }\n\n    // If the station was changed automatically\n    if (!isEqual(get(this.props, \"myLocation.station._id\", null), get(prevProps, \"myLocation.station._id\", null))) {\n      console.log(\"<================ CHANGED STATION B ================>\", this.props);\n      this.props.actions.setTrackNumber(0);\n      this.updateTrackState();\n\n      // Mainly for Safari, as it won't auto-play new stations\n      if (get(this.props, \"player.isPlaying\")) {\n        this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n        this.rap.audioEl.play();\n      }\n    }\n\n    // Play / Pause change\n    if (!isEqual(get(this.props, \"player.isPlaying\", false), get(prevProps, \"player.isPlaying\", false))) {\n      let isPlaying = get(this.props, \"player.isPlaying\", false);\n      if (isPlaying) this.rap.audioEl.play();\n      else this.rap.audioEl.pause();\n    }\n  }\n\n  getCurrentTrack() {\n    const { url, isrc } = this.state;\n    let currentTrackISRC = get(this.props, \"currentTrack.isrc\", \"\");\n    let currentTrackUrl = get(this.props, \"player.trackMap[\" + currentTrackISRC + \"].url\", get(this.props, \"currentTrack.url\", \"\"));\n\n    // Catch for same song, but different link\n    if (isrc && url && isrc === currentTrackISRC && url !== currentTrackUrl) return url; // Stops track from restarting when toggling explicit\n    return currentTrackUrl; // Return currentTrackUrl normally\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      let promise = this.rap.audioEl.play();\n\n      // Needed due to https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\n      if (promise !== undefined) {\n        promise\n          .then(() => {\n            // Player started autoplaying\n            this.props.actions.setIsPlaying(true);\n          })\n          .catch(() => {\n            // Player blocked from autoplaying\n            this.props.actions.setIsPlaying(false);\n          });\n      }\n    });\n  }\n\n  togglePlay() {\n    this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n  }\n\n  // Toggles player mute\n  toggleMute() {\n    const { previousVolume } = this.state;\n    this.setState({ volume: this.state.volume > 0 ? 0 : previousVolume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets the volume of the player\n  setVolume(volume) {\n    this.setState({ volume, previousVolume: volume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets boolean on if user is dragging volume slider\n  toggleVolumeDrag(dragging) {\n    this.setState({ dragging });\n  }\n\n  async closePlayer() {\n    this.props.actions.setIsPlaying(false);\n    logEvent({ category: categories.dashboard, action: actions.closePlayer, label: labels.button });\n    await this.props.actions.disconnectPlayer();\n  }\n\n  songError(e) {\n    console.log(\"Song error: \", { e, props: this.props });\n    this.skipSong(0);\n  }\n\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n\n      // Mainly for Safari, as it won't auto-play the next track\n      this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n      this.rap.audioEl.play();\n    });\n  }\n\n  render() {\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { volume, showVolumeControl, currentTime, duration } = this.state;\n\n    let currentTrack = get(this.props, \"currentTrack\", {});\n    const songCompletion = ((currentTime / duration) * 100).toFixed(2);\n\n    let hasArtistOverflow = false;\n    let hasTrackOverflow = false;\n\n    let playerInfoWrapper = document.getElementById(\"player-info-wrapper\") || null;\n    let artistOverflow = document.getElementById(\"player-artist-info\") || null;\n    let trackOverflow = document.getElementById(\"player-track-info\") || null;\n\n    if (playerInfoWrapper && artistOverflow && trackOverflow) {\n      playerInfoWrapper = playerInfoWrapper.getBoundingClientRect().width - 60;\n      artistOverflow = artistOverflow.getBoundingClientRect().width;\n      trackOverflow = trackOverflow.getBoundingClientRect().width;\n\n      if (playerInfoWrapper < artistOverflow) hasArtistOverflow = true;\n      if (playerInfoWrapper < trackOverflow) hasTrackOverflow = true;\n    }\n\n    return (\n      <div className=\"music-bar-wrapper noselect\" id={\"music-player-controller\"}>\n        <div className=\"react-music-player\">\n          <ReactAudioPlayer\n            ref={(element) => {\n              this.rap = element;\n            }}\n            src={this.getCurrentTrack()}\n            autoPlay={false}\n            controls={false}\n            muted={volume === 0 ? true : false}\n            volume={volume}\n            onCanPlay={() => this.playTrack()}\n            onEnded={() => this.skipSong(songCompletion)}\n            onError={(e) => this.songError(e)}\n            preload={\"auto\"}\n          />\n        </div>\n        <div className=\"music-bar-scrub-wrapper\">\n          <div className=\"music-bar-scrubber\" style={{ width: songCompletion + \"%\" }} />\n        </div>\n        <div className=\"music-bar-content-wrapper\">\n          <div className=\"music-bar-item flexRow left-controls\" id={\"player-info-wrapper\"}>\n            <img className=\"preview-image\" src={get(currentTrack, \"picture\", null)} alt={\"\"} />\n            <div className=\"preview-text\">\n              <div className=\"song-artist\">\n                <span id={\"player-artist-info\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"artist[0]\", \"NA\")}\n                </span>\n              </div>\n              <div className=\"song-title\">\n                <span id={\"player-track-info\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"title\", \"NA\")}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"music-bar-item flexRow center-controls\">\n            {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} /> : <FontAwesomeIcon icon={faPlay} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} />}\n            {<FontAwesomeIcon icon={faStepForward} className={\"music-bar-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n          </div>\n\n          <div className=\"music-bar-item right-controls\">\n            <div className=\"time-display\">\n              <span id={\"current-song-time\"}>{getTime(currentTime)}</span> &nbsp;/&nbsp; <span id={\"current-song-duration\"}>{getTime(duration)}</span> <span id={\"invis-current-song-time\"}>{songCompletion}</span>\n            </div>\n\n            {/* Volume controls */}\n            <div className=\"volume-icon\" id={\"volume-wrapper\"}>\n              {showVolumeControl && <VolumeSlider volume={volume} changeVolume={(newVolume) => this.setVolume(newVolume)} startDrag={() => this.toggleVolumeDrag(true)} endDrag={() => this.toggleVolumeDrag(false)} />}\n              {volume === 0 ? <FontAwesomeIcon icon={faVolumeMute} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : volume < 0.7 ? <FontAwesomeIcon icon={faVolume} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : <FontAwesomeIcon icon={faVolumeUp} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} />}\n            </div>\n\n            <FontAwesomeIcon icon={faTimes} className={\"music-bar-icon close-icon\"} onClick={() => this.closePlayer()} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return { player: state.player, myLocation: state.auth.location, currentTrack: state.auth.location.currentTrack };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicBar);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { setInApp, auth0setLogin, setSnackbarNotification, setSnackbarMessage, startSockets } from \"./actions\";\nimport Routes from \"./routes/index\";\nimport AppHeader from \"./components/header\";\nimport { Modal, Spin, Layout, notification, message } from \"antd\";\nimport { startGoogleAnalytics } from \"./configs/google-analytics\";\nimport { isEqual, get } from \"lodash\";\nimport MusicBar from \"./components/music-bar\";\nimport AntSpinner from \"./components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport Auth0Helper from \"./helpers/Auth0Helper\";\nimport SignUp from \"./containers/welcome/signUp\";\nimport \"./App.scss\";\nimport MobileAppCommunicator from \"./helpers/MobileAppCommunicator\";\n\nAuth0Helper.initialize();\n\nclass AmbiiRouter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n    };\n  }\n\n  initiateLogin(token) {\n    localStorage.setItem(\"access-token\", token);\n    this.props.actions.auth0setLogin();\n  }\n\n  componentWillMount() {\n    Auth0Helper.getLock().on(\"authenticated\", (data) => {\n      this.initiateLogin(data.idToken);\n    });\n\n    // Emitted when there is an unrecoverable error, for instance when no connection is available. Has the error as the only argument.\n    Auth0Helper.getLock().on(\"unrecoverable_error\", (err) => {\n      console.log(\"auth0 - unrecoverable_error: \", { err });\n    });\n\n    // emitted when authorization fails. Has error as the only argument.\n    Auth0Helper.getLock().on(\"authorization_error\", (err) => {\n      console.log(\"auth0 - authorization_error: \", { err });\n    });\n\n    Auth0Helper.getLock().checkSession({}, (err, data) => {\n      console.log(\"hit auth0 check session: \", { err, data });\n      this.setState({ isLoading: false }, () => {\n        if (!err && data?.idToken) this.initiateLogin(data.idToken);\n        else {\n          if ((localStorage.getItem(\"access-token\") && localStorage.getItem(\"location-jwt\")) || get(err, \"code\", \"\")) Auth0Helper.logout();\n          this.setState({ isLoading: false });\n        }\n      });\n    });\n\n    // Check if we're inApp when the app loads\n    let inApp = get(window, \"location.search\", \"\").includes(\"inApp\") || localStorage.getItem(\"inApp\");\n    if (inApp) this.props.actions.setInApp(true);\n\n    if (window.ReactNativeWebView) {\n      window.addEventListener(\"message\", (msg) => {\n        let data = get(msg, \"data.data\", null); // Data from mobile\n        let endpoint = get(msg, \"data.endpoint\", null); // Endpoint from mobile\n        let mobileAuth = Auth0Helper.isLoggedIn() ? true : false;\n\n        // Listener logic\n        switch (endpoint) {\n          case \"auth\":\n            MobileAppCommunicator.send(\"auth\", mobileAuth);\n            break;\n          case \"introLogin\":\n            localStorage.setItem(\"mobileIntroLogin\", true);\n            MobileAppCommunicator.send(\"auth\", mobileAuth);\n            break;\n          case \"login\":\n            Auth0Helper.login();\n            MobileAppCommunicator.send(\"login\", \"Login Success\");\n            break;\n          case \"logout\":\n            Auth0Helper.logout();\n            MobileAppCommunicator.send(\"logout\", \"Logout Success\");\n            break;\n          default:\n            MobileAppCommunicator.send(\"default\", null);\n            break;\n        }\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (Auth0Helper.isLoggedIn() && this.state.isLoading) {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  render() {\n    const { player, auth, inApp } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return (\n      <Router>\n        <div>\n          {Routes.map((route, index) => {\n            return (\n              <Route\n                key={index}\n                path={route.path}\n                exact={route.exact}\n                render={() => {\n                  if (!this.state.isLoading && !Auth0Helper.isLoggedIn() && route.private) Auth0Helper.login();\n                  if (Auth0Helper.isLoggedIn() || !route.private) {\n                    return (\n                      <>\n                        {auth?.user?.company && !auth?.user?.company?.name ? (\n                          <Modal visible={true} onCancel={this.onCancel} width={900} className=\"modal-container\" closable={false} footer={false}>\n                            <div className={\"signup-modal-title\"}>\n                              {\"Welcome to \"}\n                              <span style={{ color: \"#d04283\" }}>{\"ambii\"}</span>\n                            </div>\n                            <SignUp />\n                          </Modal>\n                        ) : null}\n                        <div className=\"explore_container\">\n                          {!inApp && <AppHeader showMenu=\"userlogin\" route={route.path} />}\n                          {/* <AppHeader showMenu=\"userlogin\" route={route.path} /> */}\n                          <div className={\"contentWrapper\".concat(showMusicPlayer ? \" player-visible\" : \"\")}>{route.component()}</div>\n                        </div>\n                      </>\n                    );\n                  } else {\n                    return (\n                      <Layout className=\"explore_container\">\n                        {!inApp && <AppHeader id=\"myHeader\" showMenu=\"landing\" />}\n                        {/* <AppHeader id=\"myHeader\" showMenu=\"landing\" /> */}\n                        <div className=\"loading-app\">\n                          <div className=\"loading-app-text\">\n                            Logging Into <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n                          </div>\n                          <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n                        </div>\n                      </Layout>\n                    );\n                  }\n                }}\n              />\n            );\n          })}\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction mapDispatchToPropsRouter(dispatch) {\n  return {\n    actions: bindActionCreators({ auth0setLogin, setInApp }, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n    inApp: state.auth.inApp,\n  };\n}\n\nvar RouterWithAuth = connect(mapStateToPropsRouter, mapDispatchToPropsRouter)(withAuth0(AmbiiRouter));\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      initAnalytics: false,\n      snackbarMessageDuration: 3,\n    };\n\n    startGoogleAnalytics();\n  }\n\n  async componentDidMount() {\n    this.props.actions.startSockets();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"snackbar.notification\", null), get(prevProps, \"snackbar.notification\", null))) {\n      this.openNotification(get(this.props, \"snackbar.notification\", null));\n    }\n\n    if (!isEqual(get(this.props, \"snackbar.message\", null), get(prevProps, \"snackbar.message\", null))) {\n      this.openMessage(get(this.props, \"snackbar.message\", null));\n    }\n  }\n\n  openNotification(hasNotification) {\n    const { snackbarMessageDuration } = this.state;\n    console.log(\"hasNotification: \", hasNotification);\n\n    if (hasNotification) {\n      notification.open({\n        message: get(hasNotification, \"message\", \"\"),\n        description: get(hasNotification, \"description\", \"\"),\n        duration: snackbarMessageDuration,\n        onClick: () => {\n          console.log(\"Notification Clicked!\");\n        },\n        className: \"snackbar-notification snackbar-type-\".concat(get(hasNotification, \"type\", \"\")),\n      });\n    }\n\n    this.props.actions.setSnackbarNotification(null);\n  }\n\n  openMessage(hasMessage) {\n    const { snackbarMessageDuration } = this.state;\n    console.log(\"hasMessage: \", { hasMessage, snackbarMessageDuration });\n    let text = get(hasMessage, \"message\", \"\");\n    let type = get(hasMessage, \"type\", \"\");\n\n    switch (type) {\n      case \"success\":\n        message.success(text, snackbarMessageDuration);\n        break;\n      case \"info\":\n        message.info(text, snackbarMessageDuration);\n        break;\n      case \"warn\":\n        message.warn(text, snackbarMessageDuration);\n        break;\n      case \"error\":\n        message.error(text, snackbarMessageDuration);\n        break;\n      default:\n        console.log(\"error in openMessage\");\n    }\n\n    this.props.actions.setSnackbarMessage(null);\n  }\n\n  render() {\n    const { player } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return !this.state.isLoading ? (\n      <>\n        <RouterWithAuth props={{ showMusicPlayer }} />\n        {showMusicPlayer && <MusicBar />}\n      </>\n    ) : (\n        <div className=\"loading-app\">\n          <div className=\"loading-app-text\">\n            Loading <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n          </div>\n          <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n        </div>\n      );\n  }\n}\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ startSockets, setSnackbarNotification, setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuth0(App));\n","import React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { connect } from \"react-redux\"; //to pass functions\nimport { bindActionCreators } from \"redux\";\nimport App from \"../App\";\nimport \"antd/dist/antd.css\";\nimport { Elements, loadStripe } from \"@stripe/react-stripe-js\";\n\nclass RootContainer extends Component {\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  render() {\n    const { store, stripePromise } = this.props;\n    return (\n      <Provider store={store}>\n        <div>\n          <Elements stripe={stripePromise}>\n            <App />\n          </Elements>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    snackbar: state.snackbar,\n    loader: state.loader,\n  };\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RootContainer);\n","/* eslint-disable no-undef */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\"This web app is being served cache-first by a service \" + \"worker. To learn more, visit https://bit.ly/CRA-PWA\");\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\"New content is available and will be used when all \" + \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { AppContainer } from \"react-hot-loader\";\nimport \"rc-slider/assets/index.css\";\nimport \"react-slidedown/lib/slidedown.css\";\nimport configureStore from \"./redux-store/storeConfiguration\";\nimport RootContainer from \"./containers/rootContainer\";\nimport \"./common/styles/styles.scss\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst store = configureStore();\n\nconst stripePromise = loadStripe(\"pk_test_51H0l3xBY2i2h5IOVpoRwxwg9JzYonjA6Eo6CdrAodp27CFNzh4P3VnxN79OamqCtgurRvR2j6ogCmyThe7dFaMgc00mdCVUCVM\");\nif (document.location.hostname !== \"localhost\" && document.location.hostname !== \"business-dev.ambii.io\") console.log = () => {};\nrender(\n  <AppContainer>\n    <RootContainer store={store} stripePromise={stripePromise} />\n  </AppContainer>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}