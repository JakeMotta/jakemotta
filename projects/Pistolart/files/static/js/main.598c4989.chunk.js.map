{"version":3,"sources":["images/ambii_logo_inverse.png","common/assets/images/androidBtn.png","common/assets/images/appleBtn.png","common/assets/images/appLogo.png","common/assets/images/bg1.png","common/assets/images/bg2.png","common/assets/images/bg3.png","common/assets/images/bg4.jpg","common/assets/images/bg5.jpg","common/assets/images/bg6.jpg","constants/analytics.js","constants/genreColors.js","constants/images.js","constants/inStoreMessaging.js","constants/supersetDescriptions.js","constants/supersets.js","constants/tempos.js","constants/timezones.js","constants/index.js","redux-store/initialState.js","util/index.js","reducers/auth.js","constants/actionTypes.js","reducers/inStoreMessaging.js","reducers/player.js","reducers/playlists.js","reducers/schedules.js","reducers/snackbar.js","reducers/stations.js","reducers/index.js","redux-store/storeConfiguration.js","configs/urls.js","configs/api.js","actions/dispatch.js","configs/socket.js","actions/player.js","helpers/MobileAppCommunicator.js","actions/auth.js","actions/locations.js","actions/stations.js","actions/schedule.js","actions/inStoreMessaging.js","actions/socket.js","actions/snackbar.js","components/antSpinner/index.js","containers/landing/index.js","containers/welcome/autoComplete/index.js","containers/welcome/addressForm/index.js","containers/welcome/companyInfo/index.js","configs/google-analytics.js","containers/welcome/signUp/index.js","containers/login/index.js","components/pairToken/index.js","images/google-play-store.svg","components/stationTag/index.js","helpers/Auth0Helper.js","components/stationDetails/index.js","components/bpm/index.js","components/page-title/index.js","components/dashboardModule/index.js","containers/create/index.js","containers/mood_tag_search_bar/mood_tag/index.js","containers/mood_tag_search_bar/index.js","containers/tempo_selection/index.js","containers/era_selection/index.js","containers/create/advance_filter/index.js","components/public_stations/tracksModal/index.js","components/genre-color-bar/index.js","components/public_stations/publicStation/index.js","components/stationSection/index.js","containers/genre_section/index.js","containers/create/discover/index.js","components/ControlledLottie.js","components/station-tile/index.js","components/stationVerticalList/index.js","components/toggleInput/index.js","containers/createSchedule/index.js","components/scheduleBlock/index.js","containers/schedules/index.js","components/messageCard/index.js","containers/inStoreMessaging/index.js","containers/createInStoreMessaging/index.js","routes/index.js","components/header/index.js","components/music-bar/volume-slider/index.js","components/music-bar/index.js","App.js","containers/rootContainer.js","serviceWorker.js","index.js"],"names":["module","exports","categories","actions","labels","genreColors","images","googleBtn","require","iosBtn","appLogo","bg1","bg2","bg3","bg4","bg5","bg6","frequencies","title","time","supersetDescriptions","supersets","global","defaultIndividual","bar","cafe","gym","hotel","other","restaurant","salon","school","spa","shop","tempos","Slower","min","max","icon","faSnooze","Slow","faTurtle","Moderate","faSquirrel","Fast","faRabbitFast","Faster","faRocket","timezones","userTypes","initialState","auth","user","jwt","location","isApple","snackbar","notification","message","loader","requestInProgress","locations","data","count","limit","skip","playlists","schedules","stations","topTrack","artists","tracks","playlistList","genreList","eraList","moodList","stationPreviews","genre","era","mood","activeStationPreview","selectedPreviews","ID","track","zones","activeSchedule","player","locationJWT","showPlayer","isPlaying","skipDisabled","trackNumber","trackMap","playerError","inStoreMessaging","messages","tagTypes","name","color","objArrayToMap","arr","key","map","item","get","hashCode","s","Math","abs","split","reduce","a","b","charCodeAt","checkForMobile","window","outerWidth","getTime","isNaN","floor","slice","getBPMInfo","bpm","getDeviceId","deviceID","localStorage","getItem","length","result","characters","charactersLength","i","charAt","random","toUpperCase","generateRandomString","setItem","auth_reducer","state","action","type","Object","assign","favoritesMap","station","currentTrack","favorites","explicit","pairedDevice","lastTrack","trackSchedule","inStoreMessaging_reducer","player_reducer","removeItem","playlists_reducer","selected_stations_preview_reducer","snackbar_reducer","stations_reducer","combineReducers","createBrowserHistory","configureStore","middlewares","thunk","createStore","rootReducer","compose","applyMiddleware","config","API_URL","SOCKET_URL","APP_TITLE","HTTP","method","uri","headers","params","url","trim","query","Promise","resolve","reject","axios","then","response","catch","err","console","log","alert","status","setTrackSchedule","dispatch","setPairedDevice","setLastTrack","setTrackMap","setLocation","setLocationJWT","setCurrentTrack","setIsPlaying","setDisableSkip","setTrackNumber","setUser","setSchedules","socket","io","socketChannels","addPlayerListeners","playerPaired","playerUnPaired","playerDisconnected","playerPlayed","playerPaused","disconnectPlayer","getState","locationId","error","connectPlayer","res","currentTrackNumber","currentTrackByNumber","playNextReq","sameStation","skipSong","songCompletion","trackScheduleId","trackScheduleLength","queue","nextTrack","getTrackNumberByTrack","checkTrackNumber","stationId","toString","playNextRes","checkIfAdvertisement","isAdvertisement","substring","isInStoreMessage","skipTimer","setTimeout","clearTimeout","removePlayerListeners","removeEventListener","updateStationListener","on","setStation","updateCurrentTrackListener","removeStationListener","MobileAppCommunicator","inApp","endpoint","ReactNativeWebView","postMessage","JSON","stringify","func","addEventListener","msg","parse","auth0setLogin","toLowerCase","setIsApple","loginSuccess","token","send","obj","deviceName","uniqueId","deviceBrand","override","mixMaxRegister","id","email","groupName","signUp","signUpSuccess","signUpFailed","finally","toggleFavorite","newFavorites","_id","splice","push","toggleExplicit","previousExplicitState","explicitAllowed","setExplicit","getStation","companyId","getDiscoverPulicStations","filteredData","tempoList","forEach","getPublicStationsForDiscover","getStationDetails","assignStation","createSchedule","getSchedule","editSchedule","setSchedule","scheduleId","schedule","getMyPlaylists","assignSchedule","setSnackbarMessage","deleteSchedule","deletedSchedule","getMessages","createMessage","voice","language","frequency","deleteMessage","updateFrequency","getVoiceOptions","startSockets","setSnackbarNotification","_setSnackbarNotification","_setSnackbarMessage","AntSpinner","style","fontSize","spin","Main","props","this","auth0","isAuthenticated","history","width","height","position","display","alignItems","justifyContent","indicator","spinning","Component","connect","bindActionCreators","withRouter","withAuth0","FormItem","Form","Item","google","AutoSearchForm","getLocation","navigator","geolocation","getCurrentPosition","coords","setState","myLocation","lng","longitude","lat","latitude","info","onSuggestSelect","suggest","gmaps","address_components","component","types","indexOf","city","long_name","addressLineOne","addressLineTwo","postalCode","country","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","userData","label","cords","companySearch","onSumbit","missingData","address","getFieldDecorator","form","className","rules","required","ref","el","_geoSuggest","onChange","e","placeholder","maps","LatLng","radius","WrappedApp","create","AddressForm","onSubmit","validateFieldsAndScroll","values","validTimezone","checkIfValidTimezone","isLoading","onSearch","searchText","keys","timezoneRes","filter","includes","selectedTimezone","onSelect","value","dropdownError","timezoneData","hideRequiredMark","float","initialValue","onPressEnter","dataSource","onClick","Option","Select","CompanyInfo","countryCode","businessType","preventDefault","businessSelected","userType","firstName","lastName","phoneNumber","concat","parsePhoneNumber","handleMenuClick","replace","prefixSelector","borderRight","pattern","addonBefore","overlay","menu","trigger","textTransform","faChevronDown","marginLeft","logEvent","category","ReactGA","event","parseInt","trackScreen","pageview","pathname","search","trackModal","modal","modalview","Step","Steps","companySteps","Login","next","current","steps","signUpSubmit","success","prev","progressDot","textAlign","0","1","marginRight","_onLogin","password","isLogin","Password","block","loginWithRedirect","pairToken","char","index","fontWeight","margin","_extends","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","gradientUnits","y1","x2","y2","offset","stopColor","d","x1","_ref9","_ref10","_ref","svgRef","viewBox","ForwardRef","forwardRef","StationTag","backgroundColor","Auth0Helper","lock","Auth0Lock","configurationBaseUrl","autoclose","autofocus","closable","redirectUrl","origin","responseType","sso","theme","logo","primaryColor","languageDictionary","signUpTitle","forgotPasswordTitle","additionalSignUpFields","show","initialScreen","logout","Content","Layout","resizeListener","StationDetails","close","isLoggedIn","startStationDisabled","startStation","isBack","favoriteStation","favoriteDisabled","isBackgroundImage","isMobile","document","body","scrollTop","documentElement","setStationDetails","prevProps","isEqual","setStationBackgroundImage","removeStationBackgroundImage","waitHeader","setInterval","stationHeader","getElementById","backgroundImage","cover","clearInterval","thisStationId","stationQueue","stationFavorited","checkIfFavorited","isActiveStation","undefined","hex","size","faChevronLeft","disabled","faPlayCircle","faHeart","description","src","alt","opacity","artist","album","BPM","animate","speed","hideText","animation","toFixed","PageTitle","subtitle","backArrow","backArrowPress","faArrowLeft","DashboardModule","content","contentArray","Array","isArray","React","Children","child","cloneElement","errorTimer","testInterval","CreateSoundTrack","checkPlayerState","isThisDevicePlaying","playerInfo","controllerStyle","getSongTime","scrollIntoView","behavior","showPlaylistModal","playlistId","playlistModalId","afterCreateStaion","showStationSearch","toggleStationSearch","collapse","getElementsByClassName","parseLocationName","connectPress","showAppModal","loadPlayer","loadingPlayer","showConnectModal","changeStationPress","playStation","playButtonDisabled","loadingExplicit","artistName","isFixHeader","pageHeight","showErrorModal","userName","errorTitle","errorMessage","errorIcon","errorButton","currentSongTime","currentSongDuration","createUserName","viewedMobile","emit","userId","closeErrorMessage","innerHTML","useTrack","songImage","locationName","songTrack","songArtist","stationName","link","open","faHeartbeat","openLink","faGrinBeamSweat","songData","getTrackData","isIndividual","locationInUse","activeStation","scheduleName","hasTrackOverflow","hasArtistOverflow","nowPlayingInfoWrapper","nowPlayingTrack","nowPlayingArtist","getBoundingClientRect","visible","Boolean","onCancel","bodyStyle","minHeight","padding","footer","borderRadius","overflow","maxHeight","openAdBlockMessage","faMobile","borderColor","marginTop","faTv","faPause","faPlay","stubTrue","faStepForward","faTimes","sendToMobileDevice","faMusic","marginBottom","faKey","faCog","checked","loading","onOk","faTvMusic","faSpeaker","faCommentMusic","AmbiiLogo","faApple","MoodTag","isHovered","onMouseOver","onMouseOut","performSelect","text","onMouseEnter","onMouseLeave","MoodTagSearchBar","removeTag","onChangeText","searchTags","items","tag","tags","filterTagArray","second","Set","selectedTags","x","has","handleClick","node","contains","isSearchFocused","handleHeight","tagListRef","onFocus","c","tagInput","faSearch","top","TEMPOS","Number","MAX_SAFE_INTEGER","TempoSelection","performSelectTempo","tempo","currentSelectedTempo","selectTempo","deSelectTempo","reverse","AdvanceFilter","browseMoods","onSelectTempo","onDeselectTempo","onSelectMood","browseEraRange","onSelectEra","TracksModal","albumCover","shape","GenreColorBar","dataA","dataB","genres","roundBottom","simple","entries","sort","dataC","totalPercentage","calculateEachPercentage","percent","bpmInfo","music","borderBottomLeftRadius","borderBottomRightRadius","bottom","left","PublicStation","modalVisible","hovered","showModal","hideModal","stationPress","check","userAgent","vendor","opera","test","substr","company","stopPropagation","rowIndex","browse","tileStyle","previewCardStyle","bpmMean","border","showStats","PureComponent","StationSection","showArrows","showLeftArrow","showRightArrow","diff","outer","scrollView","getElement","clientWidth","inner","scrollWrapper","preMargin","round","showViewAll","buttonPress","rightMoveSpeed","scrollRight","scrollBy","forceUpdate","faCaretLeft","me","onScroll","leftMoveSpeed","scrollLeft","faCaretRight","clicked","GenresSection","activateDot","activeIndex","dots","getElementsByTagName","classList","add","remove","isStation","calculateBrowse","loadNumber","buildPercentages","returnedObj","toVector","vector","cosSim","A","B","dotproduct","mA","mB","sqrt","scoreString","searchString","targetString","score","j","ngram","pow","playlist","mean","browseTempoRange","searchScore","targetGenres","browseGenres","targetMoods","genresSelected","moodsSelected","genreSimilarities","moodSimilarities","moods","total","calculatedPlaylists","_checkIfAllFalse","_checkIsFiltering","isSearching","isSelectingGenre","isSelectingMood","onSetFiltering","isFiltering","onSelectGenre","hasSelectedGenres","showAdvanceSearch","from","to","onSetSearchText","searchTimeout","clearAdvancedFilters","defaultGenres","getBusinessType","showAdFreeModal","globalStations","businessTypeStations","hasFavorites","favoritesQueue","superset","businessTypeSuperset","playlistSuperset","str","businessTypeMenu","updatePreference","selectedKeys","login","flex","animationIn","isVisible","Search","prevState","faFilter","paddingRight","boxShadow","transition","loadMoreStations","favorite","StationTile","StationVerticalList","expanded","displayData","elem","toggleExpand","ToggleInput","handleUpdate","copy","val","toggleInput","activeInput","inputRef","focus","createRef","handleClickOutside","handleKeyDown","onUpdate","flexDirection","faPenSquare","confirm","Modal","CreateSchedule","renderHeader","date","getDay","validateEvent","start","getDate","end","getHours","getMinutes","revert","saveSchedule","isSaving","calendarEvents","calendarComponentRef","getApi","getEvents","tempStations","moment","format","day","extendedProps","closeSchedule","backToDashboard","mySchedule","match","showMusicPlayer","accessFullCalendarAPI","bind","draggableEl","Draggable","itemSelector","eventData","eventEl","getAttribute","sideSection","calendar","setOption","faDesktop","faSmile","categorizedKeys","globalStationKeys","showErrorMessage","stationNameUpdate","faExternalLinkAlt","defaultView","header","defaultDate","allDayDefault","eventDurationEditable","editable","events","droppable","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","eventDrop","eventReceive","slotDuration","eventClick","startRecur","Date","now","allDaySlot","eventOverlap","columnHeaderText","eventResize","forceEventDuration","ScheduleBlock","callback","hidden","wait","timeout","stopLoading","faTrash","Schedules","getAllLocations","createNewSchedule","faPlus","MessageCard","messageData","setPreviewUrl","faVolume","paddingLeft","delete","defaultValue","updateMessageFrequency","InStoreMessaging","previewTrackUrl","rap","audioEl","play","activeMessages","inactiveMessages","element","autoPlay","controls","muted","volume","onCanPlay","playTrack","onEnded","onError","m","TextArea","Input","CreateInStoreMessaging","voiceOptions","maxLength","rows","v","renderVoiceOptions","routes","path","exact","isChild","private","duration","AppHeader","route","logInOut","hasStation","destroy","windowSize","innerWidth","activePath","tab","mobileHeaderMenu","mode","isCreateSchedulePage","headStyle","faBars","checkIfActiveTab","faAcorn","VolumeSlider","handleChange","myVolume","changeVolume","calculateVolumeHeight","orientation","tooltip","onChangeStart","startDrag","onChangeComplete","endDrag","MusicBar","localVolume","parseFloat","currentTime","previousVolume","showVolumeControl","dragging","isrc","checkIfVolumeSlider","updateTrackState","pause","currentTrackISRC","currentTrackUrl","promise","playerInfoWrapper","artistOverflow","trackOverflow","getCurrentTrack","songError","togglePlay","newVolume","setVolume","toggleVolumeDrag","faVolumeMute","toggleMute","faVolumeUp","closePlayer","initialize","AmbiiRouter","snackbarMessageDuration","getLock","initiateLogin","idToken","checkSession","Routes","render","showMenu","RouterWithAuth","App","initAnalytics","siteSpeedSampleRate","testMode","hostname","openNotification","openMessage","hasNotification","hasMessage","warn","RootContainer","store","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.598c4989.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ambii_logo_inverse.188927ed.png\";","module.exports = __webpack_public_path__ + \"static/media/androidBtn.e65a89bc.png\";","module.exports = __webpack_public_path__ + \"static/media/appleBtn.99f1ed98.png\";","module.exports = __webpack_public_path__ + \"static/media/appLogo.811d25b4.png\";","module.exports = __webpack_public_path__ + \"static/media/bg1.069f3dec.png\";","module.exports = __webpack_public_path__ + \"static/media/bg2.5a06bbee.png\";","module.exports = __webpack_public_path__ + \"static/media/bg3.9f68fc4b.png\";","module.exports = __webpack_public_path__ + \"static/media/bg4.815bb5d4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg5.b7d2890a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg6.435f2fc0.jpg\";","export const categories = {\n  welcome: \"Welcome\",\n  discover: \"Discover\",\n  dashboard: \"Dashboard\",\n  schedule: \"Schedule\",\n  player: \"Player\",\n  general: \"General\",\n};\n\nexport const actions = {\n  // Welcome\n  login: \"Logged into web application\",\n  signup: \"Signed up for web application\",\n  failedLogin: \"Failed to login\",\n  timezone: \"Selected a new timezone\",\n\n  // Discover\n  stationPreview: \"Previewed a station\",\n  startStation: \"Started station\",\n  updatePreference: \"Updated station preference\",\n  advancedBrowse: \"Swapped to advance station browse\",\n  stationBrowse: \"Swapped to station browse\",\n  search: \"Search station\",\n\n  // Dashboard\n  startPlayer: \"Started web player\",\n  closePlayer: \"Closed web player\",\n  connect: \"Pressed connect button\",\n\n  // Scheduling\n  createSchedule: \"Created Schedule\",\n  saveSchedule: \"Saved Schedule\",\n  closeSchedule: \"Closed Schedule\",\n  backToDashboard: \"Back To Dashboard\",\n  changeScheduleName: \"Changed Schedule Name\",\n  viewedMobile: \"Viewed on Mobile Device\",\n\n  // General\n  button: \"Clicked a button\",\n  toggledFavorite: \"Toggled a station as favorite\",\n  signout: \"User signed out of web application\",\n\n  // Error\n};\n\nexport const labels = {\n  button: \"button\",\n  error: \"error\",\n};\n","export const genreColors = {\n  \"Electronica\": \"#44d474\",\n  \"Alternative & Punk\": \"#d9964a\",\n  \"Rock\": \"#d64b46\",\n  \"Pop\": \"#d04283\",\n  \"Classical\": \"#8046d6\",\n  \"Traditional\": \"#c178ff\",\n  \"Jazz\": \"#42c4d0\",\n  \"Soundtrack\": \"#E6DD5D\",\n  \"Urban\": \"#191919\",\n  \"Other\": \"#999999\",\n};\n","export const images = {\n  googleBtn: require(\"../common/assets/images/androidBtn.png\"),\n  iosBtn: require(\"../common/assets/images/appleBtn.png\"),\n  appLogo: require(\"../common/assets/images/appLogo.png\"),\n  bg1: require(\"../common/assets/images/bg1.png\"),\n  bg2: require(\"../common/assets/images/bg2.png\"),\n  bg3: require(\"../common/assets/images/bg3.png\"),\n  bg4: require(\"../common/assets/images/bg4.jpg\"),\n  bg5: require(\"../common/assets/images/bg5.jpg\"),\n  bg6: require(\"../common/assets/images/bg6.jpg\"),\n};\n","export const frequencies = [\n  { title: \"Inactive\", time: \"0\" },\n  { title: \"Every 15 Minutes\", time: \"15\" },\n  { title: \"Every 30 Minutes\", time: \"30\" },\n  { title: \"Every Hour\", time: \"60\" },\n  { title: \"Every Few Hours\", time: \"180\" },\n  // { title: \"Custom\", time: \"custom\" },\n];\n","export const supersetDescriptions = {\n  \"Popular Today\": \"The Top Hits of Today\",\n  \"Flattening the Curve\": \"Battling COVID-19, one song at a time.\",\n  \"Upbeat Energy\": \"Energetic songs to get the mood flowing.\",\n  \"Laid-back, Low-key.\": \"Songs for relaxation and chill-out times.\",\n  \"Learning to Grow\": \"A series for those looking to overcome rough times, through different genres of music.\",\n  \"Decades\": \"Your home for all decades of music.\",\n  \"Ahead of the Curve\": \"A series for those who are tomorrow's trendsetters.\",\n  \"Liquid Courage\": \"Beats for those that are bold and those that are beautiful.\",\n  \"Beats and Beers\": \"Cheer on your favorite team with these country hits!\",\n  \"Taproom Treasures\": \"Stripped-down music for the sophisticated drinker.\",\n  \"Flirtatious Friday Night\": \"She's sitting right there.\",\n  \"Settled-Down Speakeasy\": \"Jazzy tunes for a sparkilng night.\",\n  \"Dancin' Across the World\": \"Iresistable, international glimmers of firey fun.\",\n  \"Coffee Curiosity\": \"A perfect morning moodsetter.\",\n  \"Bookstore Barista\": \"Quiet jazz for newspapers and novelists.\",\n  \"Classical Cappuccino\": \"Upscale grandiose through caffine and classical.\",\n  \"Countryside Cafe\": \"For french toast, syrup, and kickin' up those boots in the morning.\",\n  \"Late Night Study \": \"Beats for the studious individual \",\n  \"Glitz At the Ritz\": \"Wonder and wow through jazzy band ballads.\",\n  \"Loungeside Lovers\": \"Ambiance for the low-key days and nights.\",\n  \"Hearthside Hip\": \"R&B treasures for the late-night bonfire vibes\",\n  \"Travelers Rest\": \"Soft stripped music to lay down to.\",\n  \"Elegant Entertainment\": \"Classical masterpieces for the sophisticated traveler.\",\n  \"Tropical Getaway\": \"A cabana soundtrack for pina coladas and the poolside.\",\n  \"Pep Rally Pop\": \"Let's get this bread.\",\n  \"Study Beats\": \"Lo-fi music for the late study nights.\",\n  \"Intelligence through Inspiration\": \"Ambiance for peaceful reflection and quiet times.\",\n  \"Classical Concentration\": \"Inspiration through piano, strings, and eras of talent\",\n  \"Developing Brains\": \"For the little ones.\",\n  \"Academy Alternative\": \"Alternative hits for those looking to get work done.\",\n  \"Boutique Beats\": \"Continuous flow and feel-good vibes.\",\n  \"Diamonds Are Forever\": \"Inspirational classical music for the sophisticated shopper.\",\n  \"Retail R&B\": \"R&B and pop hits for the casual customer.\",\n  \"Food Court Finds\": \"Grab a bite to eat with this easy-listening soundtrack!\",\n  \"Girls Night Out\": \"Empowering women through confident, feel-good beats.\",\n  \"Upscaled Grace\": \"Elegance through classical masterpieces.\",\n  \"Jukebox of the Ages\": \"Your home for all decades of music.\",\n  \"Wax and Relax\": \"Set the mood with the perfect ambiiance.\",\n  \"Hairdresser Hop\": \"R&B and hip hop hits for the trendsetter.\",\n  \"Nails, Hair, Hips, Heels\": \"Endless feel-good beats.\",\n  \"Pumpin Metal\": \"Rock and Metal soundtrack for the heavy lifter.\",\n  \"Persistence Pop\": \"Keep that grind up.\",\n  \"Pre-Game Pump Up\": \"Get in your head, get in the ring.\",\n  \"Fire Dancing Fiesta\": \"High-energy music for the dancers...and for that perfect body.\",\n  \"Heavy Lifting Hype\": \"Get turnt.\",\n  \"Hamburger Hits\": \"Quick beats for quick bites.\",\n  \"Barbecue Bash\": \"Perfect for the backyard and the beer.\",\n  \"Asian Eats\": \"You don't need a plane ticket.\",\n  \"Taco Truck Temposetter\": \"Are you going to finish all 10 of those tacos?\",\n  \"Boba Beats\": \"Passionfruit, peach stars, pearls, and perfection.\",\n  \"Royalty Dining\": \"Elegnat music for roses and candlelit dinners.\",\n  \"Ethereal Elegance\": \"Transcend within yourself.\",\n  \"Self-Care Classical\": \"Classical music to rejuvinate the brain.\",\n  \"Asian Getaway\": \"Sounds through Japaneese cherry blossoms and night-market eats.\",\n  \"Relaxin' R&B\": \"Good vibes only.\",\n  \"Hot Spring Hits\": \"Glimmering hits for feel-good moments.\",\n  \"Working From Home\": \"Chill beats for ultimate focus and productivity.\",\n  \"New Hobby, New Self\": \"Cooking, dancing, stretching, reading- with this time, anything is possible.\",\n  \"A Time For Reflection\": \"Rise above and let serenity flow in this time of unrest.\",\n  \"Go Hard or (Stay) Home\": \"Quarantine ain't stopping these muscle gains.\",\n  \"Treasured Throwbacks\": \"Remembering the days before this period of time.\",\n  \"Positive Vibes Only (Singing in the Shower)\": \"Sing your heart out to these songs of joy and jubilation!\",\n};\n","export const supersets = {\n  global: [\"Popular Today\"],\n  defaultIndividual: [\"Working From Home\", \"New Hobby, New Self\", \"A Time For Reflection\", \"Go Hard or (Stay) Home\", \"Treasured Throwbacks\", \"Positive Vibes Only (Singing in the Shower)\"],\n  bar: [\"Liquid Courage\", \"Beats and Beers\", \"Taproom Treasures\", \"Flirtatious Friday Night\", \"Settled-Down Speakeasy\", \"Dancin' Across the World\"],\n  cafe: [\"Coffee Curiosity\", \"Bookstore Barista\", \"Classical Cappuccino\", \"Boba Beats\", \"Countryside Cafe\", \"Late Night Study \"],\n  gym: [\"Pumpin Metal\", \"Persistence Pop\", \"Pre-Game Pump Up\", \"Fire Dancing Fiesta\", \"Heavy Lifting Hype\"],\n  hotel: [\"Glitz At the Ritz\", \"Loungeside Lovers\", \"Hearthside Hip\", \"Travelers Rest\", \"Elegant Entertainment\", \"Tropical Getaway\"],\n  other: [\"Flattening the Curve\", \"Upbeat Energy\", \"Laid-back, Low-key.\", \"Learning to Grow\", \"Decades\", \"Ahead of the Curve\"],\n  restaurant: [\"Hamburger Hits\", \"Barbecue Bash\", \"Asian Eats\", \"Taco Truck Temposetter\", \"Boba Beats\", \"Royalty Dining\"],\n  salon: [\"Girls Night Out\", \"Upscaled Grace\", \"Jukebox of the Ages\", \"Wax and Relax\", \"Hairdresser Hop\", \"Nails, Hair, Hips, Heels\"],\n  school: [\"Pep Rally Pop\", \"Study Beats\", \"Intelligence through Inspiration\", \"Classical Concentration\", \"Developing Brains\", \"Academy Alternative\"],\n  spa: [\"Ethereal Elegance\", \"Tropical Getaway\", \"Self-Care Classical\", \"Asian Getaway\", \"Relaxin' R&B\", \"Hot Spring Hits\"],\n  shop: [\"Boutique Beats\", \"Diamonds Are Forever\", \"Jukebox of the Ages\", \"Retail R&B\", \"Girls Night Out\", \"Food Court Finds\"],\n};\n","import { faSnooze, faTurtle, faSquirrel, faRabbitFast, faRocket } from \"@fortawesome/pro-regular-svg-icons\";\n\nexport const tempos = {\n  Slower: { title: \"Slower\", min: 0, max: 59, icon: faSnooze },\n  Slow: { title: \"Slow\", min: 60, max: 119, icon: faTurtle },\n  Moderate: { title: \"Moderate\", min: 120, max: 189, icon: faSquirrel },\n  Fast: { title: \"Fast\", min: 190, max: 249, icon: faRabbitFast },\n  Faster: { title: \"Faster\", min: 250, max: 900, icon: faRocket },\n};\n","export const timezones = {\n  \"America/Adak\": \"-09:00\",\n  \"America/Anchorage\": \"-08:00\",\n  \"America/Boise\": \"-06:00\",\n  \"America/Chicago\": \"-05:00\",\n  \"America/Denver\": \"-06:00\",\n  \"America/Detroit\": \"-04:00\",\n  \"America/Indiana/Indianapolis\": \"-04:00\",\n  \"America/Indiana/Knox\": \"-05:00\",\n  \"America/Indiana/Marengo\": \"-04:00\",\n  \"America/Indiana/Petersburg\": \"-04:00\",\n  \"America/Indiana/Tell_City\": \"- 05:00\",\n  \"America/Indiana/Vevay\": \"-04:00\",\n  \"America/Indiana/Vincennes\": \"-04:00\",\n  \"America/Indiana/Winamac\": \"-04:00\",\n  \"America/Juneau\": \"-08:00\",\n  \"America/Kentucky/Louisville\": \"-04:00\",\n  \"America/Kentucky/Monticello\": \"-04:00\",\n  \"America/Los_Angeles\": \"-07:00\",\n  \"America/Menominee\": \"-05:00\",\n  \"America/Metlakatla\": \"-08:00\",\n  \"America/New_York\": \"-04:00\",\n  \"America/Nome\": \"-08:00\",\n  \"America/North_Dakota/Beulah\": \"-05:00\",\n  \"America/North_Dakota/Center\": \"-05:00\",\n  \"America/North_Dakota/New_Salem\": \"-05:00\",\n  \"America/Phoenix\": \"-07:00\",\n  \"America/Sitka\": \"-08:00\",\n  \"America/Yakutat\": \"-08:00\",\n  \"Pacific/Honolulu\": \"-10:00\",\n};\n","export * from \"./actionTypes\";\nexport * from \"./analytics\";\nexport * from \"./genreColors\";\nexport * from \"./genreProperNames\";\nexport * from \"./images\";\nexport * from \"./inStoreMessaging.js\";\nexport * from \"./supersetDescriptions\";\nexport * from \"./supersets\";\nexport * from \"./tempos\";\nexport * from \"./timezones\";\n\nexport const userTypes = {\n  Owner: \"Owner\",\n  Individual: \"Individual\",\n};\n\nexport const defaultStationCount = 12;\n","let initialState = {\n  auth: {\n    user: null,\n    jwt: null,\n    location: {},\n    isApple: false,\n  },\n  snackbar: {\n    notification: {},\n    message: {},\n  },\n  loader: {\n    requestInProgress: 0,\n  },\n  locations: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  playlists: {\n    schedules: [],\n  },\n  stations: {\n    topTrack: [],\n    artists: [],\n    tracks: [],\n    playlistList: [],\n    genreList: [],\n    eraList: [],\n    moodList: [],\n    data: [],\n    count: 0,\n    skip: 0,\n    limit: 10,\n  },\n  stationPreviews: {\n    genre: [],\n    era: [],\n    mood: [],\n    activeStationPreview: [],\n  },\n  selectedPreviews: {\n    ID: \"\",\n    track: [],\n  },\n  zones: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  schedules: {\n    activeSchedule: null,\n    schedules: [],\n  },\n  player: {\n    locationJWT: null,\n    showPlayer: false,\n    isPlaying: false,\n    skipDisabled: false,\n    trackNumber: 0,\n    trackMap: {},\n    playerError: {},\n  },\n  inStoreMessaging: {\n    messages: [],\n  },\n};\n\nexport default initialState;\n","import { get } from \"lodash\";\nimport { tempos } from \"../constants\";\n\nexport const tagTypes = {\n  explicit: { name: \"Explicit\", color: \"#EA526F\" },\n};\n\nexport const capitolizeFirstLetter = (str) => {\n  if (!str) return \"\";\n  return str.charAt(0).toUpperCase() + str.substring(1, str.length);\n};\n\nexport const generateRandomString = (length) => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result.toUpperCase();\n};\n\n/**\n * Converts an object-array to map\n * @param {*} arr - Array to convert\n * @param {*} key - Object key\n */\nexport const objArrayToMap = (arr, key) => {\n  if (!arr || !key) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[get(item, key, null)] = item);\n  });\n  return map;\n};\n\n// Convert array to map\nexport const arrayToMap = (arr) => {\n  if (!arr) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[item] = true);\n  });\n  return map;\n};\n\nexport const hashCode = (s) => {\n  if (!s) return \"\";\n  return \"https://random-station-artwork.s3-us-west-2.amazonaws.com/\" + (Math.abs(s.split(\"\").reduce((a, b) => ((a << 5) - a + b.charCodeAt(0)) | 0, 0)) % 101) + \".jpg\";\n};\n\n// Check screen width for mobile dimensions\nexport const checkForMobile = () => {\n  let width = window.outerWidth;\n  if (width <= 650) return true;\n  return false;\n};\n\n// Converts seconds into \"0:13\" time format\nexport const getTime = (time) => {\n  if (!isNaN(time)) return Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\n  else return \"0:00\";\n};\n\n// Gets the BPM info\nexport const getBPMInfo = (bpm) => {\n  if (bpm >= 0 && bpm <= 59) return tempos[\"Slower\"];\n  else if (bpm >= 60 && bpm <= 119) return tempos[\"Slow\"];\n  else if (bpm >= 120 && bpm <= 189) return tempos[\"Moderate\"];\n  else if (bpm >= 190 && bpm <= 249) return tempos[\"Fast\"];\n  else if (bpm >= 240 && bpm <= 900) return tempos[\"Faster\"];\n  else return tempos[\"Moderate\"];\n};\n\n// Creates, sets, and returns a deviceID\nexport const getDeviceId = () => {\n  let deviceID = localStorage.getItem(\"deviceID\"); // Get previously generated deviceID (if any)\n  if (!deviceID) {\n    deviceID = \"web-\" + generateRandomString(10); // If no deviceID, create one\n    localStorage.setItem(\"deviceID\", deviceID); // Store deviceID\n  }\n  return deviceID;\n};\n","import { SET_IS_APPLE, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_EXPLICIT, SET_TRACK_SCHEDULE, SET_USER, LOGIN_SUCCESS, SET_LOCATION, UPDATE_STATION, UPDATE_CURRENT_TRACK, SET_FAVORITES } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nconst auth_reducer = (state = initialState.auth, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, { ...action.data });\n    case SET_USER:\n      return Object.assign({}, state, { user: action.data });\n    case SET_LOCATION:\n      return Object.assign({}, state, { location: { ...action.data, favoritesMap: objArrayToMap(get(action, \"data.favorites\", []), \"_id\") } });\n    case UPDATE_STATION:\n      return Object.assign({}, state, { location: { ...state.location, station: action.data } });\n    case UPDATE_CURRENT_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, currentTrack: action.data } });\n    case SET_FAVORITES:\n      return Object.assign({}, state, { location: { ...state.location, favorites: action.data, favoritesMap: objArrayToMap(get(action, \"data\", []), \"_id\") } });\n    case SET_EXPLICIT:\n      return Object.assign({}, state, { location: { ...state.location, explicit: action.data } });\n    case SET_PAIRED_DEVICE:\n      return Object.assign({}, state, { location: { ...state.location, pairedDevice: action.data } });\n    case SET_LAST_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, lastTrack: action.data } });\n    case SET_TRACK_SCHEDULE:\n      return Object.assign({}, state, { location: { ...state.location, trackSchedule: action.data } });\n    case SET_IS_APPLE: // This is an action for APPLE review\n      return Object.assign({}, state, { isApple: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default auth_reducer;\n","// Auth\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const SET_LOCATION = \"SET_LOCATION\";\nexport const SET_USER = \"SET_USER\";\nexport const SET_FAVORITES = \"SET_FAVORITES\";\nexport const SET_PAIRED_DEVICE = \"SET_PAIRED_DEVICE\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILED = \"SIGNUP_FAILED\";\nexport const SET_IS_APPLE = \"SET_IS_APPLE\";\n\n// Loader\nexport const LOADER_SHOW = \"LOADER_SHOW\";\nexport const LOADER_HIDE = \"LOADER_HIDE\";\n\n// Player\nexport const SET_TRACK_SCHEDULE = \"SET_TRACK_SCHEDULE\";\nexport const SET_EXPLICIT = \"SET_EXPLICIT\";\nexport const SET_LAST_TRACK = \"SET_LAST_TRACK\";\nexport const SET_TRACK_MAP = \"SET_TRACK_MAP\";\nexport const SET_TRACK_NUMBER = \"SET_TRACK_NUMBER\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_SHOW_PLAYER = \"SET_SHOW_PLAYER\";\nexport const SET_LOCATION_JWT = \"SET_LOCATION_JWT\";\nexport const DISCONNECT_PLAYER_SUCCESS = \"DISCONNECT_PLAYER_SUCCESS\";\nexport const PLAYER_ERROR = \"PLAYER_ERROR\";\nexport const SET_SKIP_DISABLED = \"SET_SKIP_DISABLED\";\n\n// Snackbar\nexport const SET_SNACKBAR_NOTIFICATION = \"SET_SNACKBAR_NOTIFICATION\";\nexport const SET_SNACKBAR_MESSAGE = \"SET_SNACKBAR_MESSAGE\";\n\n// Playlist\nexport const SET_PLAYLISTS = \"SET_PLAYLISTS\";\n\n// Stations\nexport const GET_PUBLIC_STATIONS_FOR_DISCOVER = \"GET_PUBLIC_STATIONS_FOR_DISCOVER\";\nexport const UPDATE_STATION = \"UPDATE_STATION\";\nexport const UPDATE_CURRENT_TRACK = \"UPDATE_CURRENT_TRACK\";\n\n// Create Schedule\nexport const ADD_SCHEDULE = \"ADD_SCHEDULE\";\nexport const SET_SCHEDULE = \"SET_SCHEDULE\";\nexport const ACTIVE_SCHEDULE = \"ACTIVE_SCHEDULE\";\n\n// In-Store Messaging\nexport const SET_INSTORE_MESSAGES = \"SET_INSTORE_MESSAGES\";\n","import { SET_INSTORE_MESSAGES } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst inStoreMessaging_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_INSTORE_MESSAGES:\n      return Object.assign({}, state, { messages: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default inStoreMessaging_reducer;\n","import { SET_SKIP_DISABLED, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_TRACK_MAP, SET_TRACK_NUMBER, SET_IS_PLAYING, SET_SHOW_PLAYER, SET_LOCATION_JWT } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst player_reducer = (state = initialState.player, action) => {\n  switch (action.type) {\n    case SET_TRACK_MAP:\n      return Object.assign({}, state, { trackMap: action.data });\n    case SET_TRACK_NUMBER:\n      return Object.assign({}, state, { trackNumber: action.data });\n    case SET_IS_PLAYING:\n      return Object.assign({}, state, { isPlaying: action.data });\n    case SET_SKIP_DISABLED:\n      return Object.assign({}, state, { skipDisabled: action.data });\n    case SET_SHOW_PLAYER:\n      return Object.assign({}, state, { showPlayer: action.data });\n    case SET_LOCATION_JWT:\n      return Object.assign({}, state, { locationJWT: action.data });\n    case PLAYER_ERROR:\n      return Object.assign({}, state, { playerError: action.data });\n    case DISCONNECT_PLAYER_SUCCESS:\n      localStorage.removeItem(\"location-jwt\");\n      return Object.assign({}, state, { locationJWT: null });\n    default:\n      return state;\n  }\n};\n\nexport default player_reducer;\n","import { SET_PLAYLISTS } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst playlists_reducer = (state = initialState.playlists, action) => {\n  switch (action.type) {\n    case SET_PLAYLISTS:\n      return Object.assign([], state, { schedules: action.data });\n    default:\n      return state;\n  }\n};\nexport default playlists_reducer;\n","import { ADD_SCHEDULE, SET_SCHEDULE, ACTIVE_SCHEDULE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst selected_stations_preview_reducer = (state = initialState.selectedPreviews, action) => {\n  switch (action.type) {\n    case ADD_SCHEDULE:\n      return Object.assign(\n        {},\n        { ...state },\n        {\n          data: null,\n        }\n      );\n    case SET_SCHEDULE:\n      return Object.assign({}, state, {\n        ID: \"\",\n        track: [],\n      });\n    case ACTIVE_SCHEDULE:\n      return Object.assign({}, state, {\n        activeSchedule: action.data,\n      });\n    default:\n      return state;\n  }\n};\nexport default selected_stations_preview_reducer;\n","import { SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst snackbar_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_SNACKBAR_NOTIFICATION:\n      return Object.assign({}, state, { notification: action.data });\n    case SET_SNACKBAR_MESSAGE:\n      return Object.assign({}, state, { message: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default snackbar_reducer;\n","import { GET_PUBLIC_STATIONS_FOR_DISCOVER } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst stations_reducer = (state = initialState.stations, action) => {\n  switch (action.type) {\n    case GET_PUBLIC_STATIONS_FOR_DISCOVER:\n      return Object.assign({}, state, {\n        playlistList: action.data.playlistList,\n        genreList: action.data.genreList,\n        eraList: action.data.eraList,\n        moodList: action.data.moodList,\n      });\n    default:\n      return state;\n  }\n};\nexport default stations_reducer;\n","import { combineReducers } from \"redux\";\nimport auth from \"./auth\";\nimport inStoreMessaging from \"./inStoreMessaging\";\nimport player from \"./player\";\nimport playlists from \"./playlists\";\nimport schedules from \"./schedules\";\nimport snackbar from \"./snackbar\";\nimport stations from \"./stations\";\n\nexport default combineReducers({\n  auth,\n  inStoreMessaging,\n  player,\n  playlists,\n  schedules,\n  snackbar,\n  stations,\n});\n","/* eslint-disable no-undef */\n\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport reduxImmutableStateInvariant from \"redux-immutable-state-invariant\";\nimport thunk from \"redux-thunk\";\nimport { createBrowserHistory } from \"history\";\n// 'routerMiddleware': the new way of storing route changes with redux middleware since rrV4.\n// import { routerMiddleware } from 'react-router-redux';\nimport rootReducer from \"../reducers\";\nexport const history = createBrowserHistory();\n\nfunction configureStoreProd(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  return createStore(rootReducer, initialState, compose(applyMiddleware(...middlewares)));\n}\n\nfunction configureStoreDev(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n    reduxImmutableStateInvariant(),\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\n  const store = createStore(rootReducer, initialState, composeEnhancers(applyMiddleware(...middlewares)));\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept(\"../reducers\", () => {\n      const nextReducer = require(\"../reducers\").default; // eslint-disable-line global-require\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n\nconst configureStore = process.env.NODE_ENV === \"production\" ? configureStoreProd : configureStoreDev;\n\nexport default configureStore;\n","let config = {\n  // API_URL: \"https://prod.ambii.io/v2\", //prodB\n  // SOCKET_URL: \"https:/prod.ambii.io\",\n  API_URL: \"https://hola.ambii.io/v2\", //prodA\n  SOCKET_URL: \"https:/hola.ambii.io\",\n  // API_URL: \"https://hola-dev.ambii.io/v2\", // dev\n  // SOCKET_URL: \"https:/hola-dev.ambii.io\",\n  // API_URL: \"http://localhost:4040/v2\", //local\n  // SOCKET_URL: \"http://localhost:4040\",\n  APP_TITLE: \"Ambii\",\n};\n\nexport default config;\n","import axios from \"axios\";\nimport config from \"./urls\";\nimport { get } from \"lodash\";\n\nexport async function HTTP(method, uri, data, headers = null, params = null) {\n  const url = `${config.API_URL}${uri}`.trim();\n  let query = {\n    method: method,\n    url: url,\n    headers: {},\n  };\n\n  if (headers !== null) query.headers = headers;\n  if (params !== null) query.params = params;\n  if (method === \"post\" || method === \"put\" || method === \"delete\" || method === \"patch\") query.data = data;\n\n  query.headers[\"Authorization\"] = \"Bearer \" + localStorage.getItem(\"access-token\");\n\n  return new Promise(function (resolve, reject) {\n    axios(query)\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((err) => {\n        console.log(\"Caught api error: \", err);\n\n        if (err.message === \"Network Error\") {\n          window.alert(err.message);\n        } else if (get(err, \"response.data.message\", null) === \"The token has expired, please login again!\") {\n          // Used to catch if another device connects while web player is connected\n          resolve(false);\n        } else if (err.response && err.response.status === 401) {\n          localStorage.removeItem(\"access-token\");\n          // window.location.reload(true);\n        } else {\n          reject(err);\n        }\n      });\n  });\n}\n","import { SET_IS_APPLE, SET_INSTORE_MESSAGES, GET_PUBLIC_STATIONS_FOR_DISCOVER, ACTIVE_SCHEDULE, SET_SCHEDULE, SET_PLAYLISTS, SET_FAVORITES, LOGIN_SUCCESS, SET_USER, SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_LOCATION, SET_LOCATION_JWT, SET_TRACK_NUMBER, SET_SHOW_PLAYER, SET_IS_PLAYING, SET_TRACK_SCHEDULE, SET_EXPLICIT, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_TRACK_MAP, UPDATE_STATION, UPDATE_CURRENT_TRACK, SET_SKIP_DISABLED, SIGNUP_SUCCESS, SIGNUP_FAILED, LOADER_SHOW, LOADER_HIDE } from \"../constants\";\n\nexport const setIsApple = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_APPLE,\n    data,\n  });\n};\n\nexport const setFavorites = (data) => (dispatch) => {\n  dispatch({\n    type: SET_FAVORITES,\n    data,\n  });\n};\n\nexport const setTrackSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_SCHEDULE,\n    data,\n  });\n};\n\nexport const setExplicit = (data) => (dispatch) => {\n  dispatch({\n    type: SET_EXPLICIT,\n    data,\n  });\n};\n\nexport const setPairedDevice = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PAIRED_DEVICE,\n    data,\n  });\n};\n\nexport const setLastTrack = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LAST_TRACK,\n    data,\n  });\n};\n\nexport const setTrackMap = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_MAP,\n    data,\n  });\n};\n\nexport const setLocation = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION,\n    data,\n  });\n};\n\nexport const setJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setLocationJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setStation = (data) => (dispatch) => {\n  dispatch({\n    type: UPDATE_STATION,\n    data,\n  });\n};\n\nexport const setCurrentTrack = (data) => (dispatch) => {\n  dispatch({\n    type: UPDATE_CURRENT_TRACK,\n    data,\n  });\n};\n\nexport const playerError = (data) => (dispatch) => {\n  dispatch({\n    type: PLAYER_ERROR,\n    data,\n  });\n};\n\nexport const showPlayer = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SHOW_PLAYER,\n    data,\n  });\n};\n\nexport const setIsPlaying = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_PLAYING,\n    data,\n  });\n};\n\nexport const setDisableSkip = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SKIP_DISABLED,\n    data,\n  });\n};\n\nexport const setTrackNumber = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_NUMBER,\n    data,\n  });\n};\n\nexport const disconnectPlayerSuccess = () => (dispatch) => {\n  dispatch({ type: DISCONNECT_PLAYER_SUCCESS });\n};\n\nexport const loginSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: LOGIN_SUCCESS,\n    data,\n  });\n};\n\nexport const setUser = (data) => (dispatch) => {\n  dispatch({\n    type: SET_USER,\n    data,\n  });\n};\n\nexport const _setSnackbarNotification = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_NOTIFICATION,\n    data,\n  });\n};\n\nexport const _setSnackbarMessage = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_MESSAGE,\n    data,\n  });\n};\n\nexport const setActiveSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: ACTIVE_SCHEDULE,\n    data,\n  });\n};\n\nexport const _setSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SCHEDULE,\n    data,\n  });\n};\n\nexport const setSchedules = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PLAYLISTS,\n    data,\n  });\n};\n\nexport const getPublicStationsForDiscover = (data) => (dispatch) => {\n  dispatch({\n    type: GET_PUBLIC_STATIONS_FOR_DISCOVER,\n    data,\n  });\n};\n\nexport const setInStoreMessages = (data) => (dispatch) => {\n  dispatch({\n    type: SET_INSTORE_MESSAGES,\n    data,\n  });\n};\n\nexport const signUpSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_SUCCESS,\n    data,\n  });\n};\n\nexport const signUpFailed = (error) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_FAILED,\n    error,\n  });\n};\n\nexport const showLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_SHOW,\n  });\n};\n\nexport const hideLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_HIDE,\n  });\n};\n","import config from \"./urls\";\nimport io from \"socket.io-client\";\n\nexport const socket = io(config.SOCKET_URL);\n\nexport const socketChannels = {\n  //default socket client function\n  connect: \"connect-web\",\n  //default socket client function\n  disconnect: \"disconnect\",\n  //default socket client function\n  reconnect: \"reconnect\",\n  //server will fire to user when player connects with station\n  playerPaired: \"player-paired\",\n  //server will fire to user when player unpaired itself with station\n  playerUnPaired: \"player-un-paired\",\n  //server will fire to user when player disconnects only (goes offline)\n  playerDisconnected: \"player-disconnected\",\n  //server will fire to user, when player starts playing a song\n  playerPlayed: \"player-played\",\n  //server will fire to user, when player gets paused\n  playerPaused: \"player-paused\",\n  //server will fire to user and player when a playable songs adds into a station\n  stationUpdated: \"station-updated\",\n  //server will fire to user, when player call play next song\n  onPlayNext: \"player-called-next\",\n};\n","import { HTTP } from \"../configs/api\";\nimport { socket, socketChannels } from \"../configs/socket\";\nimport { setPairedDevice, showPlayer, setLastTrack, setDisableSkip, setTrackNumber, setTrackMap, setLocation, setTrackSchedule, setLocationJWT, setStation, setCurrentTrack, disconnectPlayerSuccess, setIsPlaying } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap, getDeviceId } from \"../util\";\n\nexport const addPlayerListeners = () => (dispatch) => {\n  playerPaired(dispatch);\n  playerUnPaired(dispatch);\n  playerDisconnected(dispatch);\n  playerPlayed(dispatch);\n  playerPaused(dispatch);\n};\n\nexport function disconnectPlayer() {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve, reject) => {\n      let locationJWT = localStorage.getItem(\"location-jwt\");\n\n      // Return if required data missing\n      if (!locationJWT) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/disconnect\", { locationId: get(getState(), \"auth.location._id\", \"\"), locationJWT, deviceID: getDeviceId() }, { \"player-access-token\": locationJWT })\n        .then(async (response) => {\n          try {\n            console.log(\"disconnect: \", response);\n            dispatch(setPairedDevice(get(response, \"data.data.pairedDevice\", {}))); // Set the paired device to incoming. Important for changing UI\n            dispatch(disconnectPlayerSuccess());\n            dispatch(showPlayer(false));\n          } catch (err) {\n            console.log(\"Caught error on disconnectPlayer: \", err);\n          }\n          resolve(get(response, \"data.data\", null));\n        })\n        .catch((error) => {\n          console.log(\"disconnectPlayer error: \", error);\n          reject(error.response);\n        });\n    });\n  };\n}\n\nexport function connectPlayer(data) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      // Return if required data missing\n      if (!data) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/connect\", data)\n        .then(async (response) => {\n          const res = get(response, \"data.data\", null);\n          if (get(res, \"data\", null) === \"DEVICE_ALREADY_PAIRED\") return resolve(\"DEVICE_ALREADY_PAIRED\");\n          // Location already connected to\n          else {\n            // Location not connected to\n            console.log(\"connectPlayer : \", response);\n\n            let locationJWT = get(res, \"jwt\", null);\n            localStorage.setItem(\"location-jwt\", locationJWT); // Save location jwt to local storage\n\n            let location = get(res, \"location\", {});\n            let trackSchedule = get(location, \"trackSchedule\", []);\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n            let currentTrack = get(location, \"currentTrack\", null); // Get the currentTrackNumber from server\n            let currentTrackNumber = get(location, \"currentTrackNumber\", 0); // Get the currentTrackNumber from server\n            let currentTrackByNumber = get(trackSchedule, \"queue[\" + currentTrackNumber + \"]\", currentTrack); // Get the currentTrack by number\n\n            // console.log(\"connect: \", {currentTrack, currentTrackByNumber, currentTrackNumber, trackSchedule, trackMap})\n            // Dispatch parent data first\n            dispatch(setLocation(location)); // Save location updates\n            dispatch(setLocationJWT(locationJWT)); // Save location's jwt\n            dispatch(setTrackMap(trackMap)); // Save track map\n            dispatch(setTrackNumber(currentTrackNumber)); // Save track map\n            dispatch(setCurrentTrack(currentTrackByNumber));\n\n            // Dispatch specific data into parent\n            dispatch(setTrackSchedule(trackSchedule)); // Set Track Schedule\n            dispatch(showPlayer(true));\n\n            resolve(res);\n          }\n        })\n        .catch((error) => {\n          console.log(\"connectPlayer error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function playNextReq({ jwt, data }) {\n  return function (dispatch) {\n    return new Promise(async (resolve) => {\n      try {\n        // Return if required data missing\n        if (!jwt || !data) return resolve(false);\n\n        HTTP(\"post\", \"/auth/player/play-next\", data, { \"player-access-token\": jwt })\n          .then(async (response) => {\n            console.log(\"playNextReq: \", response);\n            if (response) {\n              let data = get(response, \"data.data\", {});\n              const sameStation = get(data, \"sameStation\", true);\n              // Check for DEVICE_ALREADY_PAIRED warning\n              if (get(data, \"data\", \"\") === \"DEVICE_ALREADY_PAIRED\") return resolve(get(data, \"data\", \"\"));\n\n              // If the station has changed in the background\n              if (!sameStation) {\n                let location = get(data, \"location\", {});\n                let trackSchedule = get(data, \"location.trackSchedule\", {});\n                let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n                // Dispatch parent data first\n                dispatch(setLocation(location)); // Save location updates\n                dispatch(setTrackMap(trackMap)); // Save track map\n                dispatch(setTrackNumber(get(location, \"currentTrackNumber\", 0))); // Save track map\n\n                // Dispatch specific data into parent\n                dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n              }\n              resolve(true);\n            } else resolve(false);\n          })\n          .catch((error) => {\n            console.log(\"error: \", error);\n            resolve(false);\n          });\n      } catch (err) {\n        console.log(\"playNextReq err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\nexport function skipSong({ songCompletion }) {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve) => {\n      try {\n        if (!songCompletion) songCompletion = \"0\";\n\n        let location = get(getState(), \"auth.location\", {});\n        let player = get(getState(), \"player\", {});\n\n        dispatch(setDisableSkip(true));\n        let trackScheduleId = get(location, \"trackSchedule._id\", \"\");\n        let trackScheduleLength = get(location, \"trackSchedule.queue\", []).length - 1;\n        let queue = get(location, \"trackSchedule.queue\", []);\n        let lastTrack = get(location, \"currentTrack\", {});\n        let trackNumber = get(player, \"trackNumber\", 0);\n        let nextTrack = null;\n\n        // Get the next track / track number\n        if (trackNumber + 1 <= trackScheduleLength) {\n          nextTrack = queue[trackNumber + 1] || \"\";\n          trackNumber += 1;\n        } else {\n          nextTrack = get(location, \"trackSchedule.queue[\" + 0 + \"]\", \"\");\n          trackNumber = 0;\n        }\n\n        let checkTrackNumber = await dispatch(getTrackNumberByTrack(nextTrack));\n\n        // Tries to make sure track number is the same as the song it's trying to play\n        if (checkTrackNumber && trackNumber !== checkTrackNumber) trackNumber = checkTrackNumber;\n\n        dispatch(setLastTrack(lastTrack)); // Reset last track\n        dispatch(setCurrentTrack(nextTrack));\n        dispatch(setTrackNumber(trackNumber));\n        // console.log({ props: getState(), checkTrackNumber, songCompletion, lastTrack, nextTrack, trackNumber, queue, trackScheduleId, trackScheduleLength, deviceID: getDeviceId() });\n\n        let playNextRes = await dispatch(\n          playNextReq({\n            jwt: get(player, \"locationJWT\", null),\n            data: {\n              locationId: get(location, \"_id\", null),\n              stationId: get(location, \"station._id\", null),\n              trackScheduleId,\n              nextTrack,\n              lastTrack,\n              deviceID: getDeviceId(),\n              songCompletion,\n              currentTrackNumber: trackNumber.toString(),\n            },\n          })\n        );\n\n        if (playNextRes) {\n          console.log(\"music bar props: \", getState());\n          if (playNextRes === \"DEVICE_ALREADY_PAIRED\") {\n            dispatch(setIsPlaying(false));\n            dispatch(setDisableSkip(false));\n            await dispatch(disconnectPlayer());\n            return resolve(playNextRes);\n          }\n        } else return resolve(false);\n\n        resolve(true);\n      } catch (err) {\n        dispatch(setDisableSkip(false));\n        console.log(\"caught callPlayNext err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\n// Checks to see if we need to disable skip on the current song\nexport function checkIfAdvertisement(currentTrack) {\n  return function (dispatch) {\n    let isAdvertisement = get(currentTrack, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n    let isInStoreMessage = get(currentTrack, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n    if (isAdvertisement || isInStoreMessage) dispatch(setDisableSkip(true));\n    else {\n      let skipTimer = setTimeout(() => {\n        clearTimeout(skipTimer);\n        dispatch(setDisableSkip(false));\n      }, 3000);\n    }\n  };\n}\n\n// Gets the track position of the passed track\nexport function getTrackNumberByTrack(track) {\n  return function (dispatch, getState) {\n    return new Promise((resolve) => {\n      let location = get(getState(), \"auth.location\", {});\n      let trackSchedule = get(location, \"trackSchedule.queue\", []);\n\n      let isAdvertisement = get(track, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n      let isInStoreMessage = get(track, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n      if (isAdvertisement || isInStoreMessage) return resolve(false);\n\n      for (let i = 0; i < trackSchedule.length; i++) {\n        if (get(trackSchedule[i], \"isrc\", \"\") === get(track, \"isrc\", track)) return resolve(i);\n      }\n\n      resolve(false);\n    });\n  };\n}\n\nexport const removePlayerListeners = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.playerPaired);\n  socket.removeEventListener(socketChannels.playerUnPaired);\n  socket.removeEventListener(socketChannels.playerDisconnected);\n  socket.removeEventListener(socketChannels.playerPlayed);\n  socket.removeEventListener(socketChannels.playerPaused);\n};\n\nexport const updateStationListener = () => (dispatch) => {\n  socket.on(socketChannels.stationUpdated, (data) => {\n    dispatch(setStation(data));\n  });\n};\n\nexport const updateCurrentTrackListener = () => (dispatch) => {\n  socket.on(socketChannels.onPlayNext, (data) => {\n    dispatch(setCurrentTrack(get(data, \"track\", {})));\n  });\n};\n\nexport const removeStationListener = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.stationUpdated);\n};\n\nconst playerPaired = (dispatch) => {\n  socket.on(socketChannels.playerPaired, (data) => {\n    console.log(\"Player Paired\", data);\n  });\n};\n\nconst playerUnPaired = (dispatch) => {\n  socket.on(socketChannels.playerUnPaired, (data) => {\n    console.log(\"Player UnPaired\", data);\n  });\n};\n\nconst playerDisconnected = (dispatch) => {\n  socket.on(socketChannels.playerDisconnected, (data) => {\n    console.log(\"Player Disconnected\", data);\n  });\n};\n\nconst playerPlayed = (dispatch) => {\n  socket.on(socketChannels.playerPlayed, (data) => {\n    console.log(\"Player playerPlayed\", data);\n  });\n};\n\nconst playerPaused = (dispatch) => {\n  socket.on(socketChannels.playerPaused, (data) => {\n    console.log(\"Player playerPaused\");\n  });\n};\n","export default class MobileAppCommunicator {\n  static inApp() {\n    return window.inApp;\n  }\n\n  static send(endpoint, data) {\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          data: data,\n          endpoint: endpoint,\n        })\n      );\n    }\n  }\n\n  static receive(endpoint, func) {\n    if (window.ReactNativeWebView) {\n      window.addEventListener(\"message\", (msg) => {\n        if (msg.endpoint === endpoint) {\n          func(JSON.parse(msg.data));\n        }\n      });\n    }\n  }\n}\n","import { HTTP } from \"../configs/api\";\nimport { setIsApple, loginSuccess, setUser, setLocation, hideLoader, showLoader, signUpFailed, signUpSuccess } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { getDeviceId } from \"../util\";\nimport { connectPlayer } from \"./player\";\nimport MobileAppCommunicator from \"../helpers/MobileAppCommunicator\";\n\nexport function auth0setLogin() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      HTTP(\"post\", \"/auth/login\")\n        .then((response) => {\n          console.log(\"auth0setLogin res: \", response);\n          let data = get(response, \"data.data\", null);\n          let location = get(data, \"defaultLocation\", {});\n\n          // The fact this line (and any subsequent code) exists is reltih\n          if (get(data, \"user.email\", \"\").toLowerCase() === \"apple@ambii.io\") dispatch(setIsApple(true));\n\n          // Dispatch\n          dispatch(loginSuccess(data));\n          dispatch(setUser(get(data, \"user\", {})));\n          dispatch(setLocation(location));\n          getDeviceId();\n\n          if (MobileAppCommunicator.inApp() && location?.token) {\n            MobileAppCommunicator.send(\"pairCode\", location?.token);\n          }\n\n          // Auto-connects player\n          if (get(location, \"pairedDevice.uniqueId\", null) === getDeviceId()) {\n            let obj = {\n              token: get(location, \"token\", \"\"),\n              deviceName: \"web\",\n              uniqueId: getDeviceId(),\n              deviceBrand: \"web\",\n              override: false,\n            };\n\n            dispatch(connectPlayer(obj));\n          }\n\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"auth0setLogin error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function auth0clearLogin() {\n  return function (dispatch) {\n    dispatch(setUser({}));\n    dispatch(setLocation({}));\n  };\n}\n\nexport function mixMaxRegister({ id, email, name }) {\n  return function (dispatch) {\n    HTTP(\"post\", \"/public/create-new-mix-max-contact\", { id, email, name, groupName: \"Signed Up Users\" });\n  };\n}\n\nexport function signUp(data) {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      dispatch(showLoader());\n      HTTP(\"post\", \"/auth/sign-up\", data)\n        .then((response) => {\n          let data = get(response, \"data.data\");\n\n          if (get(response, \"data.success\", false)) {\n            dispatch(signUpSuccess(data));\n            dispatch(setUser(get(data, \"user\", {})));\n            dispatch(setLocation(get(data, \"defaultLocation\", {})));\n          }\n          resolve(response.data);\n        })\n        .catch((error) => {\n          let message = get(error, \"response\", \"\");\n          dispatch(signUpFailed(message));\n          reject(message);\n        })\n        .finally(() => {\n          dispatch(hideLoader());\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setExplicit, setTrackSchedule, setFavorites, setTrackMap, setTrackNumber, setLastTrack } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\n// Toggle Station Favorite\nexport function toggleFavorite({ locationId, stationId, favorites }) {\n  return function (dispatch) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !stationId || !favorites) return resolve(false);\n\n      HTTP(\"post\", `/api/location/${locationId}/toggleFavorite/`, { locationId, stationId }, auth)\n        .then((response) => {\n          let station = get(response, \"data.data.station\", {});\n          let type = get(response, \"data.data.type\", {});\n          let newFavorites = [...favorites];\n\n          if (type === \"remove\") {\n            for (let i = 0; i < newFavorites.length; i++) if (newFavorites[i]._id === station) newFavorites.splice(i, 1);\n          } else newFavorites.push(station);\n\n          // Set favorites\n          dispatch(setFavorites(newFavorites));\n\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(true);\n        });\n    });\n  };\n}\n\n// Toggle Explicit\nexport function toggleExplicit({ locationId, currentTrack }) {\n  return function (dispatch, getState) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !currentTrack) return resolve(false);\n\n      let previousExplicitState = get(getState(), \"auth.location.explicitAllowed\", false);\n      HTTP(\"post\", `/api/location/${locationId}/toggleExplicit/`, { locationId, currentTrack }, auth)\n        .then((response) => {\n          console.log(\"toggleExplicit: \", response);\n          let data = get(response, \"data.data.location\", {});\n\n          let trackSchedule = get(data, \"trackSchedule\", {});\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n          let explicitAllowed = get(data, \"explicitAllowed\", false);\n          let lastTrack = get(data, \"lastTrack\", null);\n\n          // Dispatch parent data first\n          dispatch(setExplicit(explicitAllowed)); // Set location data\n          dispatch(setTrackMap(trackMap)); // Save track map\n\n          // Dispatch specific data into parent\n          dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n          dispatch(setTrackNumber(0)); // Reset Track Number\n          dispatch(setLastTrack(lastTrack)); // Reset last track\n\n          resolve(explicitAllowed);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(previousExplicitState);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setCurrentTrack, setTrackNumber, setLocation, getPublicStationsForDiscover, setTrackSchedule, setTrackMap } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\n// Return a station's information\nexport function getStation(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"get\", \"/api/location/\" + companyId, null, auth)\n        .then((res) => {\n          console.log(\"getStation: \", res);\n          dispatch(setLocation(get(res, \"data.data\", null)));\n          resolve(res);\n        })\n        .catch((err) => {\n          console.log(\"getStation err: \", err);\n          reject(err);\n        });\n    });\n  };\n}\n\nexport function getDiscoverPulicStations() {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      HTTP(\"get\", \"/public/station\")\n        .then((res) => {\n          let data = get(res, \"data.data\", {});\n\n          let filteredData = {\n            eraList: [],\n            genreList: [],\n            moodList: [],\n            tempoList: [],\n            playlistList: [],\n          };\n\n          get(data, \"playlistList\", []).forEach((station) => {\n            if (station.track.length > 0) filteredData.playlistList.push(station);\n          });\n\n          dispatch(getPublicStationsForDiscover(filteredData));\n\n          resolve(filteredData);\n        })\n        .catch((err) => {\n          console.log(\"getDiscoverPulicStations error in action \", err);\n          reject(err);\n        });\n    });\n  };\n}\n\nexport function getStationDetails(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!id) return resolve(false);\n\n      if (get(auth, \"access-token\", false)) {\n        HTTP(\"get\", `/api/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      } else {\n        HTTP(\"get\", `/public/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      }\n    });\n  };\n}\n\nexport function assignStation(companyId, stationId) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !companyId) || !stationId) return resolve(false);\n\n      HTTP(\"post\", `/api/company/${companyId}/station/${stationId}`, null, auth)\n        .then((res) => {\n          let data = get(res, \"data.data\", {});\n          let trackSchedule = get(data, \"trackSchedule\", {});\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n          // Dispatch parent data first\n          dispatch(setLocation(data)); // Set Location\n          dispatch(setTrackMap(trackMap)); // Set Track Map\n\n          // Dispatch specific data into parent\n          let currentTrack = get(trackSchedule, \"queue[\" + 0 + \"]\", get(data, \"currentTrack\", {})); // Set current track to first song in filtered queue\n          dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n          dispatch(setCurrentTrack(currentTrack)); // Update current track\n          dispatch(setTrackNumber(0)); // Reset Track Number\n\n          resolve(data);\n        })\n        .catch((err) => {\n          console.log(\"Error :\", err);\n          reject(err.response);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { message } from \"antd\";\nimport { _setSchedule, setActiveSchedule, setSchedules, setLocation, setTrackMap, setTrackSchedule, setCurrentTrack, setTrackNumber } from \"./dispatch\";\nimport { setSnackbarMessage } from \"./index\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nexport function createSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/createSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Create Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"createSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not create schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/getSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Get Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"getSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not find schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function editSchedule(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      dispatch(setActiveSchedule(id));\n      resolve(true);\n    });\n  };\n}\n\nexport function setSchedule({ companyId, scheduleId, name, stations }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId || !name || !stations) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/schedule\", { scheduleId, name, stations }, auth)\n        .then((response) => {\n          let schedule = get(response, \"data\", {});\n          console.log(\"create playlist res in action \", response);\n          dispatch(_setSchedule(schedule));\n          resolve(schedule);\n        })\n        .catch((error) => {\n          console.log(\"setSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"cannot find artist or track\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getMyPlaylists({ companyId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"get\", \"/api/company/\" + companyId + \"/getSchedules\", null, auth)\n        .then((res) => {\n          console.log(\"getMyPlaylists res: \", res);\n          let data = get(res, \"data.data.schedules\", []);\n          dispatch(setSchedules(data));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"getMyPlaylists error\", err.response);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function assignSchedule({ companyId, scheduleId }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/assignSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"assignSchedule: \", response);\n\n          let location = get(response, \"data.data\", false);\n          if (location) {\n            let trackSchedule = get(location, \"trackSchedule\", {});\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n            // Dispatch parent data first\n            dispatch(setLocation(location)); // Set location data\n            dispatch(setTrackMap(trackMap)); // Set track map\n\n            // Dispatch specific data into parent\n            let currentTrack = get(trackSchedule, \"queue[\" + 0 + \"]\", get(location, \"currentTrack\", {})); // Set current track to first song in filtered queue\n            dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n            dispatch(setCurrentTrack(currentTrack)); // Update current track\n            dispatch(setTrackNumber(0)); // Reset Track Number\\\n          } else dispatch(setSnackbarMessage({ message: \"Schedule is already playing!\", type: \"info\" }));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"assignSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function deleteSchedule({ companyId, scheduleId }) {\n  return function (dispatch, getState) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/deleteSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"deleteSchedule: \", response);\n          let deletedSchedule = get(response, \"data.data._id\", null);\n          if (deletedSchedule) {\n            let schedules = [...get(getState(), \"playlists.schedules\", [])];\n\n            // Remove deleted schedule from client\n            for (let i = 0; i < schedules.length; i++) if (get(schedules[i], \"_id\", \"\") === deletedSchedule) schedules.splice(i, 1);\n\n            dispatch(setSchedules(schedules));\n          }\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"deleteSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setInStoreMessages } from \"./dispatch\";\nimport { get } from \"lodash\";\n\nexport function getMessages({ companyId, locationId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId) return resolve(false);\n\n      HTTP(\"post\", \"/public/listMessages\", { companyId, locationId }, auth)\n        .then((response) => {\n          console.log(\"getMessages res\", response);\n          dispatch(setInStoreMessages(get(response, \"data.data\", [])));\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"getMessages error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function createMessage({ companyId, locationId, title, voice, language, message, frequency }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !title || !message) return resolve(false);\n\n      HTTP(\"post\", \"/public/createMessagingFile\", { companyId, locationId, title, voice, language, message, frequency }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          reject(get(error, \"response\", error));\n        });\n    });\n  };\n}\n\nexport function deleteMessage({ companyId, locationId, id }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id) return resolve(false);\n\n      HTTP(\"post\", \"/public/deleteMessagingFile\", { companyId, locationId, id }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          reject(get(error, \"response\", error));\n        });\n    });\n  };\n}\n\nexport function updateFrequency({ companyId, locationId, id, frequency }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id || !frequency) return resolve(false);\n\n      HTTP(\"post\", \"/public/changeMessagingFileFrequency\", { companyId, locationId, id, frequency }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"updateFrequency error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getVoiceOptions() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false)) return resolve(false);\n\n      HTTP(\"get\", \"/public/listVoices\", null, auth)\n        .then((response) => {\n          resolve(get(response, \"data.data\", []));\n        })\n        .catch((error) => {\n          console.log(\"getVoiceData error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { setSnackbarMessage } from \"./index\";\nimport { socket, socketChannels } from \"../configs/socket\";\n\nexport function startSockets() {\n  return function (dispatch) {\n    dispatch(onSocketConnect());\n    dispatch(onSocketDisconnect());\n    dispatch(onSocketReconnect());\n  };\n}\n\nexport function onSocketConnect() {\n  return function (dispatch) {\n    socket.on(\"connect\", function () {\n      console.log(\"Socket Connected\");\n    });\n  };\n}\n\nexport function onSocketDisconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.disconnect, function () {\n      console.log(\"Socket Disconnected\");\n      dispatch(setSnackbarMessage({ message: \"Connection Lost\", type: \"warn\" }));\n    });\n  };\n}\n\nexport function onSocketReconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.reconnect, function () {\n      console.log(\"Socket Reconnected\");\n      dispatch(setSnackbarMessage({ message: \"Reconnected\", type: \"success\" }));\n    });\n  };\n}\n","import { _setSnackbarNotification, _setSnackbarMessage } from \"./dispatch\";\n\nexport function setSnackbarNotification(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarNotification(data));\n  };\n}\n\nexport function setSnackbarMessage(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarMessage(data));\n  };\n}\n","import React from \"react\";\nimport { Icon } from \"antd\";\n\nconst AntSpinner = <Icon type=\"loading\" style={{ fontSize: 24, color: \"#D04283\" }} spin />;\n\nexport default AntSpinner;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    if (this.props.auth0.isAuthenticated && this.props.auth.user) {\n      this.props.history.push(\"/nowPlaying\");\n    }\n    return (\n      <div style={{ width: \"100%\", height: \"100%\", position: \"fixed\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <Spin indicator={AntSpinner} spinning={true} />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    auth: state.auth,\n  };\n}\n\nexport default connect(mapStateToPropsRouter, mapDispatchToProps)(withRouter(withAuth0(Main)));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Geosuggest from \"react-geosuggest\";\nimport { Form, message } from \"antd\";\nimport { get } from \"lodash\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\nconst google = window.google;\n\nclass AutoSearchForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      userData: {\n        name: \"\",\n        addressLineOne: \"\",\n        addressLineTwo: \"\",\n        city: \"\",\n        state: \"\",\n        postalCode: \"\",\n        cords: [],\n      },\n      myLocation: { lng: 0, lat: 0 },\n    };\n  }\n\n  componentDidMount() {\n    this.getLocation();\n  }\n\n  getLocation = async () => {\n    const currentLocation = await navigator.geolocation;\n    currentLocation.getCurrentPosition((res) => {\n      if (res.coords) {\n        this.setState({\n          myLocation: {\n            lng: res.coords.longitude,\n            lat: res.coords.latitude,\n          },\n        });\n      } else {\n        message.info(\"location permission not granted\");\n      }\n    });\n  };\n\n  onSuggestSelect = async (suggest) => {\n    let addressLineOne, addressLineTwo, city, state, postalCode, country;\n    if (suggest && suggest.gmaps) {\n      let address = suggest.gmaps.address_components;\n      address.forEach((component) => {\n        let types = component.types;\n        if (types.indexOf(\"locality\") > -1) city = component.long_name;\n        if (types.indexOf(\"sublocality_level_1\") > -1 || types.indexOf(\"route\") > -1 || types.indexOf(\"administrative_area_level_2\") > -1) addressLineOne = component.long_name;\n        if (types.indexOf(\"sublocality_level_2\") > -1) addressLineTwo = component.long_name;\n        if (types.indexOf(\"administrative_area_level_1\") > -1) state = component.long_name;\n        if (types.indexOf(\"postal_code\") > -1) postalCode = component.long_name;\n        if (types.indexOf(\"country\") > -1 || types.indexOf(\"political\") > -1) country = component.long_name;\n      });\n\n      let timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      let lng = get(suggest, \"location.lng\", \"\");\n      let lat = get(suggest, \"location.lat\", \"\");\n\n      let userData = {\n        ...this.props.userData,\n        name: get(suggest, \"gmaps.name\", suggest.label),\n        addressLineOne,\n        addressLineTwo,\n        city,\n        state,\n        postalCode,\n        country,\n        timezone,\n        cords: [lng, lat],\n        companySearch: true,\n      };\n\n      this.setState({ userData }, () => {\n        if (get(this.state, \"userData.addressLineOne\", false) && get(this.state, \"userData.postalCode\", false) && get(this.state, \"userData.city\", false) && get(this.state, \"userData.state\", false) && get(this.state, \"userData.timezone\", false)) {\n          this.props.onSumbit(userData);\n        } else {\n          userData.missingData = true;\n          this.setState({ userData }, () => {\n            message.error(\"Some required data is missing. Please fill out the below fields.\", 5);\n            this.props.onSumbit(userData);\n          });\n        }\n      });\n    }\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { myLocation } = this.state;\n\n    return (\n      <Form className=\"auto-complete-form\">\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"userData\", {\n            rules: [{ required: true, message: \"Please input Company name or address.\" }],\n          })(<Geosuggest ref={(el) => (this._geoSuggest = el)} onChange={(e) => console.log(e)} placeholder=\"Ambii Inc. 123 Main St\" onSuggestSelect={this.onSuggestSelect} location={new google.maps.LatLng(myLocation.lat, myLocation.lng)} radius={20} country={\"us\"} />)}\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AutoSearchForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, message, AutoComplete } from \"antd\";\nimport { get } from \"lodash\";\nimport { timezones } from \"../../../constants\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\n\nclass AddressForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      dropdownError: false,\n      selectedTimezone: \"\",\n      timezoneData: {}, // Map to search through\n      timezones: [], // Masterlist of data\n      timezoneRes: [], // Results to show\n      userData: {\n        name: get(this.props, \"userData.name\", \"\"),\n        addressLineOne: get(this.props, \"userData.addressLineOne\", \"\"),\n        addressLineTwo: get(this.props, \"userData.addressLineTwo\", \"\"),\n        city: get(this.props, \"userData.city\", \"\"),\n        country: get(this.props, \"userData.country\", \"United States\"),\n        state: get(this.props, \"userData.state\", \"\"),\n        cords: get(this.props, \"userData.cords\", []),\n        postalCode: get(this.props, \"userData.postalCode\", \"\"),\n        timezone: get(this.props, \"userData.timezone\", \"\"),\n      },\n    };\n  }\n\n  componentDidMount() {\n    let timezoneRes = [];\n    let keys = Object.keys(timezones);\n    keys.forEach((timezone) => {\n      timezoneRes.push(timezone);\n    });\n    let timezoneRecommendation = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    let selectedTimezone = timezoneRecommendation;\n    this.setState({ timezoneRes, selectedTimezone });\n  }\n\n  checkIfValidTimezone(timezone) {\n    if (!timezone) return false;\n    else {\n      if (timezones[timezone]) return true;\n      else return false;\n    }\n  }\n\n  onSubmit = (e) => {\n    console.log(e);\n    //e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      console.log(\"vals: \", values);\n      let validTimezone = this.checkIfValidTimezone(get(values, \"timezone\", \"\"));\n      if (!err && validTimezone) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            ...this.props.userData,\n            ...this.state.userData,\n            name: get(values, \"name\", \"\").toString(),\n            addressLineOne: get(values, \"addressLineOne\", \"\").toString(),\n            addressLineTwo: get(values, \"addressLineTwo\", \"\").toString(),\n            city: get(values, \"city\", \"\").toString(),\n            state: get(values, \"state\", \"\").toString(),\n            postalCode: get(values, \"postalCode\", \"\").toString(),\n            country: get(values, \"country\", \"United States\").toString(),\n            cords: get(values, \"cords\", []),\n            timezone: get(values, \"timezone\", Intl.DateTimeFormat().resolvedOptions().timeZone),\n          };\n\n          this.props.onSumbit(userData);\n        });\n      } else {\n        if (!validTimezone) message.error(\"Invalid timezone selection\");\n        else if (err) message.error(\"One or more fields has an error\");\n        else {\n          message.error(\"An error occurred\");\n        }\n      }\n    });\n  };\n\n  onSearch = (searchText) => {\n    let keys = Object.keys(timezones);\n    let timezoneRes = keys.filter((s) => s.toLowerCase().includes(searchText.toLowerCase()));\n    this.setState({ selectedTimezone: searchText, timezoneRes: searchText.length <= 0 ? keys : timezoneRes });\n  };\n\n  onSelect = (value) => {\n    this.setState({ selectedTimezone: value });\n  };\n\n  render() {\n    const { timezoneRes, selectedTimezone } = this.state;\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit}>\n        <p style={{ float: \"right\" }}>* Indicates a required field </p>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"name\", {\n            rules: [{ required: true, message: \"Please input your company name\" }],\n            initialValue: this.state.userData.name,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Company Name\"\n            />\n          )}\n        </FormItem>\n\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineOne\", {\n            rules: [{ required: true, message: \"Please input your Address\" }],\n            initialValue: this.state.userData.addressLineOne,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Address Line 1\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineTwo\", {\n            initialValue: this.state.userData.addressLineTwo,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"Enter Address Line 2\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"city\", {\n            rules: [{ required: true, message: \"Please input City\" }],\n            initialValue: this.state.userData.city,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter City\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"state\", {\n            rules: [{ required: true, message: \"Please input your state\" }],\n            initialValue: this.state.userData.state,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter State\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"postalCode\", {\n            rules: [{ required: true, message: \"Please input your Postal Code\" }],\n            initialValue: this.state.userData.postalCode,\n          })(\n            <Input\n              type=\"number\"\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Postal Code\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"timezone\", {\n            rules: [{ required: true, message: \"Please input your location's timezone\" }],\n            initialValue: selectedTimezone,\n          })(<AutoComplete placeholder={\"* Enter Location Timezone\"} dataSource={timezoneRes} style={{ width: \"100%\" }} onSelect={(e) => this.onSelect(e)} onSearch={(e) => this.onSearch(e)} />)}\n        </FormItem>\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={() => this.onSubmit()}>\n          Confirm Address\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AddressForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, Select, Dropdown, Menu } from \"antd\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/pro-regular-svg-icons\";\nimport { get } from \"lodash\";\nimport \"antd/dist/antd.css\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\n\nclass CompanyInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businessType: \"Select Business Type\",\n      dropdownError: false,\n      countryCode: \"1\",\n    };\n  }\n\n  menu() {\n    return (\n      <Menu onClick={(e) => this.handleMenuClick(e)} id={\"company-info-dropdown-menu\"}>\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n  }\n\n  handleMenuClick(e) {\n    this.setState({ businessType: e.key, dropdownError: false });\n  }\n\n  // Standardizes the phone number\n  parsePhoneNumber(phoneNumber) {\n    return phoneNumber.replace(/\\D/g, \"\");\n  }\n\n  onSubmit = (e) => {\n    const { countryCode, businessType } = this.state;\n    e.preventDefault();\n    let businessSelected = businessType.toLowerCase() !== \"Select Business Type\".toLowerCase();\n    let userType = get(this.props, \"userData.userType\", \"company\");\n\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      let errors = Object.keys(err || []);\n      if (errors.length <= 0 && (userType === \"company\" ? businessSelected : true)) {\n        let userData = {\n          ...this.props.userData,\n          firstName: values.firstName ?? \"\",\n          lastName: values.lastName ?? \"\",\n          phoneNumber: countryCode.concat(this.parsePhoneNumber(get(values, \"phone\", \"234567890\"))),\n          businessType: userType === \"individual\" ? \"other\" : businessType,\n        };\n\n        if (userType === \"individual\") {\n          if (!get(this.props, \"userData.name\", null)) userData.name = \"Individual\";\n          if (!get(this.props, \"userData.addressLineOne\", null)) userData.addressLineOne = \"\";\n          if (!get(this.props, \"userData.addressLineTwo\", null)) userData.addressLineTwo = \"\";\n          if (!get(this.props, \"userData.city\", null)) userData.city = \"\";\n          if (!get(this.props, \"userData.state\", null)) userData.state = \"\";\n          if (!get(this.props, \"userData.postalCode\", null)) userData.postalCode = \"\";\n          if (!get(this.props, \"userData.timezone\", null)) userData.timezone = \"\";\n          if (!get(this.props, \"userData.cords\", null)) userData.cords = [];\n        }\n\n        this.props.onSumbit(userData);\n      } else {\n        if (!businessSelected) this.setState({ dropdownError: true });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { businessType, dropdownError, countryCode } = this.state;\n\n    const prefixSelector = getFieldDecorator(\"prefix\", { initialValue: countryCode })(\n      <Select style={{ width: 70, borderRight: \"1px solid #d9d9d9\" }}>\n        <Option value=\"1\">+1</Option>\n      </Select>\n    );\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit} className={\"company-info-form\"}>\n        {get(this.props, \"userData.userType\", \"company\") === \"company\" && (\n          <>\n            <Form.Item className=\"form-item no-margin\" label={\"First Name:\"}>\n              {getFieldDecorator(\"firstName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your first name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter First Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item className=\"form-item no-margin\" label={\"Last Name:\"}>\n              {getFieldDecorator(\"lastName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your last name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter Last Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item label={\"Phone\"}>\n              {getFieldDecorator(\"phone\", {\n                rules: [{ required: true, message: \"Please input your phone number!\", min: 10, pattern: /^[0-9 ()-]*$/ }],\n              })(<Input addonBefore={prefixSelector} placeholder={\"Phone Number\"} />)}\n            </Form.Item>\n\n            <Form.Item label={\"Type\"}>\n              <Dropdown overlay={this.menu()} trigger={[\"click\"]} className={dropdownError ? \"button-error\" : \"\"}>\n                <Button style={{ textTransform: \"capitalize\" }}>\n                  {businessType} <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"5px\" }} />\n                </Button>\n              </Dropdown>\n            </Form.Item>\n          </>\n        )}\n\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={(e) => this.onSubmit(e)}>\n          Continue\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(CompanyInfo);\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import ReactGA from \"react-ga\";\n\n// Initializes analytics\nexport const startGoogleAnalytics = () => {\n  ReactGA.initialize(\"UA-167385126-1\", {\n    siteSpeedSampleRate: 100,\n    testMode: document.location.hostname.includes(\"business.ambii.io\") ? false : true,\n  });\n};\n\n/**\n * @param {category} - Category of action\n * @param {action} - Action user performed\n * @param {value} - (optional) any potential value\n * @param {label} - Item which was interacted with\n */\nexport const logEvent = ({ category, action, value, label }) => {\n  // console.log(\"hit event: \", { category, action, value, label });\n  ReactGA.event({\n    category,\n    action,\n    value: value ? parseInt(value) : null,\n    label,\n  });\n};\n\n// Tracks screen based on url\nexport const trackScreen = () => {\n  // console.log(\"hit screen: \", window.location.pathname + window.location.search)\n  ReactGA.pageview(window.location.pathname + window.location.search);\n};\n\n// Tracks modals when page does not reload\nexport const trackModal = (modal) => {\n  // console.log(\"hit modal: \", modal)\n  ReactGA.modalview(modal);\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { signUp, mixMaxRegister } from \"../../../actions\";\nimport AutoSearchForm from \"../autoComplete\";\nimport AddressForm from \"../addressForm\";\nimport CompanyDetails from \"../companyInfo\";\nimport { Form, Steps, Button, message, Spin } from \"antd\";\nimport { trackScreen, logEvent } from \"../../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport \"../index.scss\";\n\nconst { Step } = Steps;\nlet companySteps = [{ key: \"Company\" }, { key: \"Contact Info\" }];\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      current: 0,\n      companySearch: true,\n      steps: companySteps,\n      userData: {},\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n  }\n\n  next = (userData) => {\n    if (userData) {\n      let missingData = get(userData, \"missingData\", false);\n      if (missingData) delete userData[\"missingData\"];\n\n      this.setState({ current: missingData ? this.state.current : this.state.current + 1, userData, steps: companySteps, companySearch: missingData ? false : this.state.companySearch });\n    }\n\n    if (this.state.current === this.state.steps.length - 1) {\n      this.signUpSubmit(userData);\n    }\n  };\n\n  signUpSubmit = (userData) => {\n    this.setState({ isLoading: true }, () => {\n      if (userData) {\n        delete userData[\"missingData\"]; // Remove from final object\n        delete userData[\"companySearch\"]; // Remove from final object\n\n        this.props.actions\n          .signUp(userData)\n          .then((res) => {\n            this.props.actions.mixMaxRegister({ id: get(res, \"data.user._id\", \"\"), email: get(userData, \"email\", \"\"), name: get(userData, \"firstName\", \"Ambii\") + \" \" + get(userData, \"lastName\", \"User\") });\n            this.setState({ isLoading: false });\n            if (res.success) {\n              logEvent({ category: categories.welcome, action: actions.signup, value: get(userData, \"email\", \"\") });\n              this.props.history.push(\"/\");\n            }\n          })\n          .catch((err) => {\n            logEvent({ category: categories.welcome, action: actions.signup, value: err, label: labels.error });\n            this.setState({ isLoading: false, current: 0 });\n            message.error(get(err, \"userData.message\", \"Something went wrong. Please try again\"));\n          });\n      } else {\n        this.setState({ isLoading: false });\n        message.error(\"Fields are missing\");\n      }\n    });\n  };\n\n  prev = () => {\n    this.setState({ current: this.state.current - 1 });\n  };\n\n  render() {\n    const { current, steps, userData, isLoading, companySearch } = this.state;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={isLoading}>\n        <div className={\"signup-modal-subtitle\"}>{\"Let's set up your first location!\"}</div>\n        <div className=\"signUp-container\">\n          {current >= 0 && (\n            <Steps className=\"steps\" progressDot current={current} style={{ textAlign: \"justify\" }}>\n              {steps.map((item) => (\n                <Step key={item.key} title={item.key} />\n              ))}\n            </Steps>\n          )}\n          {\n            {\n              0: companySearch ? <div className={\"signup-modal-subsubtitle\"}>{\"Please enter business name or address\"}</div> : null,\n              1: <div className={\"signup-modal-subsubtitle\"}>{\"Please enter your contact information\"}</div>,\n            }[current]\n          }\n          <div className=\"form_container\">\n            {\n              {\n                0: companySearch ? <AutoSearchForm onSumbit={this.next} userData={userData} /> : <AddressForm onSumbit={this.next} userData={userData} />,\n                1: <CompanyDetails onSumbit={this.next} userData={userData} />,\n              }[current]\n            }\n            <div className={\"button_row\"} style={{ float: \"right\" }}>\n              {!isLoading && current > 0 && (\n                <Button onClick={() => this.prev()} style={{ marginRight: \"10px\" }}>\n                  Previous\n                </Button>\n              )}\n              {companySearch && current === 0 ? <Button onClick={() => this.setState({ companySearch: false })}>Manually Enter Company</Button> : null}\n              {!companySearch && current === 0 ? (\n                <Button onClick={() => this.setState({ companySearch: true })} style={{ marginRight: \"10px\" }}>\n                  Search Company\n                </Button>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ signUp, mixMaxRegister }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Spin, Button, message } from \"antd\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport { get } from \"lodash\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nconst FormItem = Form.Item;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLogin: false,\n      userData: {\n        email: \"\",\n        password: \"\",\n      },\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n\n    let token = localStorage.getItem(\"access-token\");\n    if (token) this.props.history.push(\"/nowPlaying\");\n  }\n\n  _onLogin = () => {\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            email: values.email,\n            password: values.password,\n          };\n          // this.props.actions\n          //   .login(userData)\n          //   .then(() => {\n          //     logEvent({ category: categories.welcome, action: actions.login });\n          //     this.setState({ isLoading: false });\n          //     this.props.history.push(\"/nowPlaying\");\n          //   })\n          //   .catch((err) => {\n          //     logEvent({ category: categories.welcome, action: actions.failedLogin });\n          //     message.error(get(err, \"message\", \"invalid email password\"));\n          //     this.setState({ isLoading: false });\n          //   });\n        });\n      } else {\n        message.error(\"Fields Required\");\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={this.state.isLoading}>\n        <div className=\"form-container\">\n          <Form className=\"form-wrapper\" hideRequiredMark={true} onSubmit={this._onLogin}>\n            <FormItem className=\"form-item no-margin\">\n              {getFieldDecorator(\"email\", {\n                rules: [\n                  { type: \"email\", message: \"The input is not a valid Email!\" },\n                  { required: true, message: \"Please input your Email!\" },\n                ],\n              })(\n                <Input\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Email\"\n                />\n              )}\n            </FormItem>\n\n            <FormItem\n              // label=\"Password\"\n              className=\"form-item\"\n            >\n              {getFieldDecorator(\"password\", {\n                rules: [{ required: true, message: \"Please input your password!\" }],\n              })(\n                <Input.Password\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Password\"\n                />\n              )}\n            </FormItem>\n            <Button className=\"login-btn\" block type=\"primary\" onClick={() => this.props.auth0.loginWithRedirect()}>\n              Login\n            </Button>\n          </Form>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(WrappedApp)));\n","import React from \"react\";\nimport \"./index.scss\";\n\nconst pairToken = ({ token, fontSize }) => (\n  <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n    {token\n      ? token.split(\"\").map((char, index) => {\n          return (\n            <div key={index} className={\"token-character\"}>\n              <p style={{ fontWeight: \"bold\", color: \"#2A2A2A\", fontSize: fontSize || \"28px\", margin: \"0\" }}>{char}</p>\n            </div>\n          );\n        })\n      : null}\n  </div>\n);\n\nexport default pairToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", null, \".st0{fill:url(#SVGID_1_)}.st1{fill:url(#SVGID_2_)}.st2{fill:url(#SVGID_3_)}.st3{fill:url(#SVGID_4_)}\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_1_\",\n  gradientUnits: \"userSpaceOnUse\",\n  y1: 112.094,\n  x2: 261.746,\n  y2: 112.094\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#63be6b\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.506,\n  stopColor: \"#5bbc6a\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#4ab96a\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M261.7 142.3L15 1.3C11.9-.5 8-.4 5 1.4c-3.1 1.8-5 5-5 8.6 0 0 .1 13 .2 34.4l179.7 179.7 81.8-81.8z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_2_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 0.152,\n  y1: 223.393,\n  x2: 179.896,\n  y2: 223.393\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#3ec6f2\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#45afe3\"\n}));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st1\",\n  d: \"M.2 44.4C.5 121.6 1.4 309 1.8 402.3L180 224.1.2 44.4z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_3_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 179.896,\n  y1: 229.464,\n  x2: 407.976,\n  y2: 229.464\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#faa51a\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.387,\n  stopColor: \"#fab716\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.741,\n  stopColor: \"#fac412\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#fac80f\"\n}));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st2\",\n  d: \"M402.9 223l-141.2-80.7-81.9 81.8 92.4 92.4L403 240.3c3.1-1.8 5-5.1 5-8.6 0-3.6-2-6.9-5.1-8.7z\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_4_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 1.744,\n  y1: 345.521,\n  x2: 272.296,\n  y2: 345.521\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#ec3b50\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#e7515b\"\n}));\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st3\",\n  d: \"M1.7 402.3c.2 33.3.3 54.6.3 54.6 0 3.6 1.9 6.9 5 8.6 3.1 1.8 6.9 1.8 10 0l255.3-148.9-92.4-92.4L1.7 402.3z\"\n});\n\nvar SvgGooglePlayStore = function SvgGooglePlayStore(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    viewBox: \"0 0 408 466.9\",\n    width: 2185,\n    height: 2500,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGooglePlayStore, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/google-play-store.6fec8523.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport \"./index.scss\";\n\nconst StationTag = ({ title, color }) => {\n  return (\n    <div className={\"station-tag\"} style={{ backgroundColor: color || null }}>\n      {title}\n    </div>\n  );\n};\n\nexport default StationTag;\n","import Auth0Lock from \"auth0-lock\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faIdBadge } from \"@fortawesome/pro-regular-svg-icons\";\n\nconst iconToDataURI = (icon) => {\n  return `data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\"><path d=\"${icon.icon[4]}\"/></svg>`;\n};\n\nexport default class Auth0Helper {\n  static initialize() {\n    // Dev\n    // window.lock = new Auth0Lock(\"MkozMO1FrxX4SNXS6xZ8y2UNpCX9RM1x\", \"auth.ambii.io\", {\n\n    // Prod\n    window.lock = new Auth0Lock(\"U6LfUnEpkLYrtnZ2u3IAuSDlraBebeGP\", \"auth.ambii.io\", {\n      configurationBaseUrl: \"https://ambii.us.auth0.com\",\n      autoclose: true,\n      autofocus: true,\n      closable: true,\n      auth: {\n        redirectUrl: window.location.origin,\n        responseType: \"id_token\",\n        sso: true,\n      },\n      theme: {\n        logo: `${window.location.origin}/icon.png`,\n        primaryColor: \"#d04283\",\n      },\n      languageDictionary: {\n        title: \"\",\n        signUpTitle: \"\",\n        forgotPasswordTitle: \"\",\n      },\n      additionalSignUpFields: [\n        // Save this in case we need it later.\n        //\n        // {\n        //   name: \"given_name\",\n        //   icon: iconToDataURI(faIdBadge),\n        //   placeholder: \"First Name\",\n        //   storage: \"root\",\n        //   validator: function (txt) {\n        //     return {\n        //       valid: txt.length > 0 && txt.length < 100,\n        //       hint: \"The first name field is required\", // optional\n        //     };\n        //   },\n        // },\n      ],\n    });\n  }\n\n  static getLock() {\n    return window.lock;\n  }\n\n  static isLoggedIn() {\n    return localStorage.getItem(\"access-token\");\n  }\n\n  static login() {\n    window.lock.show();\n  }\n\n  static signUp() {\n    window.lock.show({ initialScreen: \"signUp\" });\n  }\n\n  static logout() {\n    localStorage.removeItem(\"access-token\");\n    localStorage.removeItem(\"location-jwt\");\n    window.lock.logout();\n  }\n}\n","import React, { Component } from \"react\";\nimport { Layout, Spin, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getStationDetails, assignStation, toggleFavorite } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport StationTag from \"../stationTag\";\nimport { tagTypes, hashCode, checkForMobile } from \"../../util\";\nimport { get, isEqual } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlayCircle } from \"@fortawesome/pro-regular-svg-icons\";\nimport { faHeart, faChevronLeft } from \"@fortawesome/pro-solid-svg-icons\";\nimport AntSpinner from \"../antSpinner\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\n\nconst { Content } = Layout;\n\nlet resizeListener = null;\n\nclass StationDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      station: {},\n      isBackgroundImage: false,\n      explicit: false,\n      startStationDisabled: false,\n      favoriteDisabled: false,\n      isMobile: false,\n    };\n  }\n\n  componentDidMount() {\n    this.checkForMobile();\n\n    // Scrolls us to top of page when page loads\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n\n    // Listens for window resize\n    resizeListener = window.addEventListener(\"resize\", () => {\n      this.checkForMobile();\n    });\n\n    this.setStationDetails();\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"playlistId\", null), get(prevProps, \"playlistId\", null))) {\n      this.setStationDetails();\n    }\n  }\n\n  async setStationDetails() {\n    this.setState({ isLoading: true }, async () => {\n      const id = get(this.props, \"match.params.id\", null) || get(this.props, \"playlistId\", null);\n      if (id) {\n        let result = await this.props.actions.getStationDetails(id);\n        let explicit = get(result, \"explicit\", false);\n        this.setState({ isLoading: false, explicit, station: result });\n      } else this.setState({ isLoading: false });\n    });\n  }\n\n  assignStation = () => {\n    const { location, close, history, actions, user } = this.props;\n    const { station } = this.state;\n\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n\n    this.setState({ startStationDisabled: true }, () => {\n      let companyId = get(user, \"company._id\", \"\");\n      actions.assignStation(companyId, station._id).then(() => {\n        logEvent({ category: categories.discover, action: actions.startStation, value: get(station, \"_id\", \"Error\") });\n        if (get(location, \"pathname\", \"\").toLowerCase().includes(\"nowplaying\")) close();\n        else history.push(\"/nowPlaying\", { isBack: true });\n      });\n    });\n  };\n\n  favoriteStation = () => {\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n    this.setState({ favoriteDisabled: true }, () => {\n      let locationId = get(this.props, \"myLocation._id\", \"\");\n      let stationId = get(this.state, \"station._id\", \"\");\n      let favorites = get(this.props, \"myLocation.favorites\", []);\n\n      this.props.actions.toggleFavorite({ locationId, stationId, favorites }).then(() => {\n        logEvent({ category: categories.general, action: actions.toggledFavorite, value: stationId });\n        this.setState({ favoriteDisabled: false });\n      });\n    });\n  };\n\n  checkForMobile() {\n    const { isBackgroundImage } = this.state;\n    this.setState({ isMobile: checkForMobile() }, () => {\n      if (this.state.isMobile && !isBackgroundImage) this.setStationBackgroundImage();\n      if (!this.state.isMobile && isBackgroundImage) this.removeStationBackgroundImage();\n    });\n  }\n\n  setStationBackgroundImage() {\n    let { station } = this.state;\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = \"url('\" + station.cover + \"')\";\n        if (station.cover) this.setState({ isBackgroundImage: true });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  removeStationBackgroundImage() {\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = null;\n        this.setState({ isBackgroundImage: false });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  checkIfFavorited(station) {\n    let favorites = get(this.props, \"myLocation.favoritesMap\", []);\n    if (favorites[station]) return true;\n    else return false;\n  }\n\n  render() {\n    const { isLoading, station, explicit, startStationDisabled, favoriteDisabled, isMobile, source } = this.state;\n    let thisStationId = get(station, \"_id\", \"\");\n    let stationQueue = get(station, \"track\", []);\n    let stationFavorited = this.checkIfFavorited(thisStationId);\n    let hasSchedule = get(this.props, \"myLocation.schedule._id\", \"\");\n    let isActiveStation = hasSchedule ? false : get(this.props, \"myLocation.station._id\", \"\") === thisStationId;\n\n    return (\n      <Layout className=\"create-layout\">\n        <Content className=\"create-body\">\n          <Spin indicator={AntSpinner} spinning={isLoading}>\n            <div id=\"station-header\" className=\"cover-content-wrapper\" style={{ backgroundColor: station.hex !== undefined ? station.hex : \"#aa4e9f\" }}>\n              <div className=\"headerLeft\">\n                <div className=\"station-head-wrapper\">\n                  <h1 className=\"cover-heading\">{station.name}</h1>\n                  {explicit && <StationTag title={tagTypes.explicit.name} color={tagTypes.explicit.color} />}\n                </div>\n\n                <div className=\"cover-btn-div\">\n                  {isMobile && source !== \"dashboard\" && (\n                    <Button size=\"large\" className=\"cover-btn\" onClick={() => this.props.history.push(\"/discover\", { isBack: true })}>\n                      <FontAwesomeIcon icon={faChevronLeft} className={\"cover-icon\"} />\n                      <div>Back</div>\n                    </Button>\n                  )}\n                  <Button size=\"large\" className={\"cover-btn\".concat(isActiveStation ? \" disabledButton\" : \"\")} disabled={isActiveStation || startStationDisabled} onClick={this.assignStation}>\n                    <Spin indicator={AntSpinner} spinning={startStationDisabled}>\n                      {isActiveStation ? null : <FontAwesomeIcon icon={faPlayCircle} className={\"cover-icon\"} />}\n                      <div> {isActiveStation ? \"Now Playing\" : \"Start\"} </div>\n                    </Spin>\n                  </Button>\n                  <Button size=\"large\" className=\"cover-btn\" disabled={favoriteDisabled} onClick={this.favoriteStation}>\n                    <Spin indicator={AntSpinner} spinning={favoriteDisabled}>\n                      <FontAwesomeIcon icon={faHeart} className={\"cover-icon\".concat(stationFavorited ? \" favorited\" : \"\")} />\n                      <div> {stationFavorited ? \"Favorited\" : \"Favorite\"} </div>\n                    </Spin>\n                  </Button>\n                </div>\n                <div className=\"description\">{station.description}</div>\n              </div>\n\n              <div className=\"headerRight\">\n                <img src={!station.cover && station.name ? hashCode(station.name) : station.cover} className=\"stationImage\" alt={\"\"} />\n              </div>\n            </div>\n            <div className={\"station-table-wrapper\"}>\n              <div className={\"station-table-item station-table-header\"}>\n                <div className={\"station-table-track title\"}>\n                  <h1>Track</h1>\n                </div>\n                <div className={\"station-table-artist title\"}>\n                  <h1>Artist/Album</h1>\n                </div>\n              </div>\n              {stationQueue.map((track, i) => (\n                <div className={\"station-table-item\"} key={track._id} style={{ opacity: i > stationQueue.length * 0.5 ? (stationQueue.length + 1 - i) / stationQueue.length : 1 }}>\n                  <div className={\"station-table-track\"}>{track.title}</div>\n                  <div className={\"station-table-artist\"}>\n                    {track.artist[0]}, {track.album}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Spin>\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ getStationDetails, assignStation, toggleFavorite }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    stations: state.stations.data,\n    count: state.stations.count,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationDetails));\n","import React from \"react\";\nimport \"./index.scss\";\n\n/**\n * @param {bool} animate - Should bpm be animated\n * @param {number} speed - Animation speed\n * @param {number} value - Value to display next to '<value> BPM'\n * @param {string} display - [\"column\", \"row\"] - Styling of the bpm div\n * @param {bool} hideText - Display the bpm\n * @param {object} style - React in-line styling\n */\n\nconst BPM = ({ animate, speed, value, display, hideText, style }) => (\n  <div className={\"bpm-container\".concat(display === \"column\" ? \" column\" : \" row\")} style={style}>\n    <div className={\"beat-container\"} style={{ animation: animate ? `bpm ${speed}s linear infinite` : \"none\" }} />\n    {!hideText && value && <div className={\"bpm-text\"}>{`${parseInt(value).toFixed(0)} BPM`}</div>}\n  </div>\n);\n\nexport default BPM;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\n/**\n * @param {string} title - Big text to display\n * @param {string} subtitle - Small text below title\n * @param {object} style - React in-line styling\n * @param {bool} backArrow - Show back arrow\n * @param {function} backArrowPress - Action to take when back arrow pressed\n */\n\nconst PageTitle = ({ title, subtitle, style, backArrow, backArrowPress }) => {\n  return (\n    <div className={\"title-container\"} style={style}>\n      <div className={\"flexRow\"} style={{ alignItems: \"center\" }}>\n        {backArrow && (\n          <div className=\"backArrow\" onClick={backArrowPress}>\n            <FontAwesomeIcon icon={faArrowLeft} />\n          </div>\n        )}\n        <div className={\"flexCol\"}>\n          <div className={\"create-list-view-title\"}> {title} </div>\n          <div className={\"create-list-view-subtitle\"}> {subtitle} </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PageTitle;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./index.scss\";\n\nclass DashboardModule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { title, content, icon, style } = this.props;\n    let contentArray = Array.isArray(content);\n\n    return (\n      <div className=\"dashboard-module\" style={style}>\n        <div className=\"dashboard-header\">\n          <div className=\"dashboard-icon\">{icon && <FontAwesomeIcon icon={icon} style={{ fontSize: \"24px\" }} />}</div>\n          <div className=\"dashboard-title\">{title}</div>\n          <div className=\"dashboard-icon\"></div>\n        </div>\n        <div className=\"dashboard-content\">{contentArray ? React.Children.map(content, (child) => React.cloneElement(child)) : content}</div>\n      </div>\n    );\n  }\n}\n\nexport default DashboardModule;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { disconnectPlayer, setIsPlaying, skipSong, setDisableSkip, getStation, addPlayerListeners, removePlayerListeners, updateStationListener, updateCurrentTrackListener, removeStationListener, connectPlayer, playerError, assignStation, toggleExplicit } from \"../../actions\";\nimport { socket, socketChannels } from \"../../configs/socket\";\nimport PairToken from \"../../components/pairToken\";\nimport { get, isEqual, stubTrue } from \"lodash\";\nimport { Button, Modal, Spin, Switch } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMobile, faSpeaker, faTvMusic, faTv, faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport { faCommentMusic, faMusic, faHeartbeat, faKey, faCog, faPause, faPlay, faStepForward } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faApple } from \"@fortawesome/free-brands-svg-icons\";\nimport { checkForMobile, getDeviceId } from \"../../util\";\nimport { ReactComponent as GooglePlay } from \"../../images/google-play-store.svg\";\nimport AmbiiLogo from \"../../images/ambii_logo_inverse.png\";\nimport AdBlockDetect from \"react-ad-block-detect\";\nimport StationDetails from \"../../components/stationDetails\";\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\nimport BPM from \"../../components/bpm\";\nimport PageTitle from \"../../components/page-title\";\nimport { categories, actions, labels } from \"../../constants\";\nimport DashboardModule from \"../../components/dashboardModule\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\n\nlet errorTimer = null;\nlet testInterval = null;\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile: checkForMobile(),\n      isLoading: false,\n      loadingPlayer: false,\n      artistName: \"\",\n      searchText: undefined,\n      isFixHeader: false,\n      pageHeight: 0,\n      showStationSearch: false,\n      showAppModal: false,\n      showConnectModal: false,\n      showErrorModal: false,\n      playlistModalId: false,\n      playButtonDisabled: false,\n      userName: \"\",\n      errorTitle: \"\",\n      errorMessage: \"\",\n      errorIcon: \"\",\n      errorButton: \"\",\n      playerInfo: {\n        token: get(this.props, \"myLocation.token\", \"\"),\n        deviceName: \"web\",\n        uniqueId: getDeviceId(),\n        deviceBrand: \"web\",\n        override: false,\n      },\n      loadingExplicit: false,\n      explicitAllowed: false,\n      currentSongTime: \"0:00\",\n      currentSongDuration: \"0:00\",\n      controllerStyle: false,\n    };\n  }\n\n  componentDidMount() {\n    let { myLocation, user, actions } = this.props;\n\n    trackScreen();\n    MobileAppCommunicator.send(\"pairCode\", get(myLocation, \"token\", \"\"));\n    this.checkPlayerState();\n\n    this.setState({ isMobile: checkForMobile(), userName: this.createUserName() }, () => {\n      if (this.state.isMobile) logEvent({ category: categories.dashboard, action: actions.viewedMobile });\n    });\n\n    // Connect sockets\n    if (get(user, \"_id\", null)) {\n      socket.emit(socketChannels.connect, { userId: user._id });\n      actions.addPlayerListeners();\n      actions.updateStationListener();\n      actions.updateCurrentTrackListener();\n    }\n  }\n\n  checkPlayerState = () => {\n    let { myLocation, player } = this.props;\n\n    let deviceBrand = get(myLocation, \"pairedDevice.deviceBrand\", \"\");\n    let isThisDevicePlaying = deviceBrand && get(this.state, \"playerInfo.uniqueId\", \"\") === get(myLocation, \"pairedDevice.uniqueId\", \"\");\n\n    let playerInfo = { ...this.state.playerInfo };\n    playerInfo.token = get(myLocation, \"token\", \"\");\n\n    // FALSE - NO DEVICE IS PLAYING\n    // WEB - THIS DEVICE IS PLAYING MUSIC\n    // OTHER - ANOTHER WEB DEVICE IS PLAYING MUSIC\n    // MOBILE - A MOBILE DEVICE IS PLAYING MUSIC\n\n    this.setState({ playerInfo, isLoading: !get(myLocation, \"station\", null) ? true : false, explicitAllowed: get(myLocation, \"explicitAllowed\", false), controllerStyle: !deviceBrand ? false : isThisDevicePlaying ? \"WEB\" : !isThisDevicePlaying ? \"OTHER\" : \"MOBILE\" }, () => {\n      // If player is visible\n      if (get(player, \"showPlayer\", null)) {\n        this.getSongTime(); // Grab song times at start\n\n        // If player is playing\n        if (get(player, \"isPlaying\", null)) {\n          clearInterval(testInterval);\n          testInterval = setInterval(() => {\n            this.getSongTime(); // Grab song times at start\n          }, 100);\n        }\n      } else {\n        clearInterval(testInterval);\n      }\n    });\n  };\n\n  componentWillUnmount() {\n    try {\n      this.props.actions.removePlayerListeners();\n      this.props.actions.removeStationListener();\n      clearInterval(testInterval);\n      clearTimeout(errorTimer);\n    } catch (err) {\n      console.log(\"caught error when unmounting 'nowPlaying' page: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // If paired device or station is updated (and is not null)\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null)) && get(this.props, \"myLocation\", null)) {\n      if (!get(this.props, \"myLocation.station\", null)) this.props.history.push(\"/discover\");\n      this.checkPlayerState();\n    }\n\n    if (!isEqual(get(this.props, \"player.playerError\", null), get(prevProps, \"player.playerError\", null)) && get(this.props, \"player.playerError.error\", null)) {\n      console.log(\"got player error!\", get(this.props, \"player.playerError\", {}));\n\n      let errorTitle = get(this.props, \"player.playerError.title\", \"\");\n      let errorMessage = get(this.props, \"player.playerError.message\", \"\");\n      let errorIcon = get(this.props, \"player.playerError.icon\", \"\");\n      let errorButton = get(this.props, \"player.playerError.button\", \"\");\n\n      this.setState({ showErrorModal: true, errorTitle, errorMessage, errorIcon, errorButton }); // Open the error modal\n      this.props.actions.playerError({}); // Reset player error in redux\n      trackModal(\"Error Modal\"); // Track Error Modal\n      logEvent({ category: categories.dashboard, value: errorMessage, label: labels.error });\n\n      errorTimer = setTimeout(() => {\n        this.closeErrorMessage();\n        clearTimeout(errorTimer);\n        errorTimer = null;\n      }, 300 * 1000);\n    }\n\n    if (!isEqual(get(this.props, \"player.isPlaying\", null), get(prevProps, \"player.isPlaying\", null)) || !isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      clearInterval(testInterval);\n      testInterval = setInterval(() => {\n        if (get(this.props, \"player.isPlaying\", null)) this.getSongTime();\n        else this.getSongTime();\n      }, 100);\n    }\n\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.checkPlayerState();\n    }\n\n    // If playback device has changed\n    if (!isEqual(get(this.props, \"myLocation.pairedDevice.deviceName\", null), get(prevProps, \"myLocation.pairedDevice.deviceName\", null))) {\n      console.log(\"Changed playback device\");\n    }\n  }\n\n  // Gets the song time / duration from the music bar\n  getSongTime() {\n    try {\n      let currentSongTime = document.getElementById(\"current-song-time\").innerHTML;\n      let currentSongDuration = document.getElementById(\"current-song-duration\").innerHTML;\n      let songCompletion = document.getElementById(\"invis-current-song-time\").innerHTML;\n      this.setState({ currentSongTime, currentSongDuration, songCompletion });\n    } catch (err) {\n      console.log(\"getSongTime err: \", err);\n    }\n  }\n\n  // Creates a username based on user's first / last name\n  createUserName() {\n    let firstName = get(this.props, \"user.firstName\", \"\");\n    let lastName = get(this.props, \"user.lastName\", \"\");\n\n    firstName = firstName.substring(0, 1).toUpperCase() + firstName.substring(1, firstName.length);\n    lastName = lastName.substring(0, 1).toUpperCase() + lastName.substring(1, lastName.length);\n\n    return firstName + \" \" + lastName;\n  }\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Playlist Modal\");\n    logEvent({ category: categories.dashboard, action: actions.stationPreview, value: playlistId, label: labels.button });\n  };\n\n  afterCreateStaion = () => {\n    this.setState({ showStationSearch: false });\n  };\n\n  toggleStationSearch = () => {\n    const showStationSearch = !this.state.showStationSearch;\n    this.setState({ showStationSearch });\n    if (showStationSearch) {\n      setTimeout(() => {\n        const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n        if (collapse && collapse.length) {\n          collapse[0].scrollIntoView();\n        }\n      }, 100);\n    }\n  };\n\n  parseLocationName = (myLocation) => {\n    if (!myLocation) return;\n    return myLocation.split(\",\")[0];\n  };\n\n  // Gets track data from our station\n  getTrackData(currentTrack) {\n    const { myLocation } = this.props;\n    let useTrack = currentTrack;\n    if (!useTrack) useTrack = get(myLocation, \"station.track[0]\", null);\n    let obj = {\n      songImage: get(useTrack, \"picture\", null),\n      locationName: get(myLocation, \"name\", null),\n      songTrack: get(useTrack, \"title\", null),\n      bpm: get(useTrack, \"bpm\", null),\n      songArtist: get(useTrack, \"artist\", null),\n      token: get(myLocation, \"token\", null),\n      stationName: get(myLocation, \"station.name\", null),\n    };\n\n    if (Array.isArray(obj.songArtist)) obj.songArtist = obj.songArtist[0];\n\n    return obj;\n  }\n\n  // Actions when user presses Connect\n  connectPress = () => {\n    this.setState({ showAppModal: true });\n    trackModal(\"Connect Modal\"); // Track Connect Modal\n    logEvent({ category: categories.dashboard, action: actions.connect, label: labels.button });\n  };\n\n  loadPlayer = ({ override }) => {\n    let data = { ...this.state.playerInfo, override };\n    this.setState({ loadingPlayer: true }, () => {\n      this.props.actions.connectPlayer(data).then(() => {\n        this.setState({ showConnectModal: false, loadingPlayer: false });\n      });\n    });\n  };\n\n  // Actions when user presses Change Station\n  changeStationPress = () => {\n    logEvent({ category: categories.dashboard, action: actions.button, value: \"Back\", label: labels.button });\n    this.props.history.push(\"/discover\");\n  };\n\n  playStation = () => {\n    const { playButtonDisabled } = this.state;\n    if (!playButtonDisabled) {\n      this.setState({ playButtonDisabled: true }, () => {\n        this.props.actions\n          .connectPlayer(this.state.playerInfo)\n          .then((res) => {\n            this.setState({ playButtonDisabled: false }, () => {\n              if (res === \"DEVICE_ALREADY_PAIRED\") {\n                trackModal(\"Device Already Connected Modal\");\n                this.setState({ showConnectModal: true });\n              }\n              logEvent({ category: categories.dashboard, action: actions.startPlayer, label: labels.button });\n            });\n          })\n          .catch((err) => {\n            this.setState({ playButtonDisabled: false });\n            console.log(\"caught err: \", err);\n          });\n      });\n    }\n  };\n\n  openLink(link) {\n    window.open(link, \"_blank\");\n  }\n\n  closeErrorMessage() {\n    this.setState({ showErrorModal: false, errorTitle: \"\", errorMessage: \"\", errorIcon: \"\", errorButton: \"\" });\n  }\n\n  openAdBlockMessage() {\n    this.setState({\n      showErrorModal: true,\n      errorTitle: \"Please Disable Ad-Block\",\n      errorMessage: \"All of our advertisements help fund small business relief programs. Please help us help them by disabling your ad-blocker.\",\n      errorIcon: <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} style={{ color: \"#d04283\" }} />,\n      errorButton: \"Ok, Got It\",\n    });\n  }\n\n  toggleExplicit = () => {\n    this.setState({ loadingExplicit: true }, () => {\n      this.props.actions\n        .toggleExplicit({\n          locationId: get(this.props, \"myLocation._id\", \"\"),\n          currentTrack: get(this.props, \"currentTrack\", null),\n        })\n        .then((explicitAllowed) => {\n          this.setState({ loadingExplicit: false, explicitAllowed });\n        });\n    });\n  };\n\n  // Things to do for mobile\n  sendToMobileDevice(token) {\n    if (get(window, \"inApp\", false)) MobileAppCommunicator.send(\"player\", \"player/\" + token);\n    else this.openLink(\"https://ambii.app.link/OpenMobile\");\n  }\n\n  // Skip Song functionality\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { isApple } = this.props;\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { isLoading, explicitAllowed, loadingExplicit, songCompletion, controllerStyle, showAppModal, showConnectModal, showErrorModal, loadingPlayer, errorTitle, errorMessage, errorIcon, errorButton, playlistModalId, userName, isMobile, playButtonDisabled, currentSongTime, currentSongDuration } = this.state;\n    let songData = this.getTrackData(get(this.props, \"myLocation.currentTrack\", null));\n    let { songImage, locationName, songTrack, songArtist, token, stationName } = songData;\n    let isIndividual = get(this.props, \"myLocation.company.isIndividual\", get(this.props, \"myLocation.name\", \"\").toLowerCase() === \"individual\");\n    let locationInUse = get(this.props, \"myLocation.isPlaying\", false); // Is this location playing music anywhere (any device)\n    let activeStation = get(this.props, \"myLocation.station._id\", null);\n    let scheduleName = get(this.props, \"myLocation.schedule.name\", false);\n    let scheduleId = get(this.props, \"myLocation.schedule._id\", \"\");\n\n    let hasTrackOverflow = false;\n    let hasArtistOverflow = false;\n    let bpm = get(songData, \"bpm\", 100);\n    if (!bpm) bpm = 100; // If no bpm, default it to 100bpm\n\n    let nowPlayingInfoWrapper = document.getElementById(\"now-playing-info-wrapper\") || null;\n    let nowPlayingTrack = document.getElementById(\"now-playing-track\") || null;\n    let nowPlayingArtist = document.getElementById(\"now-playing-artist\") || null;\n\n    if (nowPlayingInfoWrapper && nowPlayingTrack && nowPlayingArtist) {\n      nowPlayingInfoWrapper = nowPlayingInfoWrapper.getBoundingClientRect().width - (checkForMobile() ? 0 : 310);\n      nowPlayingTrack = nowPlayingTrack.getBoundingClientRect().width;\n      nowPlayingArtist = nowPlayingArtist.getBoundingClientRect().width;\n\n      if (nowPlayingInfoWrapper < nowPlayingTrack) hasTrackOverflow = true;\n      if (nowPlayingInfoWrapper < nowPlayingArtist) hasArtistOverflow = true;\n    }\n\n    return (\n      <div className={\"dashboard-page-wrapper\"}>\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={\"80%\"} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} source={\"dashboard\"} />\n        </Modal>\n        <PageTitle\n          title={\n            <span>\n              Welcome <span style={{ color: \"#D04283\" }}>Back</span>\n            </span>\n          }\n          subtitle={isIndividual ? userName : locationName}\n          backArrow={true}\n          backArrowPress={() => this.changeStationPress()}\n        />\n\n        <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\", maxHeight: \"100%\" }}>\n          <div className=\"dashboard-content-wrapper\">\n            <div className=\"nowPlayingContainer\">\n              <div className=\"imgAndInfo\" id={\"now-playing-info-wrapper\"}>\n                <div className=\"songImageContainer\">\n                  <img className=\"songImage noselect\" src={songImage} alt={\"\"} />\n                </div>\n                <div className=\"infoContainer\">\n                  <div className=\"nowPlayingTitle\">\n                    Now Playing\n                    {locationInUse && bpm && <BPM animate={true} speed={60 / bpm} value={bpm} hideText={true} style={{ marginLeft: \"12px\", justifyContent: \"flex-start\" }} />}\n                  </div>\n                  <div className=\"songTitle\" style={{ justifyContent: isMobile && !hasTrackOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-track\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                      {songTrack}\n                    </span>\n                  </div>\n                  <div className=\"songArtist\" style={{ justifyContent: isMobile && !hasArtistOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-artist\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                      {songArtist}\n                    </span>\n                  </div>\n                  <div>\n                    Station:\n                    <span className={\"now-playing-station\"} onClick={() => this.showPlaylistModal(activeStation)}>\n                      {stationName}\n                    </span>\n                  </div>\n                  {scheduleName && (\n                    <div>\n                      Schedule:\n                      <span className={\"now-playing-station\"} onClick={() => this.props.history.push(`/createSchedule/${scheduleId}`)}>\n                        {scheduleName}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                <div className={\"adblock-div\"} onClick={() => this.openAdBlockMessage()}>\n                  <AdBlockDetect>\n                    <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} />\n                  </AdBlockDetect>\n                </div>\n              </div>\n            </div>\n\n            <div className={\"module-row\"}>\n              {controllerStyle === \"MOBILE\" ? (\n                <DashboardModule\n                  title={\"Playing on Mobile\"}\n                  icon={faMobile}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"OTHER\" ? (\n                <DashboardModule\n                  title={\"Playing on Another Device\"}\n                  icon={faTv}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"WEB\" ? (\n                <DashboardModule\n                  title={\"Playing on Web\"}\n                  icon={faTv}\n                  style={{ backgroundColor: \"#D04283\", borderColor: \"#FFF\", color: \"#FFF\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-music-controller\"}>\n                        <div className=\"dashboard-music-time\">\n                          {currentSongTime} / {currentSongDuration}\n                        </div>\n                        <div className=\"dashboard-music-controls\">\n                          {/* Play/Pause Button */}\n                          {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(false)} /> : <FontAwesomeIcon icon={faPlay} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(stubTrue)} />}\n\n                          {/* Skip Button */}\n                          {<FontAwesomeIcon icon={faStepForward} className={\"music-controller-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n\n                          {/* Close Button */}\n                          <FontAwesomeIcon icon={faTimes} className={\"music-controller-icon close-icon\"} onClick={() => this.props.actions.disconnectPlayer()} />\n                        </div>\n                      </div>\n\n                      {/* Mobile Button */}\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\", marginTop: \"10px\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              ) : (\n                <DashboardModule\n                  title={\"Play Music\"}\n                  icon={faMusic}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginBottom: \"15px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              )}\n\n              <div className={\"flexCol\"} style={{ justifyContent: \"space-evenly\" }}>\n                <DashboardModule title={\"Store Code\"} icon={faKey} content={[<PairToken token={token} fontSize={\"22px\"} />]} />\n\n                <DashboardModule\n                  title={\"Settings\"}\n                  icon={faCog}\n                  content={\n                    <div className={\"dashboard-setting-wrapper\"}>\n                      <div className={\"dashboard-setting-text\"}>Allow Explicit</div>\n                      <div className={\"dashboard-setting-option\"}>\n                        <Switch style={{ width: \"30px\" }} checked={explicitAllowed} disabled={explicitAllowed === null} loading={loadingExplicit} onClick={() => this.toggleExplicit()} />\n                      </div>\n                    </div>\n                  }\n                />\n              </div>\n            </div>\n          </div>\n        </Spin>\n\n        {/* CONNECTION INSTRUCTIONS */}\n        <Modal visible={showAppModal} onOk={() => this.setState({ showAppModal: false })} onCancel={() => this.setState({ showAppModal: false })} width=\"80%\" footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Connect Device</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"mobile-phone\"}>\n                <FontAwesomeIcon icon={faMobile} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faMusic} className={\"special-music-icon\"} />\n              </div>\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"speaker-group\"}>\n                <FontAwesomeIcon icon={faSpeaker} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faCommentMusic} className={\"connect-music-icon\"} />\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">\n              {isApple ? (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on the App Store.\n                </>\n              ) : (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on Google Play or the App Store onto your mobile device\n                </>\n              )}\n            </div>\n\n            <div className=\"store-wrapper rowItem\">\n              <img src={AmbiiLogo} className={\"connect-music-icon ambii-logo\"} alt={\"\"} />\n              <div className=\"store-button-wrapper\" onClick={() => this.openLink(\"https://play.google.com/store/apps/details?id=com.ambii_business_music\")}>\n                {!isApple && (\n                  <div className=\"store-button\">\n                    <GooglePlay className={\"connect-music-icon brand-icon\"} style={{ width: 24, height: 48 }} />\n                    <div className=\"store-button-text\">\n                      <div className=\"store-button-subtitle\">Download on</div>\n                      <div className=\"store-button-title\"> Google Play </div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"store-button\" onClick={() => this.openLink(\"https://apps.apple.com/us/app/ambii-music-for-business/id1501666271\")}>\n                  <FontAwesomeIcon icon={faApple} className={\"connect-music-icon brand-icon\"} style={{ fontSize: \"32px\" }} />\n                  <div className=\"store-button-text\">\n                    <div className=\"store-button-subtitle\">Download on</div>\n                    <div className=\"store-button-title\"> App Store </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">2. Once downloaded, enter your Store Code</div>\n\n            <div className=\"connect-text\" style={{ marginTop: \"25px\", fontSize: \"24px\" }}>\n              Store Code: <span className=\"connect-token\">{token}</span>\n            </div>\n          </div>\n        </Modal>\n\n        {/* DEVICE ALREADY CONNECTED */}\n        <Modal visible={showConnectModal} onOk={() => this.setState({ showConnectModal: false })} onCancel={() => this.setState({ showConnectModal: false })} width=\"80%\" footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Device Already Connected!</div>\n            <div className=\"connect-text\">Another device is already connected to this account. Would you like to play music on this device instead?</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n            </div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton\"} disabled={loadingPlayer} onClick={() => this.loadPlayer({ override: true })}>\n                <Spin indicator={AntSpinner} spinning={loadingPlayer}>\n                  Yes, Connect\n                </Spin>\n              </Button>\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.setState({ showConnectModal: false })}>\n                No, Cancel\n              </Button>\n            </div>\n          </div>\n        </Modal>\n\n        {/* WEB PLAYER OVERRIDEN */}\n        <Modal visible={showErrorModal} onOk={() => this.closeErrorMessage()} onCancel={() => this.closeErrorMessage()} width=\"80%\" footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">{errorTitle}</div>\n\n            <div className=\"connect-text\">{errorMessage}</div>\n\n            <div className=\"connect-display rowItem\">{errorIcon}</div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.closeErrorMessage()}>\n                {errorButton ? errorButton : \"Ok\"}\n              </Button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        updateStationListener,\n        updateCurrentTrackListener,\n        removeStationListener,\n        getStation,\n        connectPlayer,\n        playerError,\n        assignStation,\n        toggleExplicit,\n        setDisableSkip,\n        skipSong,\n        setIsPlaying,\n        disconnectPlayer,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    player: state.player,\n    currentTrack: state.auth.location.currentTrack,\n    isApple: state.auth.isApple,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport \"./index.scss\";\n\nexport default class MoodTag extends Component {\n  state = {\n    isHovered: false,\n  };\n\n  onMouseOver = () => {\n    this.setState({ isHovered: true });\n  };\n  onMouseOut = () => {\n    this.setState({ isHovered: false });\n  };\n\n  render() {\n    const { performSelect, text } = this.props;\n    return (\n      <div className=\"mood_tag\" onMouseEnter={this.onMouseOver} onMouseLeave={this.onMouseOut} onClick={performSelect}>\n        <span style={{ marginLeft: 8 }}>{text}</span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ReactResizeDetector from \"react-resize-detector\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport MoodTag from \"./mood_tag\";\nimport \"./index.scss\";\n\nexport default class MoodTagSearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: this.props.items,\n      search: \"\",\n      isSearchFocused: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  removeTag = (mood) => () => {\n    this.props.performSelect(mood);\n  };\n\n  onChangeText = (e) => {\n    this.setState({ search: e.target.value }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  performSelect = (mood) => () => {\n    this.props.performSelect(mood);\n    this.setState({ search: \"\" }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  filterTagArray = () => {\n    const second = new Set(this.props.selectedTags);\n    const difference = [...this.state.tags].filter((x) => !second.has(x));\n    return difference;\n  };\n\n  handleClick = (e) => {\n    if (this.node.contains(e.target)) {\n      return;\n    }\n\n    this.setState({ isSearchFocused: false });\n  };\n\n  render() {\n    const { search, isSearchFocused } = this.state;\n\n    return (\n      <ReactResizeDetector handleHeight>\n        {({ height }) => (\n          <div className=\"mood_container\" ref={(node) => (this.node = node)}>\n            <div className={`input-tag ${isSearchFocused ? \"red-focus\" : \"\"}`}>\n              <ul className=\"input-tag__tags\" ref={(tagListRef) => (this.tagListRef = tagListRef)}>\n                {this.props.selectedTags.map((tag, i) => (\n                  <li key={i}>\n                    {tag}\n                    <button type=\"button\" className=\"remove_btn\" onClick={this.removeTag(tag)}>\n                      +\n                    </button>\n                  </li>\n                ))}\n                <li className=\"input-tag__tags__input\">\n                  <textarea\n                    className=\"mood_searchBar\"\n                    type=\"text\"\n                    placeholder=\"Search Moods or Languages\"\n                    onFocus={() => this.setState({ isSearchFocused: true })}\n                    value={search}\n                    onChange={this.onChangeText}\n                    ref={(c) => {\n                      this.tagInput = c;\n                    }}\n                  />\n                  <FontAwesomeIcon icon={faSearch} color=\"rgba(95, 95, 95, 0.4)\" />\n                </li>\n              </ul>\n            </div>\n            {isSearchFocused ? (\n              <div className=\"tag-result\" style={{ position: \"absolute\", top: height }}>\n                {this.filterTagArray().map((mood, i) => (\n                  <MoodTag key={i} text={mood} performSelect={this.performSelect(mood)} />\n                ))}\n              </div>\n            ) : null}\n          </div>\n        )}\n      </ReactResizeDetector>\n    );\n  }\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSnooze, faTurtle, faSquirrel, faRabbitFast, faRocket } from \"@fortawesome/pro-regular-svg-icons\";\nimport \"./index.scss\";\n\nconst TEMPOS = [\n  {\n    icon: faSnooze,\n    label: \"Slower\",\n    min: 0,\n    max: 59,\n  },\n  {\n    icon: faTurtle,\n    label: \"Slow\",\n    min: 60,\n    max: 119,\n  },\n  {\n    icon: faSquirrel,\n    label: \"Moderate\",\n    min: 120,\n    max: 189,\n  },\n  {\n    icon: faRabbitFast,\n    label: \"Fast\",\n    min: 190,\n    max: 249,\n  },\n  {\n    icon: faRocket,\n    label: \"Faster\",\n    min: 250,\n    max: Number.MAX_SAFE_INTEGER,\n  },\n];\n\nexport default function TempoSelection(props) {\n  const performSelectTempo = (tempo, index) => () => {\n    if (index !== props.currentSelectedTempo) {\n      props.selectTempo(tempo, index);\n    } else {\n      props.deSelectTempo();\n    }\n  };\n\n  const renderTempos = () => {\n    return TEMPOS.map((tempo, i) => (\n      <div key={i} className=\"wrapper\">\n        <div\n          className=\"energy\"\n          onClick={performSelectTempo([tempo.min, tempo.max], i)}\n          style={{\n            backgroundColor: i === props.currentSelectedTempo ? \"rgba(95, 95, 95, 0.1)\" : \"white\",\n          }}\n        >\n          <div className=\"content\">\n            <div className=\"inner\">\n              <FontAwesomeIcon icon={tempo.icon} className=\"tempo_icon\" />\n              <span>{tempo.label}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ));\n  };\n\n  return <div className=\"tempo_container\">{renderTempos()}</div>;\n}\n","import React from \"react\";\nimport { Range } from \"rc-slider\";\nimport \"./index.scss\";\n\nconst LABEL = [`10's`, `00's`, `90's`, `80's`, `70's`, `60's`].reverse();\n\nexport default function EraSelection(props) {\n  const renderLabel = () => {\n    return LABEL.map((label, i) => (\n      <div id={i} className=\"label_container\">\n        <span className=\"label\">{label}</span>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"era_container\">\n      <Range\n        step={10}\n        min={1950}\n        max={2020}\n        defaultValue={props.defaultValue}\n        dots\n        onAfterChange={props.selectEra}\n        trackStyle={[{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }]}\n        railStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\n        dotStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\", border: \"none\" }}\n        handleStyle={[\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n        ]}\n      />\n      <div className=\"labels\">\n        <div id=\"oldies\">Oldies</div>\n        <div className=\"label_body\">{renderLabel()}</div>\n        <div id=\"modern\">Modern</div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport MoodTagSearchBar from \"../../mood_tag_search_bar\";\nimport TempoSelection from \"../../tempo_selection\";\nimport EraSelection from \"../../era_selection\";\n\nconst AdvanceFilter = ({ browseMoods, currentSelectedTempo, onSelectTempo, onDeselectTempo, browseEraRange, onSelectEra, onSelectMood }) => (\n  <div>\n    <div className=\"moodWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">{\"Tags\"}</div>\n      <div className=\"browseSelectionsContainer\">\n        <MoodTagSearchBar items={Object.keys(browseMoods)} selectedTags={Object.keys(browseMoods).filter((mood) => browseMoods[mood] === true)} performSelect={onSelectMood} />\n      </div>\n    </div>\n\n    <div className=\"tempoWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">{\"Energy\"}</div>\n      <div className=\"browseSelectionsContainer\">\n        <TempoSelection currentSelectedTempo={currentSelectedTempo} selectTempo={onSelectTempo} deSelectTempo={onDeselectTempo} />\n      </div>\n    </div>\n\n    {/* <div className=\"eraWrapper\" style={{ margin: 'auto' }}>\n          <div className=\"browseSettingsTitle\">{'Era'}</div>\n          <div className=\"browseSelectionsContainer\">\n            <EraSelection\n              defaultValue={[browseEraRange.from, browseEraRange.to]}\n              selectEra={onSelectEra}\n            />\n          </div>\n        </div> */}\n  </div>\n);\n\nexport default AdvanceFilter;\n","import React from \"react\";\nimport { Modal, Avatar } from \"antd\";\nimport \"./index.scss\";\n\nconst TracksModal = ({ visible, onCancel, tracks, title }) => (\n  <Modal title={title} visible={visible} onCancel={onCancel} footer={[]}>\n    {tracks.map((track, key) => (\n      <div className=\"track-container\" key={key}>\n        {track.albumCover ? <Avatar shape=\"square\" size={50} src={track.albumCover} /> : <Avatar shape=\"square\" size={50} icon=\"user\" />}\n        <div>\n          <p style={{ marginLeft: 10 }} className=\"heading-regular margin-0\">\n            {track.title}\n          </p>\n          <p style={{ marginLeft: 10 }} className=\"margin-0\">\n            {track.artist}\n          </p>\n        </div>\n      </div>\n    ))}\n  </Modal>\n);\n\nexport default TracksModal;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { genreColors } from \"../../constants\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\n/**\n * @param {array} genres - Array of genres\n * @param {bool} showStats - Display of text % (such as '72%', 26%', ...)\n * @param {object} style - React in-line styling\n * @param {object} simple - Show only the genre color bar (no bpm info)\n */\n\nconst GenreColorBar = ({ genres, roundBottom, bpm, simple }) => {\n  const data = Object.entries(genres || [])\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n\n  let dataA,\n    dataB,\n    dataC = 0;\n\n  try {\n    dataA = data[0][1];\n    dataB = data[1][1];\n    dataC = data[2][1];\n  } catch (err) {\n    console.log(\"Not all genre fields available\");\n  }\n\n  const totalPercentage = (dataA && dataA > 0.1 ? dataA : 0) + (dataB && dataB > 0.1 ? dataB : 0) + (dataC && dataC > 0.1 ? dataC : 0);\n\n  const calculateEachPercentage = (percent) => {\n    return percent / totalPercentage;\n  };\n\n  let bpmInfo = getBPMInfo(bpm);\n\n  return (\n    <div className=\"genre-container\">\n      <div className=\"genre-color-bar\">\n        {data.map((music, i) => {\n          const genre = music[0];\n          const percent = calculateEachPercentage(music[1]);\n\n          return (\n            <div className={\"genre-wrapper\"} style={{ width: `${percent * 100}%`, display: percent > 0.1 ? \"flex\" : \"none\" }} key={genre}>\n              <div\n                className={\"genre-chunk\"}\n                style={{\n                  backgroundColor: genreColors[genre],\n                  borderBottomLeftRadius: i === 0 && roundBottom ? \"8px\" : null,\n                  borderBottomRightRadius: i === genres.length - 1 && roundBottom ? \"8px\" : null,\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n\n      {!simple && (\n        <div className={\"genre-tile-info-wrapper\"}>\n          <div className={\"genre-tile-genre-wrapper\"}>\n            {data.map((music, i) => {\n              const genre = music[0];\n              const percent = calculateEachPercentage(music[1]);\n\n              if (percent > 0.1) {\n                return (\n                  <div className={\"flexRow\"} key={genre}>\n                    <div className={\"genre-color-dot\"} style={{ backgroundColor: genreColors[genre] }} />\n                    <span style={{ position: \"relative\", bottom: 4, left: 4, fontWeight: i === 0 ? \"bold\" : \"normal\" }}>{genre}</span>\n                  </div>\n                );\n              }\n            })}\n          </div>\n          <div className={\"genre-bpm\"}>\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} className={\"bpm-icon\"} />\n            <div>{get(bpmInfo, \"title\", \"\")}</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GenreColorBar;\n","import React from \"react\";\nimport TracksModal from \"../tracksModal\";\nimport { logEvent } from \"../../../configs/google-analytics\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport { hashCode } from \"../../../util\";\nimport GenreColorBar from \"../../genre-color-bar\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass PublicStation extends React.PureComponent {\n  state = {\n    modalVisible: false,\n    hovered: false,\n  };\n\n  showModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  hideModal = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  stationPress = (id, name) => {\n    const { history } = this.props;\n    if (id) {\n      logEvent({ category: categories.discover, action: actions.button, value: name, label: labels.button });\n      history.push(`/station/${id}`);\n    }\n  };\n\n  isMobile = function () {\n    let check = false;\n    (function (a) {\n      if (\n        /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n          a.substr(0, 4)\n        )\n      )\n        check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n  };\n\n  playStation = (e) => {\n    const { _id, company, name, assignStation } = this.props;\n    e.stopPropagation();\n    let companyId = get(company, \"_id\", \"\");\n    assignStation(companyId, _id).then(() => {\n      logEvent({ category: categories.discover, action: actions.startStation, value: name, label: labels.button });\n      this.props.history.push(\"/nowPlaying\", { isBack: true });\n    });\n  };\n\n  render() {\n    const { modalVisible } = this.state;\n    const { bpm, genres, _id, hex, track, title, type, rowIndex, browse, showPlaylistModal, isApple, explicit } = this.props;\n\n    let tileStyle = type === \"advanced\" ? \"advanced-station-preview\" : \"public-station noselect\";\n    let previewCardStyle = (_id ? \"item-container pointer\" : \"item-container-preview item-container pointer\").concat(rowIndex === 0 ? \" first-row\" : \"\");\n    let name = get(this.props, \"name\", \"\");\n    let bpmMean = get(bpm, \"mean\", 1);\n\n    return (\n      <div className={tileStyle} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })} style={browse ? { margin: \"0px 0px 10px 0px\", border: \"2px solid white\" } : { border: \"2px solid white\" }}>\n        <div\n          className={previewCardStyle}\n          onClick={() => {\n            this.isMobile() ? this.stationPress(_id, name) : showPlaylistModal(_id);\n          }}\n          style={{ backgroundColor: hex, backgroundImage: `url(${hashCode(this.props.name)})` }}\n        >\n          <div className={\"station-tile-header\"}>\n            {type !== \"advanced\" && (\n              <div style={_id ? {} : { fontSize: 14 }} className=\"name\">\n                {name ? name.replace(\" (Explicit)\", \"\") : title}\n              </div>\n            )}\n          </div>\n        </div>\n        {track && track.length ? <TracksModal title={name} visible={modalVisible} onCancel={this.hideModal} tracks={track} /> : null}\n        <div className={\"info-container\"}>\n          <GenreColorBar genres={genres} showStats={isApple ? false : true} bpm={bpmMean || 100} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PublicStation;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"antd\";\nimport PublicStation from \"../public_stations/publicStation\";\nimport { assignStation } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { supersetDescriptions, categories, actions, labels } from \"../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft, faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass StationSection extends Component {\n  state = {\n    showArrows: false,\n    showLeftArrow: true,\n    showRightArrow: true,\n    diff: 0,\n  };\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n    const preMargin = Math.round((outer * 5) / 100);\n    this.setState({ diff: inner - outer + preMargin });\n    if (inner > outer) {\n      this.setState({ showArrows: true });\n    } else {\n      this.setState({ showArrows: false });\n    }\n  }\n\n  render() {\n    let { id, title, type, showViewAll, rowIndex, isApple } = this.props;\n    let data = get(this.props, \"data\", []);\n\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n\n    return (\n      <section className=\"feature-section\" id={id} style={!showViewAll ? { padding: \"25px 0px\" } : {}}>\n        <div className=\"feature-section-head-wrapper\">\n          <div className=\"feature-section-title-wrapper\">\n            <div className=\"preMargin\" />\n            <div className=\"heading heading-large\"> {title} </div>\n            {!showViewAll && (\n              <Button type=\"primary\" onClick={() => buttonPress(0, type, this.props.history)}>\n                <FontAwesomeIcon icon={faChevronLeft} />\n                Go back\n              </Button>\n            )}\n          </div>\n        </div>\n        <div className=\"description\">{supersetDescriptions[title]}</div>\n\n        <div className=\"blurredWrapper\">\n          <div\n            className=\"blurredEdgeStart\"\n            onMouseEnter={() => {\n              this.rightMoveSpeed = 2;\n              this.scrollRight = setInterval(() => {\n                this.rightMoveSpeed = Math.min(12, this.rightMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: -this.rightMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollRight);\n            }}\n          >\n            {showArrows && showLeftArrow ? <FontAwesomeIcon icon={faCaretLeft} /> : null}\n          </div>\n          <ScrollContainer\n            className=\"stationPreviewWrapper\"\n            ref={(me) => (this.scrollView = me)}\n            onScroll={(e) => {\n              if (e === 0) {\n                this.setState({ showLeftArrow: false });\n              } else {\n                this.setState({ showLeftArrow: true });\n              }\n              if (e === diff) {\n                this.setState({ showRightArrow: false });\n              } else {\n                this.setState({ showRightArrow: true });\n              }\n            }}\n          >\n            <div className=\"preMargin\" />\n            <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n              {data.map((item, index) => (\n                <PublicStation assignStation={this.props.actions.assignStation} showPlaylistModal={this.props.showPlaylistModal} company={this.props.company} history={this.props.history} key={index} rowIndex={rowIndex} isApple={isApple} {...item} />\n              ))}\n            </div>\n          </ScrollContainer>\n          <div\n            className=\"blurredEdgeEnd\"\n            onMouseEnter={() => {\n              this.leftMoveSpeed = 2;\n              this.scrollLeft = setInterval(() => {\n                this.leftMoveSpeed = Math.min(12, this.leftMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: this.leftMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollLeft);\n            }}\n          >\n            {showArrows && showRightArrow ? <FontAwesomeIcon icon={faCaretRight} /> : null}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\n// Button Press actions\nconst buttonPress = (clicked, type, history) => {\n  if (clicked === 0) {\n    history.push(\"/discover\", { isBack: true });\n  }\n  if (clicked === 1) {\n    logEvent({ category: categories.discover, action: actions.button, value: \"View More\", label: labels.button });\n    history.push(`/stations/${type}`);\n  }\n};\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeStationPreview: state.activeStationPreview,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationSection));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"./index.scss\";\n\nexport default class GenresSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showArrows: false,\n      showLeftArrow: false,\n      showRightArrow: true,\n      diff: 0,\n    };\n  }\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n\n    this.setState({ diff: inner - outer });\n\n    if (inner > outer) this.setState({ showArrows: true });\n    else this.setState({ showArrows: false });\n  }\n  render() {\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n    return (\n      <div className=\"genre_container\">\n        <div\n          className=\"edgeStart\"\n          onMouseEnter={() => {\n            let rightMoveSpeed = 2;\n            this.scrollRight = setInterval(() => {\n              rightMoveSpeed = Math.min(12, rightMoveSpeed + 0.1);\n              if (showLeftArrow) this.scrollView.getElement().scrollBy({ left: -rightMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollRight);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon className=\"icon\" icon={faCaretLeft} style={{ fontSize: 24, color: showLeftArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n        <ScrollContainer\n          className=\"itemWrapper\"\n          ref={(me) => (this.scrollView = me)}\n          onScroll={(e) => {\n            if (e === 0) this.setState({ showLeftArrow: false });\n            else this.setState({ showLeftArrow: true });\n\n            if (e === diff) this.setState({ showRightArrow: false });\n            else this.setState({ showRightArrow: true });\n          }}\n        >\n          <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n            {this.props.items}\n          </div>\n        </ScrollContainer>\n        <div\n          className=\"edgeEnd\"\n          onMouseEnter={() => {\n            let leftMoveSpeed = 2;\n            this.scrollLeft = setInterval(() => {\n              leftMoveSpeed = Math.min(12, leftMoveSpeed + 0.1);\n              this.scrollView.getElement().scrollBy({ left: leftMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollLeft);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon icon={faCaretRight} style={{ fontSize: 24, color: showRightArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { SlideDown } from \"react-slidedown\";\nimport { Dropdown, Button, Menu, Modal, Input } from \"antd\";\nimport { Range } from \"rc-slider\";\nimport { addPlayerListeners, removePlayerListeners, getDiscoverPulicStations, assignStation } from \"../../../actions\";\nimport AdvanceFilter from \"../advance_filter\";\nimport StationsSection from \"../../../components/stationSection\";\nimport PublicStation from \"../../../components/public_stations/publicStation\";\nimport StationDetails from \"../../../components/stationDetails\";\nimport GenresSection from \"../../genre_section\";\nimport { Animated } from \"react-animated-css\";\nimport { Spin } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../../configs/google-analytics\";\nimport { get, isEqual } from \"lodash\";\nimport { userTypes, supersets, categories, actions, labels, defaultStationCount } from \"../../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faFilter } from \"@fortawesome/pro-solid-svg-icons\";\nimport { capitolizeFirstLetter, checkForMobile } from \"../../../util\";\nimport PageTitle from \"../../../components/page-title\";\nimport UncontrolledLottie from \"../../../components/UncontrolledLottie\";\nimport ControlledLottie from \"../../../components/ControlledLottie\";\nimport AdFree from \"../../../lotties/lottie_ad_free.json\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport \"../index.scss\";\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      artistName: \"\",\n      searchText: \"\",\n      isStation: false,\n      isFixHeader: false,\n      showStationSearch: false,\n      showAppModal: false,\n      businessType: \"other\",\n      browseGenres: {},\n      defaultGenres: {}, // An easy reset for browseGenres\n      browseMoods: {},\n      browseTempoRange: {\n        min: 30,\n        max: 150,\n      },\n      browseEraRange: {\n        from: 1950,\n        to: 2020,\n      },\n      playlistModalId: null,\n      playlists: null, // Station Sections\n      calculatedPlaylists: null,\n      // showAdFreeModal: true,\n      showAdvanceSearch: false,\n      isFiltering: false,\n      currentSelectedTempo: -1,\n      hasSelectedGenres: {},\n      loadNumber: defaultStationCount,\n    };\n  }\n\n  getBusinessType() {\n    let businessType = get(this.props, \"myLocation.company.businessType\", \"restaurant\").toLowerCase();\n    if (businessType.toLowerCase() === \"other\") businessType = \"other\";\n    this.setState({ businessType });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null))) {\n      this.getBusinessType();\n    }\n  }\n\n  async componentDidMount() {\n    trackScreen();\n\n    this.getBusinessType();\n\n    this.props.actions.getDiscoverPulicStations().then((res) => {\n      let playlists = get(res, \"playlistList\", []);\n\n      let browseGenres = playlists.reduce((total, current) => {\n        Object.keys(current.genres).forEach((genre) => {\n          total[genre] = false;\n        });\n        return total;\n      }, {});\n      let browseMoods = playlists.reduce((total, current) => {\n        Object.keys(current.moods).forEach((mood) => {\n          total[mood] = false;\n        });\n        return total;\n      }, {});\n\n      this.setState({ isLoading: false, playlists, browseGenres, defaultGenres: browseGenres, browseMoods }, this.calculateBrowse);\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.actions.removePlayerListeners();\n  }\n\n  activateDot = (activeIndex) => {\n    let dots = document.getElementById(\"dots\").getElementsByTagName(\"li\");\n    for (let i = 0; i < dots.length; i++) {\n      if (i === activeIndex) {\n        dots[i].classList.add(\"current\");\n      } else {\n        dots[i].classList.remove(\"current\");\n      }\n    }\n  };\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  afterCreateStaion = (e) => {\n    this.setState({\n      isStation: true,\n      showStationSearch: false,\n    });\n    this.props.history.push(\"/nowPlaying\");\n  };\n\n  toggleStationSearch = () => {\n    const { showStationSearch } = this.state;\n    this.setState({ showStationSearch: !showStationSearch }, () => {\n      if (showStationSearch) {\n        setTimeout(() => {\n          const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n          if (collapse && collapse.length) {\n            collapse[0].scrollIntoView();\n          }\n        }, 100);\n      } else\n        logEvent({\n          category: categories.discover,\n          action: actions.advancedBrowse,\n          label: labels.button,\n        });\n    });\n  };\n\n  calculateBrowse = () => {\n    const { loadNumber } = this.state;\n\n    // function capable of building a percentage list of an incoming object\n    const buildPercentages = (obj) => {\n      var returnedObj = {};\n      var keys = Object.keys(obj).filter((key) => obj[key]);\n      keys.forEach((key) => {\n        returnedObj[key] = 1 / keys.length;\n      });\n      return returnedObj;\n    };\n\n    const toVector = (obj, target) => {\n      var vector = [];\n      Object.keys(target).forEach((key) => {\n        if (obj[key]) {\n          vector.push(obj[key]);\n        } else {\n          vector.push(0);\n        }\n      });\n      return vector;\n    };\n\n    const cosSim = (A, B) => {\n      var dotproduct = 0;\n      var mA = 0;\n      var mB = 0;\n      for (var i = 0; i < A.length; i++) {\n        dotproduct += A[i] * B[i];\n        mA += A[i] * A[i];\n        mB += B[i] * B[i];\n      }\n      mA = Math.sqrt(mA);\n      mB = Math.sqrt(mB);\n      var similarity = dotproduct / (mA * mB);\n      return similarity;\n    };\n\n    const scoreString = (searchString, targetString) => {\n      var score = 0;\n\n      for (var i = 0; i < searchString.length; i++) {\n        for (var j = i + 1; j < searchString.length + 1; j++) {\n          var ngram = searchString.slice(i, j);\n          if (!targetString.includes(ngram)) {\n            break;\n          }\n\n          score += Math.pow(ngram.length, 1.5) / targetString.length;\n        }\n      }\n\n      return score;\n    };\n\n    // start by filtering by tempo\n    var playlists = this.state.playlists.filter((playlist) => {\n      if (playlist.bpm.mean > this.state.browseTempoRange.max) {\n        return false;\n      }\n      if (playlist.bpm.mean < this.state.browseTempoRange.min) {\n        return false;\n      }\n      return true;\n    });\n\n    if (!this.state.searchText) {\n      var targetGenres = buildPercentages(this.state.browseGenres);\n      var targetMoods = buildPercentages(this.state.browseMoods);\n\n      var genresSelected = Object.keys(targetGenres).length !== 0;\n      var moodsSelected = Object.keys(targetMoods).length !== 0;\n\n      targetGenres = toVector(targetGenres, this.state.browseGenres);\n      targetMoods = toVector(targetMoods, this.state.browseMoods);\n\n      var genreSimilarities = {};\n      if (genresSelected) {\n        playlists.forEach((playlist) => {\n          genreSimilarities[playlist._id] = cosSim(toVector(playlist.genres, this.state.browseGenres), targetGenres);\n        });\n      }\n\n      var moodSimilarities = {};\n      if (moodsSelected) {\n        playlists.forEach((playlist) => {\n          moodSimilarities[playlist._id] = cosSim(toVector(playlist.moods, this.state.browseMoods), targetMoods);\n        });\n      }\n\n      playlists = playlists.sort((a, b) => {\n        var total = 0;\n        if (genresSelected) total += (genreSimilarities[b._id] - genreSimilarities[a._id]) * 0.5;\n        if (moodsSelected) total += (moodSimilarities[b._id] - moodSimilarities[a._id]) * 0.5;\n        return total;\n      });\n    } else {\n      playlists = playlists\n        .map((playlist) => {\n          var searchScore = 0;\n          searchScore += scoreString(this.state.searchText, playlist.name);\n          if (playlist.description) searchScore += scoreString(this.state.searchText, playlist.description);\n          return { ...playlist, searchScore: searchScore };\n        })\n        .sort((a, b) => {\n          return b.searchScore - a.searchScore;\n        });\n    }\n\n    // return only the top 12\n    playlists = playlists.slice(0, loadNumber);\n    this.setState({ calculatedPlaylists: playlists });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Station Preview: \" + playlistId);\n  };\n\n  updatePreference(e) {\n    this.setState({ businessType: e.key });\n    logEvent({\n      category: categories.discover,\n      action: actions.updatePreference,\n      value: e.key,\n      label: labels.button,\n    });\n  }\n\n  _checkIfAllFalse = (arr) => {\n    for (const select of arr) {\n      if (select === true) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  _checkIsFiltering = () => {\n    const { searchText, browseGenres, browseMoods, currentSelectedTempo } = this.state;\n    const isSearching = searchText.length > 0;\n    const isSelectingGenre = this._checkIfAllFalse(Object.values(browseGenres)) === false;\n    const isSelectingMood = this._checkIfAllFalse(Object.values(browseMoods)) === false;\n    const isSelectingTempo = currentSelectedTempo > -1;\n\n    return isSearching || isSelectingGenre || isSelectingMood || isSelectingTempo;\n  };\n\n  onSetFiltering = () => {\n    if (this._checkIsFiltering()) this.setState({ isFiltering: true });\n    else this.setState({ isFiltering: false });\n  };\n\n  onSelectGenre = (genre) => () => {\n    let hasSelectedGenres = { ...this.state.hasSelectedGenres };\n    hasSelectedGenres[genre] ? delete hasSelectedGenres[genre] : (hasSelectedGenres[genre] = true);\n\n    this.setState({ hasSelectedGenres, browseGenres: { ...this.state.browseGenres, [genre]: !this.state.browseGenres[genre] }, showAdvanceSearch: Object.keys(hasSelectedGenres).length <= 0 ? false : true, loadNumber: defaultStationCount }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n    });\n  };\n\n  onSelectMood = (mood) => {\n    this.setState({ browseMoods: { ...this.state.browseMoods, [mood]: !this.state.browseMoods[mood] } }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n    });\n  };\n\n  onSelectTempo = (tempo, index) => {\n    this.setState({ browseTempoRange: { min: tempo[0], max: tempo[1] }, currentSelectedTempo: index }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n    });\n  };\n\n  onDeselectTempo = () => {\n    this.setState({ browseTempoRange: { min: 30, max: 150 }, currentSelectedTempo: -1 }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n    });\n  };\n\n  onSelectEra = (era) => {\n    this.setState({ browseEraRange: { from: era[0], to: era[1] } });\n  };\n\n  onSetSearchText = (e) => {\n    this.setState({ searchText: e.target.value }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  };\n\n  clearAdvancedFilters = (e) => {\n    this.setState({ searchText: \"\", hasSelectedGenres: {}, browseGenres: this.state.defaultGenres, loadNumber: defaultStationCount }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  };\n\n  loadMoreStations() {\n    this.setState({ loadNumber: this.state.loadNumber + defaultStationCount }, () => {\n      this.calculateBrowse();\n    });\n  }\n\n  render() {\n    const { isApple } = this.props;\n    const { showAdFreeModal, browseMoods, isLoading, playlists, businessType, playlistModalId, showAdvanceSearch, currentSelectedTempo, browseEraRange, isFiltering, browseGenres, searchText, calculatedPlaylists, hasSelectedGenres } = this.state;\n\n    let globalStations = {};\n    let businessTypeStations = {};\n    let userType = get(this.props, \"user.role\", null);\n    let company = get(this.props, \"user.company\", \"\");\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n    let hasFavorites = favorites.length > 0 ? true : false;\n    let favoritesQueue = {};\n    if (hasFavorites) favoritesQueue[\"Favorites\"] = favorites;\n\n    for (var superset of supersets.global) globalStations[superset] = [];\n\n    let businessTypeSuperset = businessType.toLowerCase() === \"other\" && userType === userTypes.Individual ? supersets[\"defaultIndividual\"] : supersets[businessType.toLowerCase()];\n\n    for (var superset of businessTypeSuperset) businessTypeStations[superset] = [];\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) {\n            globalStations[playlistSuperset].push(playlist);\n          }\n          if (playlistSuperset in businessTypeStations) {\n            businessTypeStations[playlistSuperset].push(playlist);\n          }\n        }\n      }\n    }\n\n    const businessTypeMenu = (\n      <Menu onClick={(e) => this.updatePreference(e)} selectedKeys={[businessType]} className=\"menu-wrapper\">\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n\n    return (\n      <div className={\"discoverWrapper\"} id=\"discover-container\">\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={\"80%\"} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails login={this.props.login} playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} />\n        </Modal>\n        <div className=\"create-body\">\n          <div className=\"discover-head-wrapper\">\n            <PageTitle\n              title={\n                <span>\n                  Let's Find Your\n                  <span style={{ color: \"#D04283\" }}>&nbsp;ambii</span>-ance\n                </span>\n              }\n              subtitle={\"Discover the right music for your business\"}\n              style={{ flex: 1 }}\n            />\n\n            {userType !== userTypes.Individual && (\n              <div className={\"discover-buttons\"}>\n                <div className={\"viewOptions\"}>\n                  <Dropdown overlay={businessTypeMenu} trigger={[\"click\"]} className={\"preference-menu\"}>\n                    <Button className={\"preference-menu-button\"}>\n                      <span style={{ marginRight: \"5px\", color: \"black\" }}>Preference:</span>\n                      {capitolizeFirstLetter(businessType)}\n                      <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"8px\" }} />\n                    </Button>\n                  </Dropdown>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\" }}>\n            {isLoading && <div style={{ width: \"100%\", height: \"30vh\" }}></div>}\n            {!isLoading && (\n              <Animated animationIn=\"fadeIn\" isVisible={true}>\n                <div className=\"browseSettingsContainer\">\n                  <div className=\"searchWrapper\">\n                    <div className=\"searchInput\">\n                      <Input.Search className=\"searchBar\" placeholder=\"Search\" value={searchText} onChange={this.onSetSearchText} />\n                    </div>\n                    <Button onClick={() => this.setState((prevState) => ({ showAdvanceSearch: !prevState.showAdvanceSearch }))} className={showAdvanceSearch ? \"active\" : null}>\n                      <FontAwesomeIcon icon={faFilter} style={{ paddingRight: \"4px\" }} />\n                      Filters\n                    </Button>\n                    {(searchText.length > 0 || Object.keys(hasSelectedGenres).length > 0) && (\n                      <Button onClick={() => this.clearAdvancedFilters()} style={{ marginLeft: \"10px\" }}>\n                        Clear\n                      </Button>\n                    )}\n                  </div>\n                  <div className=\"genreWrapper\">\n                    <div className=\"browseSelectionsContainer\">\n                      <GenresSection\n                        items={Object.keys(browseGenres).map((genre) => (\n                          <span\n                            key={genre}\n                            className=\"mobileGenreItem\"\n                            onClick={this.onSelectGenre(genre)}\n                            style={{\n                              backgroundColor: browseGenres[genre] ? \"rgba(95, 95, 95, 0.2)\" : \"transparent\",\n                            }}\n                          >\n                            {genre}\n                          </span>\n                        ))}\n                      />\n                    </div>\n                  </div>\n\n                  <SlideDown style={{ width: \"100%\" }}>{showAdvanceSearch ? <AdvanceFilter browseMoods={browseMoods} currentSelectedTempo={currentSelectedTempo} browseEraRange={browseEraRange} onSelectTempo={this.onSelectTempo} onDeselectTempo={this.onDeselectTempo} onSelectEra={this.onSelectEra} onSelectMood={this.onSelectMood} /> : null}</SlideDown>\n                  {showAdvanceSearch && (\n                    <div\n                      style={{\n                        width: \"100%\",\n                        boxShadow: \"0 4px 2px -2px rgba(0, 0, 0, 0.2)\",\n                        height: 8,\n                        transition: \".2s ease\",\n                        marginTop: \"10px\",\n                      }}\n                    />\n                  )}\n\n                  {isFiltering ? (\n                    <div className=\"advanced-station-wrapper\">\n                      <div className=\"playlistsContainer\">\n                        {calculatedPlaylists\n                          ? calculatedPlaylists.map((playlist, i) => {\n                              return (\n                                <div className=\"playlistContainer\" key={get(playlist, \"_id\", i)}>\n                                  <PublicStation showPlaylistModal={this.showPlaylistModal} assignStation={this.props.actions.assignStation} company={company} browse={true} history={this.props.history} {...playlist} />\n                                </div>\n                              );\n                            })\n                          : null}\n                      </div>\n                      <Button className={\"load-more\"} onClick={() => this.loadMoreStations()}>\n                        Load More\n                      </Button>\n                    </div>\n                  ) : null}\n                </div>\n\n                {!isFiltering ? (\n                  <div>\n                    {hasFavorites &&\n                      Object.keys(favoritesQueue).map((favorite, i) => {\n                        return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={favorite} id={favorite} rowIndex={i} title={favorite} type={favorite} data={favoritesQueue[favorite]} source={\"discover\"} isApple={isApple} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(globalStations).map((superset, i) => {\n                        return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} rowIndex={hasFavorites ? null : i} title={superset} type={superset} data={globalStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(businessTypeStations).map((superset) => {\n                        return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} title={superset} type={superset} data={businessTypeStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                  </div>\n                ) : null}\n              </Animated>\n            )}\n          </Spin>\n          <div className=\"pageFooter\" />\n        </div>\n\n        {/* AD FREE */}\n        {/* <Modal\n          visible={showAdFreeModal}\n          onOk={() => this.setState({ showAdFreeModal: false })}\n          onCancel={() => this.setState({ showAdFreeModal: false })}\n          width=\"80%\"\n          footer={[]}\n          className=\"app-modal\"\n        >\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">\n              Welcome to <span style={{ color: '#D04283' }}>Ambii</span>\n            </div>\n            <div className=\"connect-text\">\n              We've set you up with 60 days of ad-free music, on us!\n            </div>\n            <div className=\"connect-text\" style={{ marginTop: '25px' }}>\n              After the 60 days, there's no pressure to subscribe or give us\n              your credit card information. Our advertisements let us promise to\n              be <span style={{ color: '#D04283' }}>Free. Forever!</span>\n            </div>\n            <div className=\"connect-animation\">\n              <UncontrolledLottie animationData={AdFree} />\n            </div>\n            <div className=\"connect-text\">\n              Now, simply choose any station and start playing music!\n            </div>\n            <div className=\"connect-button-group\" style={{ marginTop: '25px' }}>\n              <Button\n                type=\"primary\"\n                className={'big-button'}\n                onClick={() => this.setState({ showAdFreeModal: false })}\n              >\n                Get Started\n              </Button>\n            </div>\n          </div>\n        </Modal> */}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        getDiscoverPulicStations,\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    isApple: state.auth.isApple,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport Lottie from \"react-lottie\";\n\nclass ControlledLottie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isStopped: false,\n      isPaused: false,\n    };\n  }\n\n  render() {\n    const { animationData } = this.props;\n\n    // const buttonStyle = {\n    //     display: 'inline-block',\n    //     margin: '10px auto',\n    //     marginRight: '10px',\n    //     border: 'none',\n    //     color: 'white',\n    //     backgroundColor: '#647DFF',\n    //     borderRadius: '2px',\n    //     fontSize: '15px'\n\n    // };\n\n    const defaultOptions = {\n      loop: true,\n      autoplay: true,\n      animationData,\n      rendererSettings: {\n        preserveAspectRatio: \"xMidYMid slice\",\n      },\n    };\n\n    return (\n      <div className=\"controlled\">\n        <Lottie options={defaultOptions} height={400} width={400} isStopped={this.state.isStopped} isPaused={this.state.isPaused} />\n      </div>\n    );\n  }\n}\n\nexport default ControlledLottie;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport GenreColorBar from \"../genre-color-bar\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass StationTile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovered: false,\n    };\n  }\n\n  render() {\n    const { data, simple } = this.props;\n    let key = get(data, \"_id\", data);\n    let name = get(data, \"name\", \"\");\n    let bpm = get(data, \"bpm.mean\", 100).toFixed(0);\n    let genres = get(data, \"genres\", []);\n    let bpmInfo = getBPMInfo(bpm);\n\n    return (\n      <div className=\"schedule-playlist draggable-events\" title={name} data={key} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })}>\n        <div className=\"flexRow station-content noselect\">\n          <div className=\"name\"> {name} </div>\n          <div className=\"bpm-wrapper\">\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} style={{ fontSize: 24 }} />\n          </div>\n        </div>\n        <GenreColorBar genres={genres} roundBottom={true} simple={simple} />\n      </div>\n    );\n  }\n}\n\nexport default StationTile;\n","import React, { Component } from \"react\";\nimport StationTile from \"../station-tile\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nlet MIN_COUNT = 5;\n\nclass StationVerticalList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  toggleExpand() {\n    this.setState({ expanded: !this.state.expanded });\n  }\n\n  render() {\n    const { label, data } = this.props;\n    const { expanded } = this.state;\n    let displayData = [...data];\n\n    if (!expanded) displayData = displayData.slice(0, MIN_COUNT);\n\n    return (\n      <div className=\"music-section-wrapper\">\n        <div className=\"music-section-header\"> {label} </div>\n        {displayData.map((elem) => (\n          <StationTile data={elem} key={get(elem, \"_id\", elem)} simple />\n        ))}\n\n        {data.length > MIN_COUNT && (\n          <div className=\"view-more\" onClick={() => this.toggleExpand()}>\n            {expanded ? \"View Less\" : \"View More\"}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default StationVerticalList;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPenSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport \"./index.scss\";\n\nclass ToggleInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      activeInput: false,\n    };\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    try {\n      document.addEventListener(\"mousedown\", (e) => this.handleClickOutside(e));\n      document.addEventListener(\"keypress\", (e) => this.handleKeyDown(e));\n    } catch (err) {\n      console.log(\"caught didMount toggleInput err: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!isEqual(get(this.props, \"text\", \"\"), get(prevProps, \"text\", \"\"))) {\n      console.log(\"props: \", this.props);\n      this.setState({ text: get(this.props, \"text\", \"\") });\n    }\n\n    if (!get(this.state, \"activeInput\", false) && !isEqual(get(this.state, \"activeInput\", false), get(prevState, \"activeInput\", false))) {\n      console.log(\"onUpdate: \", this.state);\n      this.props.onUpdate(this.state.text);\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\n      document.removeEventListener(\"keypress\", this.handleKeyDown);\n    } catch (err) {\n      console.log(\"caught willUnmount toggleInput err: \", err);\n    }\n  }\n\n  // Tries to capture 'enter' press\n  handleKeyDown(e) {\n    if (get(e, \"key\", \"\").toLowerCase() === \"enter\") {\n      this.setState({ activeInput: false });\n    }\n  }\n\n  // Listens for clicks outside this component\n  handleClickOutside(e) {\n    let current = get(this, \"inputRef.current\", \"\");\n    if (current && !current.contains(e.target)) this.setState({ activeInput: false });\n  }\n\n  // Handles updating text changes\n  handleUpdate = (e) => {\n    let copy = { ...e };\n    let val = get(copy, \"target.value\", \"\");\n    this.setState({ text: val.length > 0 && val.length < 40 ? val : val.substring(0, 40) });\n  };\n\n  // Handles input focus toggle\n  toggleInput = () => {\n    try {\n      this.setState({ activeInput: !this.state.activeInput }, () => {\n        this.inputRef.current.focus(); // Autofocus the input\n      });\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  };\n\n  render() {\n    const { activeInput, text } = this.state;\n\n    return (\n      <div className={\"toggle-input noselect\"}>\n        {!activeInput && (\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n            <div className=\"scheduleName\" onClick={() => this.toggleInput()}>\n              {text}\n            </div>\n            <FontAwesomeIcon icon={faPenSquare} className=\"icon inputIcon\" onClick={() => this.toggleInput()} />\n          </div>\n        )}\n        {activeInput && <input ref={this.inputRef} onChange={(e) => this.handleUpdate(e)} className=\"scheduleNameInput\" placeholder={text} />}\n      </div>\n    );\n  }\n}\n\nexport default ToggleInput;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getDiscoverPulicStations, setSchedule, getSchedule } from \"../../actions\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\"; // needed for dayClick\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faDesktop, faSmile } from \"@fortawesome/pro-light-svg-icons\";\nimport { Modal, Button, Spin } from \"antd\";\nimport StationVerticalList from \"../../components/stationVerticalList\";\nimport { isEqual, get } from \"lodash\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions, labels, supersets } from \"../../constants\";\nimport { checkForMobile } from \"../../util\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport ToggleInput from \"../../components/toggleInput\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass CreateSchedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      isMobile: checkForMobile(),\n      stations: [],\n      stationName: \"\",\n      mySchedule: {},\n      stationId: this.props.match.params.id,\n      playlists: [],\n      showMusicPlayer: false,\n      isSaving: false,\n    };\n    this.calendarComponentRef = React.createRef();\n  }\n\n  // Adding dragable properties to external events through javascript\n  async componentDidMount() {\n    trackScreen();\n\n    const { stationId } = this.state;\n    const [schedule, stations] = [await this.props.actions.getSchedule(stationId), await this.props.actions.getDiscoverPulicStations(stationId)];\n\n    if (schedule.success) {\n      let mySchedule = get(schedule, \"data[0]\", null);\n      let stationName = get(schedule, \"data[0].name\", null);\n      let stations = get(schedule, \"data[0].stations\", null);\n      this.setState({ mySchedule, stationName, stations });\n    }\n\n    let playlists = get(stations, \"playlistList\", []);\n\n    let browseGenres = playlists.reduce((total, current) => {\n      Object.keys(current.genres).forEach((genre) => {\n        total[genre] = false;\n      });\n      return total;\n    }, {});\n    let browseMoods = playlists.reduce((total, current) => {\n      Object.keys(current.moods).forEach((mood) => {\n        total[mood] = false;\n      });\n      return total;\n    }, {});\n\n    this.setState({ isLoading: false, playlists, browseGenres, browseMoods, showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n      try {\n        this.accessFullCalendarAPI();\n        window.addEventListener(\"resize\", this.accessFullCalendarAPI.bind(this));\n        let draggableEl = document.getElementById(\"external-events\");\n        new Draggable(draggableEl, {\n          itemSelector: \".draggable-events\",\n          eventData: (eventEl) => {\n            let title = eventEl.getAttribute(\"title\");\n            let id = eventEl.getAttribute(\"data\");\n            return { title, id };\n          },\n        });\n      } catch (err) {\n        console.log(\"caught err: \", err);\n      }\n    });\n    if (this.state.isMobile) logEvent({ category: categories.schedule, action: actions.viewedMobile });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.setState({ showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n        this.accessFullCalendarAPI();\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", this.accessFullCalendarAPI);\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  // Calendar options\n  accessFullCalendarAPI() {\n    try {\n      this.setState({ isMobile: checkForMobile() });\n\n      let sideSection = document.getElementById(\"external-events\") || null;\n      if (sideSection) sideSection = sideSection.getBoundingClientRect().height; // Subtract music player height from side-section\n\n      let calendar = this.calendarComponentRef.current.getApi();\n      calendar.setOption(\"height\", sideSection); // Shouldn't need to do this, but the calendar css is stuipd\n      calendar.setOption(\"eventColor\", \"#2F2F2F\");\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  renderHeader = (date) => {\n    switch (date.getDay()) {\n      case 1:\n        return \"Monday\";\n      case 2:\n        return \"Tuesday\";\n      case 3:\n        return \"Wednesday\";\n      case 4:\n        return \"Thursday\";\n      case 5:\n        return \"Friday\";\n      case 6:\n        return \"Saturday\";\n      default:\n        return \"Sunday\";\n    }\n  };\n\n  validateEvent = (data) => {\n    if (data.event.start.getDate() !== data.event.end.getDate()) {\n      if (data.event.start.getDate() + 1 === data.event.end.getDate() && data.event.end.getHours() === 0 && data.event.end.getMinutes() === 0) {\n        console.log(\"Same day allowed\");\n      } else {\n        data.revert();\n      }\n    }\n  };\n\n  saveSchedule = () => {\n    const { stationName, stationId, isSaving } = this.state;\n\n    try {\n      this.setState({ isSaving: true }, () => {\n        let calendar = this.calendarComponentRef.current.getApi();\n        let calendarEvents = calendar.getEvents();\n        let companyId = get(this.props, \"user.company._id\", null);\n\n        // Send in the correct format to server\n        let tempStations = [];\n        calendarEvents.forEach((station) => {\n          tempStations.push({\n            start: moment(station.start).format(),\n            end: moment(station.end).format(),\n            day: moment(station.start).format(),\n            title: station.title,\n            stationId: station.id !== null && station.id !== \"\" ? station.id : station.extendedProps.stationId,\n          });\n        });\n\n        this.props.actions.setSchedule({ companyId, scheduleId: stationId, name: stationName, stations: tempStations }).then(() => {\n          this.setState({ isSaving: false }, () => {\n            logEvent({ category: categories.schedule, action: actions.saveSchedule, label: labels.button });\n            this.props.history.push(\"/schedules\");\n          });\n        });\n      });\n    } catch (err) {\n      logEvent({ category: categories.schedule, value: err, label: labels.error });\n      this.setState({ isSaving: false });\n      console.log(\"caught: \", err);\n    }\n  };\n\n  closeSchedule = () => {\n    logEvent({ category: categories.schedule, action: actions.closeSchedule, label: labels.button });\n    this.props.history.push(\"/schedules\");\n  };\n\n  backToDashboard = () => {\n    logEvent({ category: categories.schedule, action: actions.backToDashboard, label: labels.button });\n    this.props.history.push(\"/nowPlaying\");\n  };\n\n  showErrorMessage() {\n    return (\n      <div className=\"error-div\">\n        <div className=\"title\">Mobile Not Supported</div>\n        <div className=\"subtitle\">Please view this page on desktop.</div>\n        <div className=\"phone\">\n          <FontAwesomeIcon icon={faDesktop} className=\"mobile-icon\" />\n          <FontAwesomeIcon icon={faSmile} className=\"frown-icon\" />\n        </div>\n        <Button className={\"optionButton\"} onClick={() => this.backToDashboard()}>\n          Back to Dashboard\n        </Button>\n      </div>\n    );\n  }\n\n  eventClick(e) {\n    confirm({\n      title: \"Delete this station?\",\n      content: get(e, \"event.title\", \"\") + \": \" + moment(get(e, \"event.start\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.start\", \"\")).format(\"LT\") + \" - \" + moment(get(e, \"event.end\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.end\", \"\")).format(\"LT\"),\n      onOk() {\n        e.event.remove();\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  stationNameUpdate(stationName) {\n    this.setState({ stationName });\n  }\n\n  render() {\n    const { history } = this.props;\n    const { isLoading, playlists, stations, showMusicPlayer, isMobile, stationName, isSaving } = this.state;\n\n    console.log(\"state: \", this.state);\n    let globalStations = {};\n    let businessTypeStations = {};\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n\n    for (var superset of supersets.global) {\n      globalStations[superset] = [];\n    }\n\n    let businessTypeSuperset = supersets[\"defaultIndividual\"];\n\n    for (var superset of businessTypeSuperset) {\n      businessTypeStations[superset] = [];\n    }\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) {\n            globalStations[playlistSuperset].push(playlist);\n          }\n          if (playlistSuperset in businessTypeStations) {\n            businessTypeStations[playlistSuperset].push(playlist);\n          }\n        }\n      }\n    }\n\n    let categorizedKeys = Object.keys(businessTypeStations);\n    let globalStationKeys = Object.keys(globalStations);\n\n    return (\n      <div className={\"schedulePageWrapper\"}>\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          {isMobile ? (\n            this.showErrorMessage()\n          ) : (\n            <>\n              <div className=\"topRowWrapper\">\n                <div className=\"topRowLeft\">\n                  <div className=\"scheduleNameWrapper\">\n                    <ToggleInput text={stationName} onUpdate={(e) => this.stationNameUpdate(e)} />\n                  </div>\n                  <div className=\"description\"> Drag and Drop Your Stations to Schedule When They Play </div>\n                </div>\n                <div className=\"scheduleButtonGroup\">\n                  <Button className={\"optionButton whitespinner noblur\"} type=\"primary\" onClick={isSaving ? null : () => this.saveSchedule()}>\n                    <Spin indicator={AntSpinner} spinning={isSaving}>\n                      {\" \"}\n                      Save{\" \"}\n                    </Spin>\n                  </Button>\n                  <Button className={\"optionButton\"} onClick={() => this.closeSchedule()}>\n                    Close\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"bottomRowWrapper\" style={{ maxHeight: showMusicPlayer ? \"72vh !important\" : null }}>\n                <div id=\"external-events\" className=\"selectionWrapper\">\n                  <StationVerticalList label={\"Favorites\"} data={favorites} />\n                  {globalStationKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={globalStations[superset]} />\n                  ))}\n                  {categorizedKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={businessTypeStations[superset]} />\n                  ))}\n                  <StationVerticalList label={\"General\"} data={playlists} />\n                  <div className=\"musicSectionWrapper\">\n                    <div className=\"musicSectionHeader\"> Browse More Soundtracks </div>\n                    <div className=\"musicSectionFooter\" onClick={() => history.push(\"/discover\")}>\n                      Discover Music\n                      <FontAwesomeIcon icon={faExternalLinkAlt} className=\"discoverIcon\" />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"calendarWrapper\">\n                  <div className=\"app-calendar noselect\" id=\"mycalendartest\">\n                    <FullCalendar\n                      defaultView=\"timeGridWeek\"\n                      header={false}\n                      defaultDate={\"2020-01-10T00:00:00.000Z\"}\n                      allDayDefault={false}\n                      eventDurationEditable={true}\n                      editable={true}\n                      events={stations}\n                      droppable={true}\n                      plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n                      ref={this.calendarComponentRef}\n                      eventDrop={this.validateEvent}\n                      eventReceive={(data) => {\n                        console.log(\"data: \", { ...data });\n                      }}\n                      slotDuration={\"00:30\"} // duration of slot interval\n                      eventClick={(e) => this.eventClick(e)}\n                      startRecur={Date.now()}\n                      allDaySlot={false}\n                      eventOverlap={false}\n                      columnHeaderText={this.renderHeader}\n                      eventResize={this.validateEvent}\n                      forceEventDuration={true}\n                    />\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getDiscoverPulicStations,\n        setSchedule,\n        getSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n    schedules: state.schedules,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSchedule));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Animated } from \"react-animated-css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faTrash } from \"@fortawesome/pro-solid-svg-icons\";\nimport { assignSchedule, deleteSchedule, setSnackbarMessage } from \"../../actions\";\nimport AntSpinner from \"../antSpinner\";\nimport { get } from \"lodash\";\nimport { Spin, Modal } from \"antd\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass ScheduleBlock extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hidden: true,\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    const { wait } = this.props;\n\n    let timeout = setTimeout(() => {\n      this.setState({ hidden: false });\n      clearTimeout(timeout);\n    }, wait);\n  }\n\n  assignSchedule = (e) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      let companyId = get(this.props, \"data.company._id\", null);\n      let scheduleId = get(this.props, \"data._id\", null);\n\n      this.props.actions.assignSchedule({ companyId, scheduleId }).then((res) => {\n        if (res) {\n          this.setState({ isLoading: false });\n          this.props.history.push(\"/nowPlaying\", { isBack: true });\n        } else this.props.actions.setSnackbarMessage({ message: \"Error while assigning station\", type: \"error\" });\n      });\n    });\n  };\n\n  deleteSchedule = ({ e, data, props, callback }) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      confirm({\n        title: \"Delete Schedule?\",\n        content: get(data, \"name\", \"\"),\n        onOk() {\n          let companyId = get(props, \"data.company._id\", null);\n          let scheduleId = get(props, \"data._id\", null);\n\n          props.actions.deleteSchedule({ companyId, scheduleId }).then((res) => {\n            if (!res) {\n              callback();\n              props.actions.setSnackbarMessage({ message: \"Error while deleting station\", type: \"error\" });\n            }\n          });\n        },\n        onCancel() {\n          callback();\n        },\n      });\n    });\n  };\n\n  stopLoading() {\n    this.setState({ isLoading: false });\n  }\n\n  render() {\n    const { data, onClick } = this.props;\n    const { hidden, isLoading } = this.state;\n    return (\n      <>\n        {!hidden && (\n          <Animated animationIn=\"fadeIn\" isVisible={true}>\n            <Spin indicator={AntSpinner} spinning={isLoading}>\n              <div key={data._id} className=\"scheduleBlock\" style={{ backgroundColor: data.hex }} onClick={() => onClick(data._id)}>\n                <div className={\"schedule-icon-row\"}></div>\n                <div className={\"schedule-text-wrapper\"} style={{ flex: 1 }}>\n                  <div className=\"schedule-text\">{get(data, \"name\", \"\")}</div>\n                </div>\n                <div className={\"schedule-icon-row\"}>\n                  <div className=\"schedule-icon\" onClick={(e) => this.assignSchedule(e)}>\n                    <FontAwesomeIcon icon={faPlay} className=\"icon\" />\n                  </div>\n                  <div className=\"schedule-icon\" onClick={(e) => this.deleteSchedule({ e, data, props: this.props, callback: () => this.stopLoading() })}>\n                    <FontAwesomeIcon icon={faTrash} className=\"icon\" />\n                  </div>\n                </div>\n              </div>\n            </Spin>\n          </Animated>\n        )}\n      </>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ assignSchedule, deleteSchedule, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    stations: state.stations.data,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ScheduleBlock));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMyPlaylists, editSchedule, createSchedule } from \"../../actions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport ScheduleBlock from \"../../components/scheduleBlock\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport PageTitle from \"../../components/page-title\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\n\nclass Schedules extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n    this.getAllLocations();\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/schedules), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      console.log(\"update props: \", this.props);\n      this.getAllLocations();\n    }\n  }\n\n  getAllLocations = () => {\n    let companyId = get(this.props, \"user.company._id\", \"\");\n    this.props.actions.getMyPlaylists({ companyId }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  };\n\n  createNewSchedule() {\n    let companyId = get(this.props, \"user.company._id\", \"\");\n    this.props.actions.createSchedule(companyId).then((res) => {\n      logEvent({ category: categories.schedule, action: actions.createSchedule });\n      let id = get(res, \"data._id\", null);\n      this.props.history.push(`/createSchedule/${id}`);\n    });\n  }\n\n  editSchedule(id) {\n    logEvent({ category: categories.schedule, action: actions.createSchedule, value: id });\n    this.props.history.push(`/createSchedule/${id}`);\n  }\n\n  render() {\n    const { playlists } = this.props;\n    const { isLoading } = this.state;\n\n    return (\n      <div className=\"scheduleWrapper noblur\">\n        <PageTitle\n          title={\n            <span>\n              Your <span style={{ color: \"#D04283\" }}>Schedules</span>\n            </span>\n          }\n          subtitle={\"Schedule out your stations for the whole week!\"}\n        />\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          <div className=\"scheduleBlockWrapper noselect\">\n            <div className=\"newSchedule\" onClick={() => this.createNewSchedule()}>\n              <div className=\"plusCircle\">\n                <FontAwesomeIcon icon={faPlus} className=\"icon\" />\n              </div>\n              <div className=\"newScheduleText\">Create Schedule</div>\n            </div>\n\n            {get(playlists, \"schedules\", []).map((elem, i) => (\n              <ScheduleBlock key={get(elem, \"_id\", elem)} wait={i * 300} data={elem} onClick={(id) => this.editSchedule(id)} />\n            ))}\n          </div>\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getMyPlaylists,\n        editSchedule,\n        createSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Schedules));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Select, Modal } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies } from \"../../constants\";\nimport { faTimes } from \"@fortawesome/pro-light-svg-icons\";\nimport { faVolume } from \"@fortawesome/pro-solid-svg-icons\";\nimport { deleteMessage, updateFrequency, getMessages } from \"../../actions\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\nconst { Option } = Select;\n\nclass MessageCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messageData: this.props.message,\n    };\n  }\n\n  // Updates the message frequency\n  updateMessageFrequency({ e, messageData, user }) {\n    this.setState({ messageData: { ...messageData, frequency: e } }, () => {\n      this.props.actions.updateFrequency({ companyId: get(user, \"company._id\"), locationId: get(this.props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\"), frequency: e }).then((res) => {\n        if (res) this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") });\n      });\n    });\n  }\n\n  // Prompts user to delete a message\n  delete({ user, messageData, props }) {\n    confirm({\n      title: \"Delete Message?\",\n      content: get(messageData, \"title\", \"\") + \": \" + get(messageData, \"message\", \"\"),\n      onOk() {\n        props.actions.deleteMessage({ companyId: get(user, \"company._id\"), locationId: get(props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\") }).then((res) => {\n          if (res) props.actions.getMessages({ companyId: get(props, \"user.company._id\"), locationId: get(props, \"myLocation._id\", \"\") });\n        });\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  render() {\n    const { message, user, setPreviewUrl, myLocation } = this.props;\n    const { messageData } = this.state;\n\n    return (\n      <div className=\"messageCard\">\n        <div className=\"messageCardheader\">\n          <div style={{ paddingRight: \"10px\" }} onClick={() => setPreviewUrl(get(messageData, \"url\", \"\"))}>\n            <FontAwesomeIcon icon={faVolume} className={\"messageCardPreview\"} />\n          </div>\n          <div className={\"messageTitle\"}> {get(messageData, \"title\", \"\")} </div>\n          <div className=\"icon\" style={{ paddingLeft: \"10px\" }} onClick={() => this.delete({ user, messageData, props: this.props })}>\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n        <Select\n          defaultValue={get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")}\n          onChange={(e) => {\n            this.updateMessageFrequency({ e, messageData, user });\n          }}\n        >\n          {frequencies.map((frequency, i) => (\n            <Option key={get(frequency, \"time\", i)} value={get(frequency, \"time\", \"60\")}>\n              {get(frequency, \"title\", \"Error\")}\n            </Option>\n          ))}\n        </Select>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ deleteMessage, updateFrequency, getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(MessageCard));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMessages } from \"../../actions\";\nimport { Button, Spin } from \"antd\";\nimport { get, isEqual } from \"lodash\";\nimport PageTitle from \"../../components/page-title\";\nimport MessageCard from \"../../components/messageCard\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/pro-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass InStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPlaying: false,\n      previewTrackUrl: null,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/inStoreMessaging), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then(() => {\n        this.setState({ isLoading: false });\n      });\n    }\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      this.rap.audioEl.play();\n    });\n  }\n\n  setPreviewUrl(e) {\n    this.setState({ previewTrackUrl: e });\n  }\n\n  render() {\n    const { user, inStoreMessaging, myLocation } = this.props;\n    const { previewTrackUrl, isLoading } = this.state;\n\n    let activeMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) > 0);\n    let inactiveMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) === 0);\n\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          title={\n            <span>\n              In-Store <span style={{ color: \"#D04283\" }}> Messages </span>\n            </span>\n          }\n          subtitle=\"Custom announcements to help drive customer action\"\n        />\n        <div className=\"centerMessages\">\n          <div className=\"viewMessagesContainer\">\n            <div>\n              <div style={{ display: \"none\" }}>\n                <ReactAudioPlayer\n                  ref={(element) => {\n                    this.rap = element;\n                  }}\n                  src={previewTrackUrl}\n                  autoPlay={false}\n                  controls={false}\n                  muted={false}\n                  volume={0.3}\n                  onCanPlay={() => this.playTrack()}\n                  onEnded={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                  onError={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                />\n              </div>\n\n              <Spin indicator={AntSpinner} spinning={isLoading}>\n                {activeMessages.length > 0 || inactiveMessages.length > 0 ? (\n                  <>\n                    <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                      <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                      Create New Message\n                    </Button>\n\n                    {activeMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Active Messages </div>\n                        {activeMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n\n                    {inactiveMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Inactive Messages </div>\n                        {inactiveMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n                  </>\n                ) : (\n                  <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                    <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                    Create Your First Message\n                  </Button>\n                )}\n              </Spin>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    inStoreMessaging: state.inStoreMessaging,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(InStoreMessaging));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { createMessage, getVoiceOptions } from \"../../actions\";\nimport { Button, Input, Select } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies } from \"../../constants\";\nimport PageTitle from \"../../components/page-title\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\nconst { TextArea } = Input;\n\nclass CreateInStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\",\n      title: \"\",\n      language: \"\",\n      voice: \"\",\n      frequency: \"0\",\n      voiceOptions: {},\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getVoiceOptions().then((data) => {\n      this.setState({ voiceOptions: data });\n    });\n  }\n\n  createMessage() {\n    const { title, message, language, voice, frequency } = this.state;\n    this.props.actions.createMessage({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\"), title, voice, language, message, frequency }).then((res) => {\n      if (res) this.props.history.push(\"/inStoreMessaging\");\n      else window.alert(\"There was an error creating this message. Please try again.\");\n    });\n  }\n\n  renderVoiceOptions() {\n    const { language, voiceOptions } = this.state;\n    if (!language) return;\n    else return voiceOptions[language].map((voice) => <Option key={voice[\"name\"]}> {voice[\"name\"]} </Option>);\n  }\n\n  render() {\n    const { voiceOptions, language } = this.state;\n\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          backArrow\n          backArrowPress={() => this.props.history.push(\"/inStoreMessaging\")}\n          title={\n            <span>\n              Create a <span style={{ color: \"#D04283\" }}> Message </span>\n            </span>\n          }\n        />\n        <div className=\"centerMessages\">\n          <div className=\"createMessagesContainer\">\n            <div className=\"heading heading-medium\">Message Name </div>\n            <Input\n              onChange={(e) => {\n                this.setState({ title: e.target.value });\n              }}\n            />\n            <div className=\"heading heading-medium\">Message </div>\n            <TextArea\n              placeholder=\"Max 200 Characters\"\n              maxLength={200}\n              onChange={(e) => {\n                this.setState({ message: e.target.value });\n              }}\n              rows={4}\n            />\n            <div className=\"heading heading-medium\">Language / Locale </div>\n            <Select\n              defaultValue=\"Please select a language\"\n              style={{ width: \"fill\" }}\n              onChange={(e, v) => {\n                this.setState({ language: v.key });\n              }}\n            >\n              {Object.keys(voiceOptions).map((voice) => (\n                <Option key={voice}> {voice} </Option>\n              ))}\n            </Select>\n            <div className=\"heading heading-medium\">Voice </div>\n            {console.log(voiceOptions[language])}\n            <Select defaultValue=\"Please select a voice\" style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ voice: v.key })}>\n              {this.renderVoiceOptions()}\n            </Select>\n            <div className=\"heading heading-medium\">Frequency </div>\n            <Select defaultValue=\"Please select a frequency\" style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ frequency: v.key })}>\n              {frequencies.map((frequency, i) => (\n                <Option key={get(frequency, \"time\", i)} value={get(frequency, \"time\", \"60\")}>\n                  {get(frequency, \"title\", \"Error\")}\n                </Option>\n              ))}\n            </Select>\n            <Button onClick={() => this.createMessage()} size=\"large\" style={{ width: \"100%\", marginBottom: 10, marginTop: 10, backgroundColor: \"#e3e3e3\" }}>\n              Create Message\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ createMessage, getVoiceOptions }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateInStoreMessaging));\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Landing from \"../containers/landing\";\nimport SignUp from \"../containers/welcome/signUp\";\nimport LogIn from \"../containers/login\";\nimport Create from \"../containers/create/\";\nimport Discover from \"../containers/create/discover\";\nimport StationDetails from \"../components/stationDetails\";\nimport CreateSchedule from \"../containers/createSchedule\";\nimport Schedules from \"../containers/schedules\";\nimport InStoreMessaging from \"../containers/inStoreMessaging\";\nimport CreateInStoreMessaging from \"../containers/createInStoreMessaging\";\nimport Auth0Helper from \"../helpers/Auth0Helper\";\n\nlet routes = [\n  {\n    path: \"/\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => <Redirect to=\"/discover\" />,\n  },\n  {\n    path: \"/landing\",\n    exact: false,\n    isChild: false,\n    private: false,\n    component: () => <Landing />,\n  },\n  {\n    path: \"/login\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.login();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/signUp\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.signUp();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/nowPlaying\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Create />,\n  },\n  {\n    path: \"/discover\",\n    exact: true,\n    isChild: true,\n    private: false,\n    component: () => <Discover />,\n  },\n  {\n    path: \"/station/:id\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <StationDetails />,\n  },\n  {\n    path: \"/createschedule/:id\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateSchedule />,\n  },\n  {\n    path: \"/schedules\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Schedules />,\n  },\n  {\n    path: \"/inStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <InStoreMessaging />,\n  },\n  {\n    path: \"/createInStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateInStoreMessaging />,\n  },\n];\n\nexport default routes;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { get } from \"lodash\";\nimport { Menu, message, Avatar, Dropdown, Button } from \"antd\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBars, faAcorn } from \"@fortawesome/pro-solid-svg-icons\";\nimport { categories, actions, images } from \"../../constants\";\nimport config from \"../../configs/urls\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport { setSnackbarMessage } from \"../../actions\";\nimport \"./index.scss\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\n\nmessage.config({\n  top: \"5%\",\n  duration: 1,\n});\n\nlet resizeListener = null;\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: undefined,\n      windowSize: window.innerWidth,\n    };\n  }\n\n  componentDidMount() {\n    let str = this.props.location.pathname;\n    var activePath = str.replace(\"/\", \"\");\n    this.setState({ current: activePath });\n    resizeListener = window.addEventListener(\"resize\", (e) => {\n      this.setState({ windowSize: e.target.innerWidth });\n    });\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  handleClick = async (route) => {\n    if (route === \"features\" || route === \"price\") {\n      message.info(\"This service will be available soon, please enjoy our other services\");\n    } else if (route === \"signout\") {\n      this.logInOut();\n    } else {\n      let hasStation = get(this.props, \"auth.location.station._id\", null);\n      if (route === \"nowPlaying\" && !hasStation) {\n        this.props.actions.setSnackbarMessage({ message: \"Please select a station before viewing your dashboard\", type: \"warn\" });\n        return;\n      }\n      this.setState({ current: route });\n      message.destroy();\n      this.props.history.push(\"/\" + route);\n    }\n  };\n\n  logInOut = () => {\n    if (Auth0Helper.isLoggedIn()) {\n      try {\n        logEvent({ category: categories.general, action: actions.signout });\n        localStorage.removeItem(\"location-jwt\"); // Clear our location-jwt\n        Auth0Helper.logout();\n      } catch (err) {\n        console.log(\"Caught logout err: \", err);\n      }\n    } else {\n      Auth0Helper.login();\n    }\n  };\n\n  checkIfActiveTab(tab) {\n    return this.props.location.pathname.toLowerCase().includes(tab.toLowerCase());\n  }\n\n  render() {\n    const { windowSize } = this.state;\n    const mobileHeaderMenu = (\n      <Menu mode=\"horizontal\" onClick={(e) => this.handleClick(e.key)} selectedKeys={[this.state.current]} className=\"menu-wrapper\">\n        <Menu.Item key=\"nowPlaying\">Dashboard</Menu.Item>\n        <Menu.Item key=\"discover\">Stations</Menu.Item>\n        <Menu.Item key=\"schedules\">Schedules</Menu.Item>\n        <Menu.Item key=\"inStoreMessaging\">In-Store Messaging</Menu.Item>\n        <Menu.Item key=\"signout\">{Auth0Helper.isLoggedIn() ? \"Sign Out\" : \"Sign In\"}</Menu.Item>\n      </Menu>\n    );\n\n    const route = get(this.props, \"route\", null);\n    let isCreateSchedulePage = null;\n\n    if (route) isCreateSchedulePage = route.toUpperCase().includes(\"createSchedule\".toUpperCase()) ? true : false;\n    let headStyle = isCreateSchedulePage ? \"header-container headerTwo\" : \"header-container headerOne\";\n\n    return (\n      <div className={headStyle}>\n        <Avatar src={images.appLogo} className=\"header_logo pointer noselect\" size={50} onClick={() => this.props.history.push(\"/nowPlaying\")} alt=\"logo\" />\n        {windowSize <= 760 ? (\n          <div className={\"mobileButtonsContainer\"}>\n            <Dropdown overlay={mobileHeaderMenu} trigger={[\"click\"]}>\n              <Button>\n                <FontAwesomeIcon icon={faBars} />\n              </Button>\n            </Dropdown>\n          </div>\n        ) : (\n          <>\n            <div className=\"mainButtonsContainer noselect\">\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"nowPlaying\") ? \" mainButtonActive\" : \"\")} key=\"nowPlaying\" onClick={() => this.handleClick(\"nowPlaying\")}>\n                Dashboard\n              </div>\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"discover\") || this.checkIfActiveTab(\"browse\") ? \" mainButtonActive\" : \"\")} key=\"discover\" onClick={() => this.handleClick(\"discover\")}>\n                Stations\n              </div>\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"schedules\") || this.checkIfActiveTab(\"createSchedule\") ? \" mainButtonActive\" : \"\")} key=\"schedules\" onClick={() => this.handleClick(\"schedules\")}>\n                Schedules\n              </div>\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"inStoreMessaging\") || this.checkIfActiveTab(\"inStoreMessaging\") ? \" mainButtonActive\" : \"\")} key=\"inStoreMessaging\" onClick={() => this.handleClick(\"inStoreMessaging\")}>\n                In-Store Messaging\n              </div>\n            </div>\n            <Button key=\"signout\" onClick={() => this.logInOut()}>\n              {Auth0Helper.isLoggedIn() ? \"Sign Out\" : \"Sign In\"}\n            </Button>\n          </>\n        )}\n        {(get(config, \"API_URL\", \"\").includes(\"localhost\") || get(config, \"API_URL\", \"\").includes(\"-dev\")) && <FontAwesomeIcon className={\"icon\"} style={{ paddingLeft: \"10px\", fontSize: \"32px\" }} icon={faAcorn} onClick={() => console.log({ props: this.props.state, trackSchedule: get(this.props, \"state.auth.location.trackSchedule\", {}), player: get(this.props, \"state.player\", {}) })} />}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    player: state.player,\n    state: state,\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(AppHeader)));\n","import React, { Component } from \"react\";\nimport { get, isEqual } from \"lodash\";\nimport Slider from \"react-rangeslider\";\nimport \"./index.scss\";\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myVolume: 0,\n    };\n  }\n\n  componentDidMount() {\n    // Sets initial state when volume slider pops-up\n    this.setState({ myVolume: get(this.props, \"volume\", 0) });\n  }\n\n  componentDidUpdate(prevProps) {\n    // Handles mute / unmute\n    if (!isEqual(get(this.props, \"volume\", 0), get(prevProps, \"volume\", 0))) {\n      this.setState({ myVolume: get(this.props, \"volume\", 0) });\n    }\n  }\n\n  // Handles volume slider change\n  handleChange = (myVolume) => {\n    this.props.changeVolume(myVolume * 0.01);\n  };\n\n  // Returns the volume as a %\n  calculateVolumeHeight() {\n    return 100 * this.state.myVolume;\n  }\n\n  render() {\n    const { myVolume } = this.state;\n\n    return (\n      <div className={\"volume-slider-wrapper\"}>\n        <div className=\"slider orientation-reversed\">\n          <div className=\"slider-group\">\n            <div className=\"slider-vertical\">\n              <Slider min={0} max={100} value={this.calculateVolumeHeight(myVolume)} orientation=\"vertical\" onChange={this.handleChange} tooltip={false} onChangeStart={(e) => this.props.startDrag(e)} onChangeComplete={(e) => this.props.endDrag(e)} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VolumeSlider;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faPause, faStepForward, faVolume, faVolumeUp, faVolumeMute } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError } from \"../../actions\";\nimport { get, isEqual } from \"lodash\";\nimport VolumeSlider from \"./volume-slider\";\nimport { categories, actions, labels } from \"../../constants\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { getTime } from \"../../util\";\nimport \"./index.scss\";\n\nclass MusicBar extends Component {\n  constructor(props) {\n    super(props);\n\n    let localVolume = parseFloat(localStorage.getItem(\"volume\"));\n    this.state = {\n      currentTime: \"0:00\",\n      duration: \"0:00\",\n      volume: localVolume ? localVolume : localVolume.toString() === \"0\" ? 0 : 0.3,\n      previousVolume: localVolume || 0.3,\n      showVolumeControl: false,\n      dragging: false,\n      url: null,\n      isrc: null,\n    };\n  }\n\n  // Checks if hovered elem belongs to volume slider\n  checkIfVolumeSlider(e) {\n    if (!e) return false;\n    let path = get(e, \"path\", []);\n    for (let i = 0; i < path.length; i++) if (path[i].id === \"volume-wrapper\") return true;\n    return false;\n  }\n\n  componentDidMount() {\n    this.rap.audioEl.addEventListener(\"timeupdate\", (e) => {\n      this.setState({ currentTime: e.target.currentTime, duration: e.target.duration });\n    });\n\n    window.addEventListener(\"mouseover\", (e) => {\n      if (this.checkIfVolumeSlider(e) || this.state.dragging) {\n        if (!this.state.showVolumeControl) this.setState({ showVolumeControl: true });\n      } else if (this.state.showVolumeControl) this.setState({ showVolumeControl: false });\n    });\n\n    let currentTrack = get(this.props, \"currentTrack\", \"\");\n    this.updateTrackState();\n    this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n\n    // Get duration from initial track\n    this.setState({ duration: get(currentTrack, \"duration\", null) });\n  }\n\n  componentWillUnmount() {\n    try {\n      this.player.removeEventListener(\"timeupdate\");\n      window.removeEventListener(\"mouseover\");\n    } catch (err) {\n      console.log(\"caught error on music-bar unmount\", err);\n    }\n  }\n\n  // Updates the local current track's url & isrc\n  updateTrackState() {\n    this.setState({ url: get(this.props, \"player.trackMap[\" + get(this.props, \"currentTrack.isrc\", \"\") + \"].url\", \"\"), isrc: get(this.props, \"currentTrack.isrc\", null) });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"myLocation.currentTrack.isrc\", null), get(prevProps, \"myLocation.currentTrack.isrc\", null))) {\n      console.log(\"nowPlaying: \", { currentTrack: get(this.props, \"currentTrack.title\", \"\"), duration: getTime(get(this.props, \"currentTrack.duration\", \"\")), station: get(this.props, \"myLocation.station.name\", \"\") });\n      this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n      this.updateTrackState();\n    }\n\n    // If the station was changed automatically\n    if (!isEqual(get(this.props, \"myLocation.station._id\", null), get(prevProps, \"myLocation.station._id\", null))) {\n      console.log(\"<================ CHANGED STATION B ================>\", this.props);\n      this.props.actions.setTrackNumber(0);\n      this.updateTrackState();\n    }\n\n    // Play / Pause change\n    if (!isEqual(get(this.props, \"player.isPlaying\", false), get(prevProps, \"player.isPlaying\", false))) {\n      let isPlaying = get(this.props, \"player.isPlaying\", false);\n      if (isPlaying) this.rap.audioEl.play();\n      else this.rap.audioEl.pause();\n    }\n  }\n\n  getCurrentTrack() {\n    const { url, isrc } = this.state;\n    let currentTrackISRC = get(this.props, \"currentTrack.isrc\", \"\");\n    let currentTrackUrl = get(this.props, \"player.trackMap[\" + currentTrackISRC + \"].url\", get(this.props, \"currentTrack.url\", \"\"));\n\n    // Catch for same song, but different link\n    if (isrc && url && isrc === currentTrackISRC && url !== currentTrackUrl) return url; // Stops track from restarting when toggling explicit\n    return currentTrackUrl; // Return currentTrackUrl normally\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      let promise = this.rap.audioEl.play();\n\n      // Needed due to https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\n      if (promise !== undefined) {\n        promise\n          .then(() => {\n            // Player started autoplaying\n            this.props.actions.setIsPlaying(true);\n          })\n          .catch(() => {\n            // Player blocked from autoplaying\n            this.props.actions.setIsPlaying(false);\n          });\n      }\n    });\n  }\n\n  togglePlay() {\n    this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n  }\n\n  // Toggles player mute\n  toggleMute() {\n    const { previousVolume } = this.state;\n    this.setState({ volume: this.state.volume > 0 ? 0 : previousVolume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets the volume of the player\n  setVolume(volume) {\n    this.setState({ volume, previousVolume: volume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets boolean on if user is dragging volume slider\n  toggleVolumeDrag(dragging) {\n    this.setState({ dragging });\n  }\n\n  async closePlayer() {\n    this.props.actions.setIsPlaying(false);\n    logEvent({ category: categories.dashboard, action: actions.closePlayer, label: labels.button });\n    await this.props.actions.disconnectPlayer();\n  }\n\n  songError(e) {\n    console.log(\"Song error: \", { e, props: this.props });\n    this.skipSong(0);\n  }\n\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { volume, showVolumeControl, currentTime, duration } = this.state;\n\n    let currentTrack = get(this.props, \"currentTrack\", {});\n    const songCompletion = ((currentTime / duration) * 100).toFixed(2);\n\n    let hasArtistOverflow = false;\n    let hasTrackOverflow = false;\n\n    let playerInfoWrapper = document.getElementById(\"player-info-wrapper\") || null;\n    let artistOverflow = document.getElementById(\"player-artist-info\") || null;\n    let trackOverflow = document.getElementById(\"player-track-info\") || null;\n\n    if (playerInfoWrapper && artistOverflow && trackOverflow) {\n      playerInfoWrapper = playerInfoWrapper.getBoundingClientRect().width - 60;\n      artistOverflow = artistOverflow.getBoundingClientRect().width;\n      trackOverflow = trackOverflow.getBoundingClientRect().width;\n\n      if (playerInfoWrapper < artistOverflow) hasArtistOverflow = true;\n      if (playerInfoWrapper < trackOverflow) hasTrackOverflow = true;\n    }\n\n    return (\n      <div className=\"music-bar-wrapper noselect\" id={\"music-player-controller\"}>\n        <div className=\"react-music-player\">\n          <ReactAudioPlayer\n            ref={(element) => {\n              this.rap = element;\n            }}\n            src={this.getCurrentTrack()}\n            autoPlay={false}\n            controls={false}\n            muted={volume === 0 ? true : false}\n            volume={volume}\n            onCanPlay={() => this.playTrack()}\n            onEnded={() => this.skipSong(songCompletion)}\n            onError={(e) => this.songError(e)}\n          />\n        </div>\n        <div className=\"music-bar-scrub-wrapper\">\n          <div className=\"music-bar-scrubber\" style={{ width: songCompletion + \"%\" }} />\n        </div>\n        <div className=\"music-bar-content-wrapper\">\n          <div className=\"music-bar-item flexRow left-controls\" id={\"player-info-wrapper\"}>\n            <img className=\"preview-image\" src={get(currentTrack, \"picture\", null)} alt={\"\"} />\n            <div className=\"preview-text\">\n              <div className=\"song-artist\">\n                <span id={\"player-artist-info\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"artist[0]\", \"NA\")}\n                </span>\n              </div>\n              <div className=\"song-title\">\n                <span id={\"player-track-info\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"title\", \"NA\")}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"music-bar-item flexRow center-controls\">\n            {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} /> : <FontAwesomeIcon icon={faPlay} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} />}\n            {<FontAwesomeIcon icon={faStepForward} className={\"music-bar-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n          </div>\n\n          <div className=\"music-bar-item right-controls\">\n            <div className=\"time-display\">\n              <span id={\"current-song-time\"}>{getTime(currentTime)}</span> &nbsp;/&nbsp; <span id={\"current-song-duration\"}>{getTime(duration)}</span> <span id={\"invis-current-song-time\"}>{songCompletion}</span>\n            </div>\n\n            {/* Volume controls */}\n            <div className=\"volume-icon\" id={\"volume-wrapper\"}>\n              {showVolumeControl && <VolumeSlider volume={volume} changeVolume={(newVolume) => this.setVolume(newVolume)} startDrag={() => this.toggleVolumeDrag(true)} endDrag={() => this.toggleVolumeDrag(false)} />}\n              {volume === 0 ? <FontAwesomeIcon icon={faVolumeMute} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : volume < 0.7 ? <FontAwesomeIcon icon={faVolume} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : <FontAwesomeIcon icon={faVolumeUp} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} />}\n            </div>\n\n            <FontAwesomeIcon icon={faTimes} className={\"music-bar-icon close-icon\"} onClick={() => this.closePlayer()} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return { player: state.player, myLocation: state.auth.location, currentTrack: state.auth.location.currentTrack };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicBar);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { auth0setLogin, setSnackbarNotification, setSnackbarMessage, startSockets } from \"./actions\";\nimport Routes from \"./routes/index\";\nimport AppHeader from \"./components/header\";\nimport { Modal, Spin, Layout, notification, message } from \"antd\";\nimport { startGoogleAnalytics } from \"./configs/google-analytics\";\nimport { isEqual, get } from \"lodash\";\nimport MusicBar from \"./components/music-bar\";\nimport AntSpinner from \"./components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport Auth0Helper from \"./helpers/Auth0Helper\";\nimport SignUp from \"./containers/welcome/signUp\";\nimport \"./App.scss\";\n\nAuth0Helper.initialize();\n\nconst { Content } = Layout;\n\nclass AmbiiRouter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      snackbarMessageDuration: 3,\n    };\n  }\n\n  initiateLogin(token) {\n    localStorage.setItem(\"access-token\", token);\n    this.props.actions.auth0setLogin();\n  }\n\n  componentWillMount() {\n    Auth0Helper.getLock().on(\"authenticated\", (data) => {\n      this.initiateLogin(data.idToken);\n    });\n    Auth0Helper.getLock().checkSession({}, (err, data) => {\n      this.setState({ isLoading: false }, () => {\n        if (!err && data?.idToken) this.initiateLogin(data.idToken);\n        else this.setState({ isLoading: false });\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    if (Auth0Helper.isLoggedIn() && this.state.isLoading) {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  render() {\n    const { player, auth } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return (\n      <Router>\n        <div>\n          {Routes.map((route, index) => (\n            <Route\n              key={index}\n              path={route.path}\n              exact={route.exact}\n              render={() => {\n                if (!this.state.isLoading && !Auth0Helper.isLoggedIn() && route.private) {\n                  Auth0Helper.login();\n                }\n                if (Auth0Helper.isLoggedIn() || !route.private) {\n                  return (\n                    <>\n                      {auth?.user?.company && !auth?.user?.company?.name ? (\n                        <Modal visible={true} onCancel={this.onCancel} width={900} className=\"modal-container\" closable={false} footer={false}>\n                          <div className={\"signup-modal-title\"}>\n                            {\"Welcome to \"}\n                            <span style={{ color: \"#d04283\" }}>{\"ambii\"}</span>\n                          </div>\n                          <SignUp />\n                        </Modal>\n                      ) : null}\n                      <div className=\"explore_container\">\n                        <AppHeader showMenu=\"userlogin\" route={route.path} />\n                        <div className={\"contentWrapper\".concat(showMusicPlayer ? \" player-visible\" : \"\")}>{route.component()}</div>\n                      </div>\n                    </>\n                  );\n                } else {\n                  return (\n                    <Layout className=\"explore_container\">\n                      <AppHeader id=\"myHeader\" showMenu=\"landing\" />\n                      <div className=\"loading-app\">\n                        <div className=\"loading-app-text\">\n                          Logging Into <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n                        </div>\n                        <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n                      </div>\n                    </Layout>\n                  );\n                }\n              }}\n            />\n          ))}\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction mapDispatchToPropsRouter(dispatch) {\n  return {\n    actions: bindActionCreators({ auth0setLogin }, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n  };\n}\n\nvar RouterWithAuth = connect(mapStateToPropsRouter, mapDispatchToPropsRouter)(withAuth0(AmbiiRouter));\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      initAnalytics: false,\n    };\n\n    startGoogleAnalytics();\n  }\n\n  async componentDidMount() {\n    this.props.actions.startSockets();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"snackbar.notification\", null), get(prevProps, \"snackbar.notification\", null))) {\n      this.openNotification(get(this.props, \"snackbar.notification\", null));\n    }\n\n    if (!isEqual(get(this.props, \"snackbar.message\", null), get(prevProps, \"snackbar.message\", null))) {\n      this.openMessage(get(this.props, \"snackbar.message\", null));\n    }\n  }\n\n  openNotification(hasNotification) {\n    console.log(\"hasNotification: \", hasNotification);\n\n    notification.open({\n      message: get(hasNotification, \"message\", \"\"),\n      description: get(hasNotification, \"description\", \"\"),\n      onClick: () => {\n        console.log(\"Notification Clicked!\");\n      },\n      className: \"snackbar-notification snackbar-type-\".concat(get(hasNotification, \"type\", \"\")),\n    });\n\n    this.props.actions.setSnackbarNotification(null);\n  }\n\n  openMessage(hasMessage) {\n    const { snackbarMessageDuration } = this.state;\n    console.log(\"hasMessage: \", hasMessage);\n    let text = get(hasMessage, \"message\", \"\");\n    let type = get(hasMessage, \"type\", \"\");\n\n    switch (type) {\n      case \"success\":\n        message.success(text, snackbarMessageDuration);\n        break;\n      case \"info\":\n        message.info(text, snackbarMessageDuration);\n        break;\n      case \"warn\":\n        message.warn(text, snackbarMessageDuration);\n        break;\n      case \"error\":\n        message.error(text, snackbarMessageDuration);\n        break;\n      default:\n        console.log(\"error in openMessage\");\n    }\n\n    this.props.actions.setSnackbarMessage(null);\n  }\n\n  render() {\n    const { player } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return !this.state.isLoading ? (\n      <>\n        <RouterWithAuth props={{ showMusicPlayer }} />\n        {showMusicPlayer && <MusicBar />}\n      </>\n    ) : (\n      <div className=\"loading-app\">\n        <div className=\"loading-app-text\">\n          Loading <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n        </div>\n        <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n      </div>\n    );\n  }\n}\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ startSockets, setSnackbarNotification, setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuth0(App));\n","import React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { connect } from \"react-redux\"; //to pass functions\nimport { bindActionCreators } from \"redux\";\nimport App from \"../App\";\nimport \"antd/dist/antd.css\";\n\nclass RootContainer extends Component {\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <div>\n          <App />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    snackbar: state.snackbar,\n    loader: state.loader,\n  };\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RootContainer);\n","/* eslint-disable no-undef */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\"This web app is being served cache-first by a service \" + \"worker. To learn more, visit https://bit.ly/CRA-PWA\");\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\"New content is available and will be used when all \" + \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { AppContainer } from \"react-hot-loader\";\nimport \"rc-slider/assets/index.css\";\nimport \"react-slidedown/lib/slidedown.css\";\nimport configureStore from \"./redux-store/storeConfiguration\";\nimport RootContainer from \"./containers/rootContainer\";\nimport \"./common/styles/styles.scss\";\n\nimport * as serviceWorker from \"./serviceWorker\";\nconst store = configureStore();\n\nif (document.location.hostname !== \"localhost\" && document.location.hostname !== \"business-dev.ambii.io\") console.log = () => {};\n\nrender(\n  <AppContainer>\n    <RootContainer store={store} />\n  </AppContainer>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}