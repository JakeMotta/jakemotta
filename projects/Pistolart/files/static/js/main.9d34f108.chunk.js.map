{"version":3,"sources":["images/ambii_logo_inverse.png","common/assets/images/androidBtn.png","common/assets/images/appleBtn.png","common/assets/images/appLogo.png","common/assets/images/bg1.png","common/assets/images/bg2.png","common/assets/images/bg3.png","common/assets/images/bg4.jpg","common/assets/images/bg5.jpg","common/assets/images/bg6.jpg","constants/analytics.js","constants/genreColors.js","constants/images.js","constants/inStoreMessaging.js","constants/supersetDescriptions.js","constants/supersets.js","constants/tempos.js","constants/timezones.js","constants/index.js","redux-store/initialState.js","util/index.js","reducers/auth.js","constants/actionTypes.js","reducers/inStoreMessaging.js","reducers/player.js","reducers/playlists.js","reducers/schedules.js","reducers/snackbar.js","reducers/stations.js","reducers/index.js","redux-store/storeConfiguration.js","configs/urls.js","configs/api.js","actions/dispatch.js","configs/socket.js","actions/player.js","helpers/MobileAppCommunicator.js","actions/auth.js","actions/locations.js","actions/stations.js","actions/schedule.js","actions/inStoreMessaging.js","actions/socket.js","actions/snackbar.js","components/antSpinner/index.js","containers/landing/index.js","containers/welcome/autoComplete/index.js","containers/welcome/addressForm/index.js","containers/welcome/companyInfo/index.js","configs/google-analytics.js","containers/welcome/signUp/index.js","containers/login/index.js","components/pairToken/index.js","images/google-play-store.svg","helpers/Auth0Helper.js","components/stationDetails/index.js","components/bpm/index.js","components/page-title/index.js","components/dashboardModule/index.js","containers/create/index.js","containers/mood_tag_search_bar/mood_tag/index.js","containers/mood_tag_search_bar/index.js","containers/tempo_selection/index.js","containers/era_selection/index.js","containers/create/advance_filter/index.js","components/public_stations/tracksModal/index.js","components/genre-color-bar/index.js","components/public_stations/publicStation/index.js","components/stationSection/index.js","containers/genre_section/index.js","containers/create/discover/index.js","components/ControlledLottie.js","components/station-tile/index.js","components/stationVerticalList/index.js","components/toggleInput/index.js","containers/createSchedule/index.js","components/scheduleBlock/index.js","containers/schedules/index.js","components/messageCard/index.js","containers/inStoreMessaging/index.js","containers/createInStoreMessaging/index.js","routes/index.js","components/header/index.js","components/music-bar/volume-slider/index.js","components/music-bar/index.js","App.js","containers/rootContainer.js","serviceWorker.js","index.js"],"names":["module","exports","categories","actions","labels","genreColors","images","googleBtn","require","iosBtn","appLogo","bg1","bg2","bg3","bg4","bg5","bg6","frequencies","title","time","supersetDescriptions","supersets","global","defaultIndividual","bar","cafe","gym","hotel","other","restaurant","salon","school","spa","shop","tempos","Slower","min","max","icon","faSnooze","Slow","faTurtle","Moderate","faSquirrel","Fast","faRabbitFast","Faster","faRocket","timezones","userTypes","initialState","auth","user","jwt","location","isApple","snackbar","notification","message","loader","requestInProgress","locations","data","count","limit","skip","playlists","schedules","stations","topTrack","artists","tracks","playlistList","genreList","eraList","moodList","stationPreviews","genre","era","mood","activeStationPreview","selectedPreviews","ID","track","zones","activeSchedule","player","locationJWT","showPlayer","isPlaying","skipDisabled","trackNumber","trackMap","playerError","inStoreMessaging","messages","objArrayToMap","arr","key","map","item","get","hashCode","s","Math","abs","split","reduce","a","b","charCodeAt","checkForMobile","window","outerWidth","getTime","isNaN","floor","slice","getBPMInfo","bpm","getDeviceId","deviceID","localStorage","getItem","length","result","characters","charactersLength","i","charAt","random","toUpperCase","generateRandomString","setItem","auth_reducer","state","action","type","Object","assign","favoritesMap","station","currentTrack","favorites","explicit","pairedDevice","lastTrack","trackSchedule","inStoreMessaging_reducer","player_reducer","removeItem","playlists_reducer","selected_stations_preview_reducer","snackbar_reducer","stations_reducer","combineReducers","createBrowserHistory","configureStore","middlewares","thunk","createStore","rootReducer","compose","applyMiddleware","config","API_URL","SOCKET_URL","APP_TITLE","HTTP","method","uri","headers","params","url","trim","query","Promise","resolve","reject","axios","then","response","catch","err","console","log","alert","status","setTrackSchedule","dispatch","setPairedDevice","setLastTrack","setTrackMap","setLocation","setLocationJWT","setCurrentTrack","setIsPlaying","setDisableSkip","setTrackNumber","setUser","setSchedules","socket","io","socketChannels","addPlayerListeners","playerPaired","playerUnPaired","playerDisconnected","playerPlayed","playerPaused","disconnectPlayer","getState","locationId","error","connectPlayer","res","currentTrackNumber","currentTrackByNumber","playNextReq","sameStation","skipSong","songCompletion","trackScheduleId","trackScheduleLength","queue","nextTrack","getTrackNumberByTrack","checkTrackNumber","stationId","toString","playNextRes","checkIfAdvertisement","isAdvertisement","substring","isInStoreMessage","skipTimer","setTimeout","clearTimeout","removePlayerListeners","removeEventListener","updateStationListener","on","setStation","updateCurrentTrackListener","removeStationListener","MobileAppCommunicator","inApp","endpoint","ReactNativeWebView","postMessage","JSON","stringify","func","addEventListener","msg","parse","auth0setLogin","toLowerCase","setIsApple","loginSuccess","token","send","obj","deviceName","uniqueId","deviceBrand","override","mixMaxRegister","id","email","name","groupName","signUp","signUpSuccess","signUpFailed","finally","toggleFavorite","newFavorites","_id","splice","push","toggleExplicit","previousExplicitState","explicitAllowed","setExplicit","getStation","companyId","getDiscoverPulicStations","filteredData","tempoList","forEach","getPublicStationsForDiscover","getStationDetails","assignStation","createSchedule","getSchedule","editSchedule","setSchedule","scheduleId","schedule","getMyPlaylists","assignSchedule","setSnackbarMessage","deleteSchedule","deletedSchedule","getMessages","createMessage","voice","language","frequency","deleteMessage","updateFrequency","getVoiceOptions","startSockets","setSnackbarNotification","_setSnackbarNotification","_setSnackbarMessage","AntSpinner","style","fontSize","color","spin","Main","props","this","auth0","isAuthenticated","history","width","height","position","display","alignItems","justifyContent","indicator","spinning","Component","connect","bindActionCreators","withRouter","withAuth0","FormItem","Form","Item","google","AutoSearchForm","getLocation","navigator","geolocation","getCurrentPosition","coords","setState","myLocation","lng","longitude","lat","latitude","info","onSuggestSelect","suggest","gmaps","address_components","component","types","indexOf","city","long_name","addressLineOne","addressLineTwo","postalCode","country","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","userData","label","cords","companySearch","onSumbit","missingData","address","getFieldDecorator","form","className","rules","required","ref","el","_geoSuggest","onChange","e","placeholder","maps","LatLng","radius","WrappedApp","create","AddressForm","onSubmit","validateFieldsAndScroll","values","validTimezone","checkIfValidTimezone","isLoading","onSearch","searchText","keys","timezoneRes","filter","includes","selectedTimezone","onSelect","value","dropdownError","timezoneData","hideRequiredMark","float","initialValue","onPressEnter","dataSource","onClick","Option","Select","CompanyInfo","countryCode","businessType","preventDefault","businessSelected","userType","firstName","lastName","phoneNumber","concat","parsePhoneNumber","handleMenuClick","replace","prefixSelector","borderRight","pattern","addonBefore","overlay","menu","trigger","textTransform","faChevronDown","marginLeft","logEvent","category","ReactGA","event","parseInt","trackScreen","pageview","pathname","search","trackModal","modal","modalview","Step","Steps","companySteps","Login","next","current","steps","signUpSubmit","success","prev","progressDot","textAlign","0","1","marginRight","_onLogin","password","isLogin","Password","block","loginWithRedirect","pairToken","char","index","fontWeight","margin","_extends","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","gradientUnits","y1","x2","y2","offset","stopColor","d","x1","_ref9","_ref10","_ref","svgRef","viewBox","ForwardRef","forwardRef","Auth0Helper","lock","Auth0Lock","configurationBaseUrl","autoclose","autofocus","closable","redirectUrl","origin","responseType","sso","theme","logo","primaryColor","languageDictionary","signUpTitle","forgotPasswordTitle","additionalSignUpFields","show","initialScreen","logout","Content","Layout","resizeListener","StationDetails","close","isLoggedIn","startStationDisabled","startStation","isBack","favoriteStation","favoriteDisabled","isBackgroundImage","isMobile","document","body","scrollTop","documentElement","setStationDetails","prevProps","isEqual","setStationBackgroundImage","removeStationBackgroundImage","waitHeader","setInterval","stationHeader","getElementById","backgroundImage","cover","clearInterval","thisStationId","stationQueue","stationFavorited","checkIfFavorited","isActiveStation","backgroundColor","undefined","hex","size","faChevronLeft","disabled","faPlayCircle","faHeart","description","src","alt","opacity","artist","album","BPM","animate","speed","hideText","animation","toFixed","PageTitle","subtitle","backArrow","backArrowPress","faArrowLeft","DashboardModule","content","contentArray","Array","isArray","React","Children","child","cloneElement","errorTimer","testInterval","CreateSoundTrack","checkPlayerState","isThisDevicePlaying","playerInfo","controllerStyle","getSongTime","scrollIntoView","behavior","showPlaylistModal","playlistId","playlistModalId","afterCreateStaion","showStationSearch","toggleStationSearch","collapse","getElementsByClassName","parseLocationName","connectPress","showAppModal","loadPlayer","loadingPlayer","showConnectModal","changeStationPress","playStation","playButtonDisabled","loadingExplicit","artistName","isFixHeader","pageHeight","showErrorModal","userName","errorTitle","errorMessage","errorIcon","errorButton","currentSongTime","currentSongDuration","createUserName","viewedMobile","emit","userId","closeErrorMessage","innerHTML","useTrack","songImage","locationName","songTrack","songArtist","stationName","link","open","faHeartbeat","openLink","faGrinBeamSweat","songData","getTrackData","isIndividual","locationInUse","activeStation","scheduleName","hasTrackOverflow","hasArtistOverflow","nowPlayingInfoWrapper","nowPlayingTrack","nowPlayingArtist","getBoundingClientRect","visible","Boolean","onCancel","bodyStyle","minHeight","padding","footer","borderRadius","overflow","maxHeight","openAdBlockMessage","faMobile","borderColor","marginTop","faTv","faPause","faPlay","stubTrue","faStepForward","faTimes","sendToMobileDevice","faMusic","marginBottom","faKey","faCog","checked","loading","onOk","faTvMusic","faSpeaker","faCommentMusic","AmbiiLogo","faApple","MoodTag","isHovered","onMouseOver","onMouseOut","performSelect","text","onMouseEnter","onMouseLeave","MoodTagSearchBar","removeTag","onChangeText","searchTags","items","tag","tags","filterTagArray","second","Set","selectedTags","x","has","handleClick","node","contains","isSearchFocused","handleHeight","tagListRef","onFocus","c","tagInput","faSearch","top","TEMPOS","Number","MAX_SAFE_INTEGER","TempoSelection","performSelectTempo","tempo","currentSelectedTempo","selectTempo","deSelectTempo","reverse","AdvanceFilter","browseMoods","onSelectTempo","onDeselectTempo","onSelectMood","browseEraRange","onSelectEra","TracksModal","albumCover","shape","GenreColorBar","dataA","dataB","genres","roundBottom","simple","entries","sort","dataC","totalPercentage","calculateEachPercentage","percent","bpmInfo","music","borderBottomLeftRadius","borderBottomRightRadius","bottom","left","PublicStation","modalVisible","hovered","showModal","hideModal","stationPress","check","userAgent","vendor","opera","test","substr","company","stopPropagation","rowIndex","browse","tileStyle","previewCardStyle","bpmMean","border","showStats","PureComponent","StationSection","showArrows","showLeftArrow","showRightArrow","diff","outer","scrollView","getElement","clientWidth","inner","scrollWrapper","preMargin","round","showViewAll","buttonPress","rightMoveSpeed","scrollRight","scrollBy","forceUpdate","faCaretLeft","me","onScroll","leftMoveSpeed","scrollLeft","faCaretRight","clicked","GenresSection","calculateBrowse","loadNumber","buildPercentages","returnedObj","toVector","vector","cosSim","A","B","dotproduct","mA","mB","sqrt","scoreString","searchString","targetString","score","j","ngram","pow","playlist","mean","browseTempoRange","searchScore","targetGenres","browseGenres","targetMoods","genresSelected","moodsSelected","genreSimilarities","moodSimilarities","moods","total","calculatedPlaylists","_checkIfAllFalse","_checkIsFiltering","isSearching","isSelectingGenre","isSelectingMood","onSetFiltering","isFiltering","onSelectGenre","selectedGenres","showAdvancedSearch","showClearFilters","selectedMoods","from","to","onSetSearchText","searchTimeout","isStation","defaultGenres","defaultMoods","getBusinessType","showAdFreeModal","globalStations","businessTypeStations","hasFavorites","favoritesQueue","superset","businessTypeSuperset","playlistSuperset","str","businessTypeMenu","updatePreference","selectedKeys","login","flex","animationIn","isVisible","Search","prevState","faFilter","paddingRight","clearAdvancedFilters","loadMoreStations","favorite","StationTile","StationVerticalList","expanded","displayData","elem","toggleExpand","ToggleInput","handleUpdate","copy","val","toggleInput","activeInput","inputRef","focus","createRef","handleClickOutside","handleKeyDown","onUpdate","flexDirection","faPenSquare","confirm","Modal","CreateSchedule","renderHeader","date","getDay","validateEvent","start","getDate","end","getHours","getMinutes","revert","saveSchedule","isSaving","calendarEvents","calendarComponentRef","getApi","getEvents","tempStations","moment","format","day","extendedProps","closeSchedule","backToDashboard","mySchedule","match","showMusicPlayer","accessFullCalendarAPI","bind","draggableEl","Draggable","itemSelector","eventData","eventEl","getAttribute","sideSection","calendar","setOption","faDesktop","faSmile","remove","categorizedKeys","globalStationKeys","showErrorMessage","stationNameUpdate","faExternalLinkAlt","defaultView","header","defaultDate","allDayDefault","eventDurationEditable","editable","events","droppable","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","eventDrop","eventReceive","slotDuration","eventClick","startRecur","Date","now","allDaySlot","eventOverlap","columnHeaderText","eventResize","forceEventDuration","ScheduleBlock","callback","hidden","wait","timeout","hasData","stopLoading","faTrash","Schedules","getAllLocations","creatingSchedule","createNewSchedule","faPlus","MessageCard","messageData","setPreviewUrl","faVolume","paddingLeft","delete","defaultValue","updateMessageFrequency","InStoreMessaging","previewTrackUrl","rap","audioEl","play","activeMessages","inactiveMessages","element","autoPlay","controls","muted","volume","onCanPlay","playTrack","onEnded","onError","m","TextArea","Input","CreateInStoreMessaging","languageCode","voiceOptions","parent","checkIfValidISM","maxLength","rows","v","renderLanguageOptions","renderVoiceOptions","freq","routes","path","exact","isChild","private","duration","AppHeader","route","logInOut","hasStation","destroy","windowSize","innerWidth","activePath","tab","mobileHeaderMenu","mode","isCreateSchedulePage","headStyle","faBars","checkIfActiveTab","faAcorn","VolumeSlider","handleChange","myVolume","changeVolume","calculateVolumeHeight","orientation","tooltip","onChangeStart","startDrag","onChangeComplete","endDrag","MusicBar","localVolume","parseFloat","currentTime","previousVolume","showVolumeControl","dragging","isrc","checkIfVolumeSlider","updateTrackState","pause","currentTrackISRC","currentTrackUrl","promise","playerInfoWrapper","artistOverflow","trackOverflow","getCurrentTrack","songError","togglePlay","newVolume","setVolume","toggleVolumeDrag","faVolumeMute","toggleMute","faVolumeUp","closePlayer","initialize","AmbiiRouter","getLock","initiateLogin","idToken","checkSession","Routes","render","showMenu","RouterWithAuth","App","initAnalytics","snackbarMessageDuration","siteSpeedSampleRate","testMode","hostname","openNotification","openMessage","hasNotification","hasMessage","warn","RootContainer","store","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9d34f108.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ambii_logo_inverse.188927ed.png\";","module.exports = __webpack_public_path__ + \"static/media/androidBtn.e65a89bc.png\";","module.exports = __webpack_public_path__ + \"static/media/appleBtn.99f1ed98.png\";","module.exports = __webpack_public_path__ + \"static/media/appLogo.811d25b4.png\";","module.exports = __webpack_public_path__ + \"static/media/bg1.069f3dec.png\";","module.exports = __webpack_public_path__ + \"static/media/bg2.5a06bbee.png\";","module.exports = __webpack_public_path__ + \"static/media/bg3.9f68fc4b.png\";","module.exports = __webpack_public_path__ + \"static/media/bg4.815bb5d4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg5.b7d2890a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg6.435f2fc0.jpg\";","export const categories = {\n  welcome: \"Welcome\",\n  discover: \"Discover\",\n  dashboard: \"Dashboard\",\n  schedule: \"Schedule\",\n  player: \"Player\",\n  general: \"General\",\n};\n\nexport const actions = {\n  // Welcome\n  login: \"Logged into web application\",\n  signup: \"Signed up for web application\",\n  failedLogin: \"Failed to login\",\n  timezone: \"Selected a new timezone\",\n\n  // Discover\n  stationPreview: \"Previewed a station\",\n  startStation: \"Started station\",\n  updatePreference: \"Updated station preference\",\n  advancedBrowse: \"Swapped to advance station browse\",\n  stationBrowse: \"Swapped to station browse\",\n  search: \"Search station\",\n\n  // Dashboard\n  startPlayer: \"Started web player\",\n  closePlayer: \"Closed web player\",\n  connect: \"Pressed connect button\",\n\n  // Scheduling\n  createSchedule: \"Created Schedule\",\n  saveSchedule: \"Saved Schedule\",\n  closeSchedule: \"Closed Schedule\",\n  backToDashboard: \"Back To Dashboard\",\n  changeScheduleName: \"Changed Schedule Name\",\n  viewedMobile: \"Viewed on Mobile Device\",\n\n  // General\n  button: \"Clicked a button\",\n  toggledFavorite: \"Toggled a station as favorite\",\n  signout: \"User signed out of web application\",\n\n  // Error\n};\n\nexport const labels = {\n  button: \"button\",\n  error: \"error\",\n};\n","export const genreColors = {\n  \"Electronica\": \"#44d474\",\n  \"Alternative & Punk\": \"#d9964a\",\n  \"Rock\": \"#d64b46\",\n  \"Pop\": \"#d04283\",\n  \"Classical\": \"#8046d6\",\n  \"Traditional\": \"#c178ff\",\n  \"Jazz\": \"#42c4d0\",\n  \"Soundtrack\": \"#E6DD5D\",\n  \"Urban\": \"#191919\",\n  \"Other\": \"#999999\",\n};\n","export const images = {\n  googleBtn: require(\"../common/assets/images/androidBtn.png\"),\n  iosBtn: require(\"../common/assets/images/appleBtn.png\"),\n  appLogo: require(\"../common/assets/images/appLogo.png\"),\n  bg1: require(\"../common/assets/images/bg1.png\"),\n  bg2: require(\"../common/assets/images/bg2.png\"),\n  bg3: require(\"../common/assets/images/bg3.png\"),\n  bg4: require(\"../common/assets/images/bg4.jpg\"),\n  bg5: require(\"../common/assets/images/bg5.jpg\"),\n  bg6: require(\"../common/assets/images/bg6.jpg\"),\n};\n","export const frequencies = [\n  { title: \"Inactive\", time: \"0\" },\n  { title: \"Every 15 Minutes\", time: \"15\" },\n  { title: \"Every 30 Minutes\", time: \"30\" },\n  { title: \"Every Hour\", time: \"60\" },\n  { title: \"Every Few Hours\", time: \"180\" },\n  // { title: \"Custom\", time: \"custom\" },\n];\n","export const supersetDescriptions = {\n  \"Popular Today\": \"The Top Hits of Today\",\n  \"Holiday Music\": \"Get into the spirit of the season!\",\n  \"Flattening the Curve\": \"Battling COVID-19, one song at a time.\",\n  \"Upbeat Energy\": \"Energetic songs to get the mood flowing.\",\n  \"Laid-back, Low-key.\": \"Songs for relaxation and chill-out times.\",\n  \"Learning to Grow\": \"A series for those looking to overcome rough times, through different genres of music.\",\n  \"Decades\": \"Your home for all decades of music.\",\n  \"Ahead of the Curve\": \"A series for those who are tomorrow's trendsetters.\",\n  \"Liquid Courage\": \"Beats for those that are bold and those that are beautiful.\",\n  \"Beats and Beers\": \"Cheer on your favorite team with these country hits!\",\n  \"Taproom Treasures\": \"Stripped-down music for the sophisticated drinker.\",\n  \"Flirtatious Friday Night\": \"She's sitting right there.\",\n  \"Settled-Down Speakeasy\": \"Jazzy tunes for a sparkilng night.\",\n  \"Dancin' Across the World\": \"Iresistable, international glimmers of firey fun.\",\n  \"Coffee Curiosity\": \"A perfect morning moodsetter.\",\n  \"Bookstore Barista\": \"Quiet jazz for newspapers and novelists.\",\n  \"Classical Cappuccino\": \"Upscale grandiose through caffine and classical.\",\n  \"Countryside Cafe\": \"For french toast, syrup, and kickin' up those boots in the morning.\",\n  \"Late Night Study \": \"Beats for the studious individual \",\n  \"Glitz At the Ritz\": \"Wonder and wow through jazzy band ballads.\",\n  \"Loungeside Lovers\": \"Ambiance for the low-key days and nights.\",\n  \"Hearthside Hip\": \"R&B treasures for the late-night bonfire vibes\",\n  \"Travelers Rest\": \"Soft stripped music to lay down to.\",\n  \"Elegant Entertainment\": \"Classical masterpieces for the sophisticated traveler.\",\n  \"Tropical Getaway\": \"A cabana soundtrack for pina coladas and the poolside.\",\n  \"Pep Rally Pop\": \"Let's get this bread.\",\n  \"Study Beats\": \"Lo-fi music for the late study nights.\",\n  \"Intelligence through Inspiration\": \"Ambiance for peaceful reflection and quiet times.\",\n  \"Classical Concentration\": \"Inspiration through piano, strings, and eras of talent\",\n  \"Developing Brains\": \"For the little ones.\",\n  \"Academy Alternative\": \"Alternative hits for those looking to get work done.\",\n  \"Boutique Beats\": \"Continuous flow and feel-good vibes.\",\n  \"Diamonds Are Forever\": \"Inspirational classical music for the sophisticated shopper.\",\n  \"Retail R&B\": \"R&B and pop hits for the casual customer.\",\n  \"Food Court Finds\": \"Grab a bite to eat with this easy-listening soundtrack!\",\n  \"Girls Night Out\": \"Empowering women through confident, feel-good beats.\",\n  \"Upscaled Grace\": \"Elegance through classical masterpieces.\",\n  \"Jukebox of the Ages\": \"Your home for all decades of music.\",\n  \"Wax and Relax\": \"Set the mood with the perfect ambiiance.\",\n  \"Hairdresser Hop\": \"R&B and hip hop hits for the trendsetter.\",\n  \"Nails, Hair, Hips, Heels\": \"Endless feel-good beats.\",\n  \"Pumpin Metal\": \"Rock and Metal soundtrack for the heavy lifter.\",\n  \"Persistence Pop\": \"Keep that grind up.\",\n  \"Pre-Game Pump Up\": \"Get in your head, get in the ring.\",\n  \"Fire Dancing Fiesta\": \"High-energy music for the dancers...and for that perfect body.\",\n  \"Heavy Lifting Hype\": \"Get turnt.\",\n  \"Hamburger Hits\": \"Quick beats for quick bites.\",\n  \"Barbecue Bash\": \"Perfect for the backyard and the beer.\",\n  \"Asian Eats\": \"You don't need a plane ticket.\",\n  \"Taco Truck Temposetter\": \"Are you going to finish all 10 of those tacos?\",\n  \"Boba Beats\": \"Passionfruit, peach stars, pearls, and perfection.\",\n  \"Royalty Dining\": \"Elegnat music for roses and candlelit dinners.\",\n  \"Ethereal Elegance\": \"Transcend within yourself.\",\n  \"Self-Care Classical\": \"Classical music to rejuvinate the brain.\",\n  \"Asian Getaway\": \"Sounds through Japaneese cherry blossoms and night-market eats.\",\n  \"Relaxin' R&B\": \"Good vibes only.\",\n  \"Hot Spring Hits\": \"Glimmering hits for feel-good moments.\",\n  \"Working From Home\": \"Chill beats for ultimate focus and productivity.\",\n  \"New Hobby, New Self\": \"Cooking, dancing, stretching, reading- with this time, anything is possible.\",\n  \"A Time For Reflection\": \"Rise above and let serenity flow in this time of unrest.\",\n  \"Go Hard or (Stay) Home\": \"Quarantine ain't stopping these muscle gains.\",\n  \"Treasured Throwbacks\": \"Remembering the days before this period of time.\",\n  \"Positive Vibes Only (Singing in the Shower)\": \"Sing your heart out to these songs of joy and jubilation!\",\n};\n","export const supersets = {\n  global: [\"Holiday Music\", \"Popular Today\"],\n  defaultIndividual: [\"Working From Home\", \"New Hobby, New Self\", \"A Time For Reflection\", \"Go Hard or (Stay) Home\", \"Treasured Throwbacks\", \"Positive Vibes Only (Singing in the Shower)\"],\n  bar: [\"Liquid Courage\", \"Beats and Beers\", \"Taproom Treasures\", \"Flirtatious Friday Night\", \"Settled-Down Speakeasy\", \"Dancin' Across the World\"],\n  cafe: [\"Coffee Curiosity\", \"Bookstore Barista\", \"Classical Cappuccino\", \"Boba Beats\", \"Countryside Cafe\", \"Late Night Study \"],\n  gym: [\"Pumpin Metal\", \"Persistence Pop\", \"Pre-Game Pump Up\", \"Fire Dancing Fiesta\", \"Heavy Lifting Hype\"],\n  hotel: [\"Glitz At the Ritz\", \"Loungeside Lovers\", \"Hearthside Hip\", \"Travelers Rest\", \"Elegant Entertainment\", \"Tropical Getaway\"],\n  other: [\"Flattening the Curve\", \"Upbeat Energy\", \"Laid-back, Low-key.\", \"Learning to Grow\", \"Decades\", \"Ahead of the Curve\"],\n  restaurant: [\"Hamburger Hits\", \"Barbecue Bash\", \"Asian Eats\", \"Taco Truck Temposetter\", \"Boba Beats\", \"Royalty Dining\"],\n  salon: [\"Girls Night Out\", \"Upscaled Grace\", \"Jukebox of the Ages\", \"Wax and Relax\", \"Hairdresser Hop\", \"Nails, Hair, Hips, Heels\"],\n  school: [\"Pep Rally Pop\", \"Study Beats\", \"Intelligence through Inspiration\", \"Classical Concentration\", \"Developing Brains\", \"Academy Alternative\"],\n  spa: [\"Ethereal Elegance\", \"Tropical Getaway\", \"Self-Care Classical\", \"Asian Getaway\", \"Relaxin' R&B\", \"Hot Spring Hits\"],\n  shop: [\"Boutique Beats\", \"Diamonds Are Forever\", \"Jukebox of the Ages\", \"Retail R&B\", \"Girls Night Out\", \"Food Court Finds\"],\n};\n","import { faSnooze, faTurtle, faSquirrel, faRabbitFast, faRocket } from \"@fortawesome/pro-regular-svg-icons\";\n\nexport const tempos = {\n  Slower: { title: \"Slower\", min: 0, max: 59, icon: faSnooze },\n  Slow: { title: \"Slow\", min: 60, max: 119, icon: faTurtle },\n  Moderate: { title: \"Moderate\", min: 120, max: 189, icon: faSquirrel },\n  Fast: { title: \"Fast\", min: 190, max: 249, icon: faRabbitFast },\n  Faster: { title: \"Faster\", min: 250, max: 900, icon: faRocket },\n};\n","export const timezones = {\n  \"America/Adak\": \"-09:00\",\n  \"America/Anchorage\": \"-08:00\",\n  \"America/Boise\": \"-06:00\",\n  \"America/Chicago\": \"-05:00\",\n  \"America/Denver\": \"-06:00\",\n  \"America/Detroit\": \"-04:00\",\n  \"America/Indiana/Indianapolis\": \"-04:00\",\n  \"America/Indiana/Knox\": \"-05:00\",\n  \"America/Indiana/Marengo\": \"-04:00\",\n  \"America/Indiana/Petersburg\": \"-04:00\",\n  \"America/Indiana/Tell_City\": \"- 05:00\",\n  \"America/Indiana/Vevay\": \"-04:00\",\n  \"America/Indiana/Vincennes\": \"-04:00\",\n  \"America/Indiana/Winamac\": \"-04:00\",\n  \"America/Juneau\": \"-08:00\",\n  \"America/Kentucky/Louisville\": \"-04:00\",\n  \"America/Kentucky/Monticello\": \"-04:00\",\n  \"America/Los_Angeles\": \"-07:00\",\n  \"America/Menominee\": \"-05:00\",\n  \"America/Metlakatla\": \"-08:00\",\n  \"America/New_York\": \"-04:00\",\n  \"America/Nome\": \"-08:00\",\n  \"America/North_Dakota/Beulah\": \"-05:00\",\n  \"America/North_Dakota/Center\": \"-05:00\",\n  \"America/North_Dakota/New_Salem\": \"-05:00\",\n  \"America/Phoenix\": \"-07:00\",\n  \"America/Sitka\": \"-08:00\",\n  \"America/Yakutat\": \"-08:00\",\n  \"Pacific/Honolulu\": \"-10:00\",\n};\n","export * from \"./actionTypes\";\nexport * from \"./analytics\";\nexport * from \"./genreColors\";\nexport * from \"./genreProperNames\";\nexport * from \"./images\";\nexport * from \"./inStoreMessaging.js\";\nexport * from \"./supersetDescriptions\";\nexport * from \"./supersets\";\nexport * from \"./tempos\";\nexport * from \"./timezones\";\n\nexport const userTypes = {\n  Owner: \"Owner\",\n  Individual: \"Individual\",\n};\n\nexport const defaultStationCount = 12;\n","let initialState = {\n  auth: {\n    user: null,\n    jwt: null,\n    location: {},\n    isApple: false,\n  },\n  snackbar: {\n    notification: {},\n    message: {},\n  },\n  loader: {\n    requestInProgress: 0,\n  },\n  locations: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  playlists: {\n    schedules: [],\n  },\n  stations: {\n    topTrack: [],\n    artists: [],\n    tracks: [],\n    playlistList: [],\n    genreList: [],\n    eraList: [],\n    moodList: [],\n    data: [],\n    count: 0,\n    skip: 0,\n    limit: 10,\n  },\n  stationPreviews: {\n    genre: [],\n    era: [],\n    mood: [],\n    activeStationPreview: [],\n  },\n  selectedPreviews: {\n    ID: \"\",\n    track: [],\n  },\n  zones: {\n    data: [],\n    count: 0,\n    limit: 0,\n    skip: 0,\n  },\n  schedules: {\n    activeSchedule: null,\n    schedules: [],\n  },\n  player: {\n    locationJWT: null,\n    showPlayer: false,\n    isPlaying: false,\n    skipDisabled: false,\n    trackNumber: 0,\n    trackMap: {},\n    playerError: {},\n  },\n  inStoreMessaging: {\n    messages: [],\n  },\n};\n\nexport default initialState;\n","import { get } from \"lodash\";\nimport { tempos } from \"../constants\";\n\nexport const tagTypes = {\n  explicit: { name: \"Explicit\", color: \"#EA526F\" },\n};\n\nexport const capitolizeFirstLetter = (str) => {\n  if (!str) return \"\";\n  return str.charAt(0).toUpperCase() + str.substring(1, str.length);\n};\n\nexport const generateRandomString = (length) => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result.toUpperCase();\n};\n\n/**\n * Converts an object-array to map\n * @param {*} arr - Array to convert\n * @param {*} key - Object key\n */\nexport const objArrayToMap = (arr, key) => {\n  if (!arr || !key) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[get(item, key, null)] = item);\n  });\n  return map;\n};\n\n// Convert array to map\nexport const arrayToMap = (arr) => {\n  if (!arr) return [];\n  let map = [];\n  arr.map((item) => {\n    return (map[item] = true);\n  });\n  return map;\n};\n\nexport const hashCode = (s) => {\n  if (!s) return \"\";\n  return \"https://random-station-artwork.s3-us-west-2.amazonaws.com/\" + (Math.abs(s.split(\"\").reduce((a, b) => ((a << 5) - a + b.charCodeAt(0)) | 0, 0)) % 101) + \".jpg\";\n};\n\n// Check screen width for mobile dimensions\nexport const checkForMobile = () => {\n  let width = window.outerWidth;\n  if (width <= 650) return true;\n  return false;\n};\n\n// Converts seconds into \"0:13\" time format\nexport const getTime = (time) => {\n  if (!isNaN(time)) return Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\n  else return \"0:00\";\n};\n\n// Gets the BPM info\nexport const getBPMInfo = (bpm) => {\n  if (bpm >= 0 && bpm <= 59) return tempos[\"Slower\"];\n  else if (bpm >= 60 && bpm <= 119) return tempos[\"Slow\"];\n  else if (bpm >= 120 && bpm <= 189) return tempos[\"Moderate\"];\n  else if (bpm >= 190 && bpm <= 249) return tempos[\"Fast\"];\n  else if (bpm >= 240 && bpm <= 900) return tempos[\"Faster\"];\n  else return tempos[\"Moderate\"];\n};\n\n// Creates, sets, and returns a deviceID\nexport const getDeviceId = () => {\n  let deviceID = localStorage.getItem(\"deviceID\"); // Get previously generated deviceID (if any)\n  if (!deviceID) {\n    deviceID = \"web-\" + generateRandomString(10); // If no deviceID, create one\n    localStorage.setItem(\"deviceID\", deviceID); // Store deviceID\n  }\n  return deviceID;\n};\n","import { SET_IS_APPLE, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_EXPLICIT, SET_TRACK_SCHEDULE, SET_USER, LOGIN_SUCCESS, SET_LOCATION, UPDATE_STATION, UPDATE_CURRENT_TRACK, SET_FAVORITES } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nconst auth_reducer = (state = initialState.auth, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, { ...action.data });\n    case SET_USER:\n      return Object.assign({}, state, { user: action.data });\n    case SET_LOCATION:\n      return Object.assign({}, state, { location: { ...action.data, favoritesMap: objArrayToMap(get(action, \"data.favorites\", []), \"_id\") } });\n    case UPDATE_STATION:\n      return Object.assign({}, state, { location: { ...state.location, station: action.data } });\n    case UPDATE_CURRENT_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, currentTrack: action.data } });\n    case SET_FAVORITES:\n      return Object.assign({}, state, { location: { ...state.location, favorites: action.data, favoritesMap: objArrayToMap(get(action, \"data\", []), \"_id\") } });\n    case SET_EXPLICIT:\n      return Object.assign({}, state, { location: { ...state.location, explicit: action.data } });\n    case SET_PAIRED_DEVICE:\n      return Object.assign({}, state, { location: { ...state.location, pairedDevice: action.data } });\n    case SET_LAST_TRACK:\n      return Object.assign({}, state, { location: { ...state.location, lastTrack: action.data } });\n    case SET_TRACK_SCHEDULE:\n      return Object.assign({}, state, { location: { ...state.location, trackSchedule: action.data } });\n    case SET_IS_APPLE: // This is an action for APPLE review\n      return Object.assign({}, state, { isApple: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default auth_reducer;\n","// Auth\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const SET_LOCATION = \"SET_LOCATION\";\nexport const SET_USER = \"SET_USER\";\nexport const SET_FAVORITES = \"SET_FAVORITES\";\nexport const SET_PAIRED_DEVICE = \"SET_PAIRED_DEVICE\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILED = \"SIGNUP_FAILED\";\nexport const SET_IS_APPLE = \"SET_IS_APPLE\";\n\n// Loader\nexport const LOADER_SHOW = \"LOADER_SHOW\";\nexport const LOADER_HIDE = \"LOADER_HIDE\";\n\n// Player\nexport const SET_TRACK_SCHEDULE = \"SET_TRACK_SCHEDULE\";\nexport const SET_EXPLICIT = \"SET_EXPLICIT\";\nexport const SET_LAST_TRACK = \"SET_LAST_TRACK\";\nexport const SET_TRACK_MAP = \"SET_TRACK_MAP\";\nexport const SET_TRACK_NUMBER = \"SET_TRACK_NUMBER\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_SHOW_PLAYER = \"SET_SHOW_PLAYER\";\nexport const SET_LOCATION_JWT = \"SET_LOCATION_JWT\";\nexport const DISCONNECT_PLAYER_SUCCESS = \"DISCONNECT_PLAYER_SUCCESS\";\nexport const PLAYER_ERROR = \"PLAYER_ERROR\";\nexport const SET_SKIP_DISABLED = \"SET_SKIP_DISABLED\";\n\n// Snackbar\nexport const SET_SNACKBAR_NOTIFICATION = \"SET_SNACKBAR_NOTIFICATION\";\nexport const SET_SNACKBAR_MESSAGE = \"SET_SNACKBAR_MESSAGE\";\n\n// Playlist\nexport const SET_PLAYLISTS = \"SET_PLAYLISTS\";\n\n// Stations\nexport const GET_PUBLIC_STATIONS_FOR_DISCOVER = \"GET_PUBLIC_STATIONS_FOR_DISCOVER\";\nexport const UPDATE_STATION = \"UPDATE_STATION\";\nexport const UPDATE_CURRENT_TRACK = \"UPDATE_CURRENT_TRACK\";\n\n// Create Schedule\nexport const ADD_SCHEDULE = \"ADD_SCHEDULE\";\nexport const SET_SCHEDULE = \"SET_SCHEDULE\";\nexport const ACTIVE_SCHEDULE = \"ACTIVE_SCHEDULE\";\n\n// In-Store Messaging\nexport const SET_INSTORE_MESSAGES = \"SET_INSTORE_MESSAGES\";\n","import { SET_INSTORE_MESSAGES } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst inStoreMessaging_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_INSTORE_MESSAGES:\n      return Object.assign({}, state, { messages: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default inStoreMessaging_reducer;\n","import { SET_SKIP_DISABLED, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_TRACK_MAP, SET_TRACK_NUMBER, SET_IS_PLAYING, SET_SHOW_PLAYER, SET_LOCATION_JWT } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst player_reducer = (state = initialState.player, action) => {\n  switch (action.type) {\n    case SET_TRACK_MAP:\n      return Object.assign({}, state, { trackMap: action.data });\n    case SET_TRACK_NUMBER:\n      return Object.assign({}, state, { trackNumber: action.data });\n    case SET_IS_PLAYING:\n      return Object.assign({}, state, { isPlaying: action.data });\n    case SET_SKIP_DISABLED:\n      return Object.assign({}, state, { skipDisabled: action.data });\n    case SET_SHOW_PLAYER:\n      return Object.assign({}, state, { showPlayer: action.data });\n    case SET_LOCATION_JWT:\n      return Object.assign({}, state, { locationJWT: action.data });\n    case PLAYER_ERROR:\n      return Object.assign({}, state, { playerError: action.data });\n    case DISCONNECT_PLAYER_SUCCESS:\n      localStorage.removeItem(\"location-jwt\");\n      return Object.assign({}, state, { locationJWT: null });\n    default:\n      return state;\n  }\n};\n\nexport default player_reducer;\n","import { SET_PLAYLISTS } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst playlists_reducer = (state = initialState.playlists, action) => {\n  switch (action.type) {\n    case SET_PLAYLISTS:\n      return Object.assign([], state, { schedules: action.data });\n    default:\n      return state;\n  }\n};\nexport default playlists_reducer;\n","import { ADD_SCHEDULE, SET_SCHEDULE, ACTIVE_SCHEDULE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst selected_stations_preview_reducer = (state = initialState.selectedPreviews, action) => {\n  switch (action.type) {\n    case ADD_SCHEDULE:\n      return Object.assign(\n        {},\n        { ...state },\n        {\n          data: null,\n        }\n      );\n    case SET_SCHEDULE:\n      return Object.assign({}, state, {\n        ID: \"\",\n        track: [],\n      });\n    case ACTIVE_SCHEDULE:\n      return Object.assign({}, state, {\n        activeSchedule: action.data,\n      });\n    default:\n      return state;\n  }\n};\nexport default selected_stations_preview_reducer;\n","import { SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst snackbar_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_SNACKBAR_NOTIFICATION:\n      return Object.assign({}, state, { notification: action.data });\n    case SET_SNACKBAR_MESSAGE:\n      return Object.assign({}, state, { message: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default snackbar_reducer;\n","import { GET_PUBLIC_STATIONS_FOR_DISCOVER } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst stations_reducer = (state = initialState.stations, action) => {\n  switch (action.type) {\n    case GET_PUBLIC_STATIONS_FOR_DISCOVER:\n      return Object.assign({}, state, {\n        playlistList: action.data.playlistList,\n        genreList: action.data.genreList,\n        eraList: action.data.eraList,\n        moodList: action.data.moodList,\n      });\n    default:\n      return state;\n  }\n};\nexport default stations_reducer;\n","import { combineReducers } from \"redux\";\nimport auth from \"./auth\";\nimport inStoreMessaging from \"./inStoreMessaging\";\nimport player from \"./player\";\nimport playlists from \"./playlists\";\nimport schedules from \"./schedules\";\nimport snackbar from \"./snackbar\";\nimport stations from \"./stations\";\n\nexport default combineReducers({\n  auth,\n  inStoreMessaging,\n  player,\n  playlists,\n  schedules,\n  snackbar,\n  stations,\n});\n","/* eslint-disable no-undef */\n\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport reduxImmutableStateInvariant from \"redux-immutable-state-invariant\";\nimport thunk from \"redux-thunk\";\nimport { createBrowserHistory } from \"history\";\n// 'routerMiddleware': the new way of storing route changes with redux middleware since rrV4.\n// import { routerMiddleware } from 'react-router-redux';\nimport rootReducer from \"../reducers\";\nexport const history = createBrowserHistory();\n\nfunction configureStoreProd(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  return createStore(rootReducer, initialState, compose(applyMiddleware(...middlewares)));\n}\n\nfunction configureStoreDev(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n    reduxImmutableStateInvariant(),\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\n  const store = createStore(rootReducer, initialState, composeEnhancers(applyMiddleware(...middlewares)));\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept(\"../reducers\", () => {\n      const nextReducer = require(\"../reducers\").default; // eslint-disable-line global-require\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n\nconst configureStore = process.env.NODE_ENV === \"production\" ? configureStoreProd : configureStoreDev;\n\nexport default configureStore;\n","let config = {\n  // API_URL: \"https://prod.ambii.io/v2\", //prodB\n  // SOCKET_URL: \"https:/prod.ambii.io\",\n  API_URL: \"https://hola.ambii.io/v2\", //prodA\n  SOCKET_URL: \"https:/hola.ambii.io\",\n  // API_URL: \"https://hola-dev.ambii.io/v2\", // dev\n  // SOCKET_URL: \"https:/hola-dev.ambii.io\",\n  // API_URL: \"http://localhost:4040/v2\", //local\n  // SOCKET_URL: \"http://localhost:4040\",\n  APP_TITLE: \"Ambii\",\n};\n\nexport default config;\n","import axios from \"axios\";\nimport config from \"./urls\";\nimport { get } from \"lodash\";\n\nexport async function HTTP(method, uri, data, headers = null, params = null) {\n  const url = `${config.API_URL}${uri}`.trim();\n  let query = {\n    method: method,\n    url: url,\n    headers: {},\n  };\n\n  if (headers !== null) query.headers = headers;\n  if (params !== null) query.params = params;\n  if (method === \"post\" || method === \"put\" || method === \"delete\" || method === \"patch\") query.data = data;\n\n  query.headers[\"Authorization\"] = \"Bearer \" + localStorage.getItem(\"access-token\");\n\n  return new Promise(function (resolve, reject) {\n    axios(query)\n      .then((response) => {\n        resolve(response);\n      })\n      .catch((err) => {\n        console.log(\"Caught api error: \", err);\n\n        if (err.message === \"Network Error\") {\n          window.alert(err.message);\n        } else if (get(err, \"response.data.message\", null) === \"The token has expired, please login again!\") {\n          // Used to catch if another device connects while web player is connected\n          resolve(false);\n        } else if (err.response && err.response.status === 401) {\n          localStorage.removeItem(\"access-token\");\n          // window.location.reload(true);\n        } else {\n          reject(err);\n        }\n      });\n  });\n}\n","import { SET_IS_APPLE, SET_INSTORE_MESSAGES, GET_PUBLIC_STATIONS_FOR_DISCOVER, ACTIVE_SCHEDULE, SET_SCHEDULE, SET_PLAYLISTS, SET_FAVORITES, LOGIN_SUCCESS, SET_USER, SET_SNACKBAR_NOTIFICATION, SET_SNACKBAR_MESSAGE, PLAYER_ERROR, DISCONNECT_PLAYER_SUCCESS, SET_LOCATION, SET_LOCATION_JWT, SET_TRACK_NUMBER, SET_SHOW_PLAYER, SET_IS_PLAYING, SET_TRACK_SCHEDULE, SET_EXPLICIT, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_TRACK_MAP, UPDATE_STATION, UPDATE_CURRENT_TRACK, SET_SKIP_DISABLED, SIGNUP_SUCCESS, SIGNUP_FAILED, LOADER_SHOW, LOADER_HIDE } from \"../constants\";\n\nexport const setIsApple = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_APPLE,\n    data,\n  });\n};\n\nexport const setFavorites = (data) => (dispatch) => {\n  dispatch({\n    type: SET_FAVORITES,\n    data,\n  });\n};\n\nexport const setTrackSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_SCHEDULE,\n    data,\n  });\n};\n\nexport const setExplicit = (data) => (dispatch) => {\n  dispatch({\n    type: SET_EXPLICIT,\n    data,\n  });\n};\n\nexport const setPairedDevice = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PAIRED_DEVICE,\n    data,\n  });\n};\n\nexport const setLastTrack = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LAST_TRACK,\n    data,\n  });\n};\n\nexport const setTrackMap = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_MAP,\n    data,\n  });\n};\n\nexport const setLocation = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION,\n    data,\n  });\n};\n\nexport const setJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setLocationJWT = (data) => (dispatch) => {\n  dispatch({\n    type: SET_LOCATION_JWT,\n    data,\n  });\n};\n\nexport const setStation = (data) => (dispatch) => {\n  dispatch({\n    type: UPDATE_STATION,\n    data,\n  });\n};\n\nexport const setCurrentTrack = (data) => (dispatch) => {\n  dispatch({\n    type: UPDATE_CURRENT_TRACK,\n    data,\n  });\n};\n\nexport const playerError = (data) => (dispatch) => {\n  dispatch({\n    type: PLAYER_ERROR,\n    data,\n  });\n};\n\nexport const showPlayer = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SHOW_PLAYER,\n    data,\n  });\n};\n\nexport const setIsPlaying = (data) => (dispatch) => {\n  dispatch({\n    type: SET_IS_PLAYING,\n    data,\n  });\n};\n\nexport const setDisableSkip = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SKIP_DISABLED,\n    data,\n  });\n};\n\nexport const setTrackNumber = (data) => (dispatch) => {\n  dispatch({\n    type: SET_TRACK_NUMBER,\n    data,\n  });\n};\n\nexport const disconnectPlayerSuccess = () => (dispatch) => {\n  dispatch({ type: DISCONNECT_PLAYER_SUCCESS });\n};\n\nexport const loginSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: LOGIN_SUCCESS,\n    data,\n  });\n};\n\nexport const setUser = (data) => (dispatch) => {\n  dispatch({\n    type: SET_USER,\n    data,\n  });\n};\n\nexport const _setSnackbarNotification = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_NOTIFICATION,\n    data,\n  });\n};\n\nexport const _setSnackbarMessage = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SNACKBAR_MESSAGE,\n    data,\n  });\n};\n\nexport const setActiveSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: ACTIVE_SCHEDULE,\n    data,\n  });\n};\n\nexport const _setSchedule = (data) => (dispatch) => {\n  dispatch({\n    type: SET_SCHEDULE,\n    data,\n  });\n};\n\nexport const setSchedules = (data) => (dispatch) => {\n  dispatch({\n    type: SET_PLAYLISTS,\n    data,\n  });\n};\n\nexport const getPublicStationsForDiscover = (data) => (dispatch) => {\n  dispatch({\n    type: GET_PUBLIC_STATIONS_FOR_DISCOVER,\n    data,\n  });\n};\n\nexport const setInStoreMessages = (data) => (dispatch) => {\n  dispatch({\n    type: SET_INSTORE_MESSAGES,\n    data,\n  });\n};\n\nexport const signUpSuccess = (data) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_SUCCESS,\n    data,\n  });\n};\n\nexport const signUpFailed = (error) => (dispatch) => {\n  dispatch({\n    type: SIGNUP_FAILED,\n    error,\n  });\n};\n\nexport const showLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_SHOW,\n  });\n};\n\nexport const hideLoader = () => (dispatch) => {\n  dispatch({\n    type: LOADER_HIDE,\n  });\n};\n","import config from \"./urls\";\nimport io from \"socket.io-client\";\n\nexport const socket = io(config.SOCKET_URL);\n\nexport const socketChannels = {\n  //default socket client function\n  connect: \"connect-web\",\n  //default socket client function\n  disconnect: \"disconnect\",\n  //default socket client function\n  reconnect: \"reconnect\",\n  //server will fire to user when player connects with station\n  playerPaired: \"player-paired\",\n  //server will fire to user when player unpaired itself with station\n  playerUnPaired: \"player-un-paired\",\n  //server will fire to user when player disconnects only (goes offline)\n  playerDisconnected: \"player-disconnected\",\n  //server will fire to user, when player starts playing a song\n  playerPlayed: \"player-played\",\n  //server will fire to user, when player gets paused\n  playerPaused: \"player-paused\",\n  //server will fire to user and player when a playable songs adds into a station\n  stationUpdated: \"station-updated\",\n  //server will fire to user, when player call play next song\n  onPlayNext: \"player-called-next\",\n};\n","import { HTTP } from \"../configs/api\";\nimport { socket, socketChannels } from \"../configs/socket\";\nimport { setPairedDevice, showPlayer, setLastTrack, setDisableSkip, setTrackNumber, setTrackMap, setLocation, setTrackSchedule, setLocationJWT, setStation, setCurrentTrack, disconnectPlayerSuccess, setIsPlaying } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap, getDeviceId } from \"../util\";\n\nexport const addPlayerListeners = () => (dispatch) => {\n  playerPaired(dispatch);\n  playerUnPaired(dispatch);\n  playerDisconnected(dispatch);\n  playerPlayed(dispatch);\n  playerPaused(dispatch);\n};\n\nexport function disconnectPlayer() {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve, reject) => {\n      let locationJWT = localStorage.getItem(\"location-jwt\");\n\n      // Return if required data missing\n      if (!locationJWT) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/disconnect\", { locationId: get(getState(), \"auth.location._id\", \"\"), locationJWT, deviceID: getDeviceId() }, { \"player-access-token\": locationJWT })\n        .then(async (response) => {\n          try {\n            console.log(\"disconnect: \", response);\n            dispatch(setPairedDevice(get(response, \"data.data.pairedDevice\", {}))); // Set the paired device to incoming. Important for changing UI\n            dispatch(disconnectPlayerSuccess());\n            dispatch(showPlayer(false));\n          } catch (err) {\n            console.log(\"Caught error on disconnectPlayer: \", err);\n          }\n          resolve(get(response, \"data.data\", null));\n        })\n        .catch((error) => {\n          console.log(\"disconnectPlayer error: \", error);\n          reject(error.response);\n        });\n    });\n  };\n}\n\nexport function connectPlayer(data) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      // Return if required data missing\n      if (!data) return resolve(false);\n\n      HTTP(\"post\", \"/auth/player/connect\", data)\n        .then(async (response) => {\n          const res = get(response, \"data.data\", null);\n          if (get(res, \"data\", null) === \"DEVICE_ALREADY_PAIRED\") return resolve(\"DEVICE_ALREADY_PAIRED\");\n          // Location already connected to\n          else {\n            // Location not connected to\n            console.log(\"connectPlayer : \", response);\n\n            let locationJWT = get(res, \"jwt\", null);\n            localStorage.setItem(\"location-jwt\", locationJWT); // Save location jwt to local storage\n\n            let location = get(res, \"location\", {});\n            let trackSchedule = get(location, \"trackSchedule\", []);\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n            let currentTrack = get(location, \"currentTrack\", null); // Get the currentTrackNumber from server\n            let currentTrackNumber = get(location, \"currentTrackNumber\", 0); // Get the currentTrackNumber from server\n            let currentTrackByNumber = get(trackSchedule, \"queue[\" + currentTrackNumber + \"]\", currentTrack); // Get the currentTrack by number\n\n            // console.log(\"connect: \", {currentTrack, currentTrackByNumber, currentTrackNumber, trackSchedule, trackMap})\n            // Dispatch parent data first\n            dispatch(setLocation(location)); // Save location updates\n            dispatch(setLocationJWT(locationJWT)); // Save location's jwt\n            dispatch(setTrackMap(trackMap)); // Save track map\n            dispatch(setTrackNumber(currentTrackNumber)); // Save track map\n            dispatch(setCurrentTrack(currentTrackByNumber));\n\n            // Dispatch specific data into parent\n            dispatch(setTrackSchedule(trackSchedule)); // Set Track Schedule\n            dispatch(showPlayer(true));\n\n            resolve(res);\n          }\n        })\n        .catch((error) => {\n          console.log(\"connectPlayer error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function playNextReq({ jwt, data }) {\n  return function (dispatch) {\n    return new Promise(async (resolve) => {\n      try {\n        // Return if required data missing\n        if (!jwt || !data) return resolve(false);\n\n        HTTP(\"post\", \"/auth/player/play-next\", data, { \"player-access-token\": jwt })\n          .then(async (response) => {\n            console.log(\"playNextReq: \", response);\n            if (response) {\n              let data = get(response, \"data.data\", {});\n              const sameStation = get(data, \"sameStation\", true);\n              // Check for DEVICE_ALREADY_PAIRED warning\n              if (get(data, \"data\", \"\") === \"DEVICE_ALREADY_PAIRED\") return resolve(get(data, \"data\", \"\"));\n\n              // If the station has changed in the background\n              if (!sameStation) {\n                let location = get(data, \"location\", {});\n                let trackSchedule = get(data, \"location.trackSchedule\", {});\n                let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n                // Dispatch parent data first\n                dispatch(setLocation(location)); // Save location updates\n                dispatch(setTrackMap(trackMap)); // Save track map\n                dispatch(setTrackNumber(get(location, \"currentTrackNumber\", 0))); // Save track map\n\n                // Dispatch specific data into parent\n                dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n              }\n              resolve(true);\n            } else resolve(false);\n          })\n          .catch((error) => {\n            console.log(\"error: \", error);\n            resolve(false);\n          });\n      } catch (err) {\n        console.log(\"playNextReq err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\nexport function skipSong({ songCompletion }) {\n  return function (dispatch, getState) {\n    return new Promise(async (resolve) => {\n      try {\n        if (!songCompletion) songCompletion = \"0\";\n\n        let location = get(getState(), \"auth.location\", {});\n        let player = get(getState(), \"player\", {});\n\n        dispatch(setDisableSkip(true));\n        let trackScheduleId = get(location, \"trackSchedule._id\", \"\");\n        let trackScheduleLength = get(location, \"trackSchedule.queue\", []).length - 1;\n        let queue = get(location, \"trackSchedule.queue\", []);\n        let lastTrack = get(location, \"currentTrack\", {});\n        let trackNumber = get(player, \"trackNumber\", 0);\n        let nextTrack = null;\n\n        // Get the next track / track number\n        if (trackNumber + 1 <= trackScheduleLength) {\n          nextTrack = queue[trackNumber + 1] || \"\";\n          trackNumber += 1;\n        } else {\n          nextTrack = get(location, \"trackSchedule.queue[\" + 0 + \"]\", \"\");\n          trackNumber = 0;\n        }\n\n        let checkTrackNumber = await dispatch(getTrackNumberByTrack(nextTrack));\n\n        // Tries to make sure track number is the same as the song it's trying to play\n        if (checkTrackNumber && trackNumber !== checkTrackNumber) trackNumber = checkTrackNumber;\n\n        dispatch(setLastTrack(lastTrack)); // Reset last track\n        dispatch(setCurrentTrack(nextTrack));\n        dispatch(setTrackNumber(trackNumber));\n        // console.log({ props: getState(), checkTrackNumber, songCompletion, lastTrack, nextTrack, trackNumber, queue, trackScheduleId, trackScheduleLength, deviceID: getDeviceId() });\n\n        let playNextRes = await dispatch(\n          playNextReq({\n            jwt: get(player, \"locationJWT\", null),\n            data: {\n              locationId: get(location, \"_id\", null),\n              stationId: get(location, \"station._id\", null),\n              trackScheduleId,\n              nextTrack,\n              lastTrack,\n              deviceID: getDeviceId(),\n              songCompletion,\n              currentTrackNumber: trackNumber.toString(),\n            },\n          })\n        );\n\n        if (playNextRes) {\n          console.log(\"music bar props: \", getState());\n          if (playNextRes === \"DEVICE_ALREADY_PAIRED\") {\n            dispatch(setIsPlaying(false));\n            dispatch(setDisableSkip(false));\n            await dispatch(disconnectPlayer());\n            return resolve(playNextRes);\n          }\n        } else return resolve(false);\n\n        resolve(true);\n      } catch (err) {\n        dispatch(setDisableSkip(false));\n        console.log(\"caught callPlayNext err: \", err);\n        resolve(false);\n      }\n    });\n  };\n}\n\n// Checks to see if we need to disable skip on the current song\nexport function checkIfAdvertisement(currentTrack) {\n  return function (dispatch) {\n    let isAdvertisement = get(currentTrack, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n    let isInStoreMessage = get(currentTrack, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n    if (isAdvertisement || isInStoreMessage) dispatch(setDisableSkip(true));\n    else {\n      let skipTimer = setTimeout(() => {\n        clearTimeout(skipTimer);\n        dispatch(setDisableSkip(false));\n      }, 3000);\n    }\n  };\n}\n\n// Gets the track position of the passed track\nexport function getTrackNumberByTrack(track) {\n  return function (dispatch, getState) {\n    return new Promise((resolve) => {\n      let location = get(getState(), \"auth.location\", {});\n      let trackSchedule = get(location, \"trackSchedule.queue\", []);\n\n      let isAdvertisement = get(track, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\n      let isInStoreMessage = get(track, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\n\n      if (isAdvertisement || isInStoreMessage) return resolve(false);\n\n      for (let i = 0; i < trackSchedule.length; i++) {\n        if (get(trackSchedule[i], \"isrc\", \"\") === get(track, \"isrc\", track)) return resolve(i);\n      }\n\n      resolve(false);\n    });\n  };\n}\n\nexport const removePlayerListeners = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.playerPaired);\n  socket.removeEventListener(socketChannels.playerUnPaired);\n  socket.removeEventListener(socketChannels.playerDisconnected);\n  socket.removeEventListener(socketChannels.playerPlayed);\n  socket.removeEventListener(socketChannels.playerPaused);\n};\n\nexport const updateStationListener = () => (dispatch) => {\n  socket.on(socketChannels.stationUpdated, (data) => {\n    dispatch(setStation(data));\n  });\n};\n\nexport const updateCurrentTrackListener = () => (dispatch) => {\n  socket.on(socketChannels.onPlayNext, (data) => {\n    dispatch(setCurrentTrack(get(data, \"track\", {})));\n  });\n};\n\nexport const removeStationListener = () => (dispatch) => {\n  socket.removeEventListener(socketChannels.stationUpdated);\n};\n\nconst playerPaired = (dispatch) => {\n  socket.on(socketChannels.playerPaired, (data) => {\n    console.log(\"Player Paired\", data);\n  });\n};\n\nconst playerUnPaired = (dispatch) => {\n  socket.on(socketChannels.playerUnPaired, (data) => {\n    console.log(\"Player UnPaired\", data);\n  });\n};\n\nconst playerDisconnected = (dispatch) => {\n  socket.on(socketChannels.playerDisconnected, (data) => {\n    console.log(\"Player Disconnected\", data);\n  });\n};\n\nconst playerPlayed = (dispatch) => {\n  socket.on(socketChannels.playerPlayed, (data) => {\n    console.log(\"Player playerPlayed\", data);\n  });\n};\n\nconst playerPaused = (dispatch) => {\n  socket.on(socketChannels.playerPaused, (data) => {\n    console.log(\"Player playerPaused\");\n  });\n};\n","export default class MobileAppCommunicator {\n  static inApp() {\n    return window.inApp;\n  }\n\n  static send(endpoint, data) {\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          data: data,\n          endpoint: endpoint,\n        })\n      );\n    }\n  }\n\n  static receive(endpoint, func) {\n    if (window.ReactNativeWebView) {\n      window.addEventListener(\"message\", (msg) => {\n        if (msg.endpoint === endpoint) {\n          func(JSON.parse(msg.data));\n        }\n      });\n    }\n  }\n}\n","import { HTTP } from \"../configs/api\";\nimport { setIsApple, loginSuccess, setUser, setLocation, hideLoader, showLoader, signUpFailed, signUpSuccess } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { getDeviceId } from \"../util\";\nimport { connectPlayer } from \"./player\";\nimport MobileAppCommunicator from \"../helpers/MobileAppCommunicator\";\n\nexport function auth0setLogin() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      HTTP(\"post\", \"/auth/login\")\n        .then((response) => {\n          console.log(\"auth0setLogin res: \", response);\n          let data = get(response, \"data.data\", null);\n          let location = get(data, \"defaultLocation\", {});\n\n          // The fact this line (and any subsequent code) exists is reltih\n          if (get(data, \"user.email\", \"\").toLowerCase() === \"apple@ambii.io\") dispatch(setIsApple(true));\n\n          // Dispatch\n          dispatch(loginSuccess(data));\n          dispatch(setUser(get(data, \"user\", {})));\n          dispatch(setLocation(location));\n          getDeviceId();\n\n          if (MobileAppCommunicator.inApp() && location?.token) {\n            MobileAppCommunicator.send(\"pairCode\", location?.token);\n          }\n\n          // Auto-connects player\n          if (get(location, \"pairedDevice.uniqueId\", null) === getDeviceId()) {\n            let obj = {\n              token: get(location, \"token\", \"\"),\n              deviceName: \"web\",\n              uniqueId: getDeviceId(),\n              deviceBrand: \"web\",\n              override: false,\n            };\n\n            dispatch(connectPlayer(obj));\n          }\n\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"auth0setLogin error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function auth0clearLogin() {\n  return function (dispatch) {\n    dispatch(setUser({}));\n    dispatch(setLocation({}));\n  };\n}\n\nexport function mixMaxRegister({ id, email, name }) {\n  return function (dispatch) {\n    HTTP(\"post\", \"/public/create-new-mix-max-contact\", { id, email, name, groupName: \"Signed Up Users\" });\n  };\n}\n\nexport function signUp(data) {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      dispatch(showLoader());\n      HTTP(\"post\", \"/auth/sign-up\", data)\n        .then((response) => {\n          let data = get(response, \"data.data\");\n\n          if (get(response, \"data.success\", false)) {\n            dispatch(signUpSuccess(data));\n            dispatch(setUser(get(data, \"user\", {})));\n            dispatch(setLocation(get(data, \"defaultLocation\", {})));\n          }\n          resolve(response.data);\n        })\n        .catch((error) => {\n          let message = get(error, \"response\", \"\");\n          dispatch(signUpFailed(message));\n          reject(message);\n        })\n        .finally(() => {\n          dispatch(hideLoader());\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setExplicit, setTrackSchedule, setFavorites, setTrackMap, setTrackNumber, setLastTrack } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\n// Toggle Station Favorite\nexport function toggleFavorite({ locationId, stationId, favorites }) {\n  return function (dispatch) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !stationId || !favorites) return resolve(false);\n\n      HTTP(\"post\", `/api/location/${locationId}/toggleFavorite/`, { locationId, stationId }, auth)\n        .then((response) => {\n          let station = get(response, \"data.data.station\", {});\n          let type = get(response, \"data.data.type\", {});\n          let newFavorites = [...favorites];\n\n          if (type === \"remove\") {\n            for (let i = 0; i < newFavorites.length; i++) if (newFavorites[i]._id === station) newFavorites.splice(i, 1);\n          } else newFavorites.push(station);\n\n          // Set favorites\n          dispatch(setFavorites(newFavorites));\n\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(true);\n        });\n    });\n  };\n}\n\n// Toggle Explicit\nexport function toggleExplicit({ locationId, currentTrack }) {\n  return function (dispatch, getState) {\n    return new Promise(function (resolve) {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !locationId) || !currentTrack) return resolve(false);\n\n      let previousExplicitState = get(getState(), \"auth.location.explicitAllowed\", false);\n      HTTP(\"post\", `/api/location/${locationId}/toggleExplicit/`, { locationId, currentTrack }, auth)\n        .then((response) => {\n          console.log(\"toggleExplicit: \", response);\n          let data = get(response, \"data.data.location\", {});\n\n          let trackSchedule = get(data, \"trackSchedule\", {});\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n          let explicitAllowed = get(data, \"explicitAllowed\", false);\n          let lastTrack = get(data, \"lastTrack\", null);\n\n          // Dispatch parent data first\n          dispatch(setExplicit(explicitAllowed)); // Set location data\n          dispatch(setTrackMap(trackMap)); // Save track map\n\n          // Dispatch specific data into parent\n          dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n          dispatch(setTrackNumber(0)); // Reset Track Number\n          dispatch(setLastTrack(lastTrack)); // Reset last track\n\n          resolve(explicitAllowed);\n        })\n        .catch((error) => {\n          console.log(\"Caught toggleFavorite error: \", error);\n          resolve(previousExplicitState);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setCurrentTrack, setTrackNumber, setLocation, getPublicStationsForDiscover, setTrackSchedule, setTrackMap } from \"./dispatch\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\n// Return a station's information\nexport function getStation(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"get\", \"/api/location/\" + companyId, null, auth)\n        .then((res) => {\n          console.log(\"getStation: \", res);\n          dispatch(setLocation(get(res, \"data.data\", null)));\n          resolve(res);\n        })\n        .catch((err) => {\n          console.log(\"getStation err: \", err);\n          reject(err);\n        });\n    });\n  };\n}\n\nexport function getDiscoverPulicStations() {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      HTTP(\"get\", \"/public/station\")\n        .then((res) => {\n          let data = get(res, \"data.data\", {});\n\n          let filteredData = {\n            eraList: [],\n            genreList: [],\n            moodList: [],\n            tempoList: [],\n            playlistList: [],\n          };\n\n          get(data, \"playlistList\", []).forEach((station) => {\n            if (station.track.length > 0) filteredData.playlistList.push(station);\n          });\n\n          dispatch(getPublicStationsForDiscover(filteredData));\n\n          resolve(filteredData);\n        })\n        .catch((err) => {\n          console.log(\"getDiscoverPulicStations error in action \", err);\n          reject(err);\n        });\n    });\n  };\n}\n\nexport function getStationDetails(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!id) return resolve(false);\n\n      if (get(auth, \"access-token\", false)) {\n        HTTP(\"get\", `/api/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      } else {\n        HTTP(\"get\", `/public/station/${id}`, null, auth)\n          .then((res) => {\n            resolve(get(res, \"data.data\", {}));\n          })\n          .catch((err) => {\n            console.log(\"getStationDetails error: \", err.response);\n            resolve(false);\n          });\n      }\n    });\n  };\n}\n\nexport function assignStation(companyId, stationId) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if ((!get(auth, \"access-token\", false) && !companyId) || !stationId) return resolve(false);\n\n      HTTP(\"post\", `/api/company/${companyId}/station/${stationId}`, null, auth)\n        .then((res) => {\n          let data = get(res, \"data.data\", {});\n          let trackSchedule = get(data, \"trackSchedule\", {});\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n          // Dispatch parent data first\n          dispatch(setLocation(data)); // Set Location\n          dispatch(setTrackMap(trackMap)); // Set Track Map\n\n          // Dispatch specific data into parent\n          let currentTrack = get(trackSchedule, \"queue[\" + 0 + \"]\", get(data, \"currentTrack\", {})); // Set current track to first song in filtered queue\n          dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n          dispatch(setCurrentTrack(currentTrack)); // Update current track\n          dispatch(setTrackNumber(0)); // Reset Track Number\n\n          resolve(data);\n        })\n        .catch((err) => {\n          console.log(\"Error :\", err);\n          reject(err.response);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { message } from \"antd\";\nimport { _setSchedule, setActiveSchedule, setSchedules, setLocation, setTrackMap, setTrackSchedule, setCurrentTrack, setTrackNumber } from \"./dispatch\";\nimport { setSnackbarMessage } from \"./index\";\nimport { get } from \"lodash\";\nimport { objArrayToMap } from \"../util\";\n\nexport function createSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/createSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Create Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"createSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not create schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getSchedule(companyId) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/getSchedule\", null, auth)\n        .then((response) => {\n          console.log(\"Get Schedule Res!\", response);\n          resolve(response.data);\n        })\n        .catch((error) => {\n          console.log(\"getSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"Could not find schedule!\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function editSchedule(id) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      dispatch(setActiveSchedule(id));\n      resolve(true);\n    });\n  };\n}\n\nexport function setSchedule({ companyId, scheduleId, name, stations }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId || !name || !stations) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/schedule\", { scheduleId, name, stations }, auth)\n        .then((response) => {\n          let schedule = get(response, \"data\", {});\n          console.log(\"create playlist res in action \", response);\n          dispatch(_setSchedule(schedule));\n          resolve(schedule);\n        })\n        .catch((error) => {\n          console.log(\"setSchedule error\", error.response);\n          message.error(get(error, \"response.message\", \"cannot find artist or track\"));\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getMyPlaylists({ companyId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId) return resolve(false);\n\n      HTTP(\"get\", \"/api/company/\" + companyId + \"/getSchedules\", null, auth)\n        .then((res) => {\n          console.log(\"getMyPlaylists res: \", res);\n          let data = get(res, \"data.data.schedules\", []);\n          dispatch(setSchedules(data));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"getMyPlaylists error\", err.response);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function assignSchedule({ companyId, scheduleId }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/assignSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"assignSchedule: \", response);\n\n          let location = get(response, \"data.data\", false);\n          if (location) {\n            let trackSchedule = get(location, \"trackSchedule\", {});\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\n\n            // Dispatch parent data first\n            dispatch(setLocation(location)); // Set location data\n            dispatch(setTrackMap(trackMap)); // Set track map\n\n            // Dispatch specific data into parent\n            let currentTrack = get(trackSchedule, \"queue[\" + 0 + \"]\", get(location, \"currentTrack\", {})); // Set current track to first song in filtered queue\n            dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\n            dispatch(setCurrentTrack(currentTrack)); // Update current track\n            dispatch(setTrackNumber(0)); // Reset Track Number\\\n          } else dispatch(setSnackbarMessage({ message: \"Schedule is already playing!\", type: \"info\" }));\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"assignSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function deleteSchedule({ companyId, scheduleId }) {\n  return function (dispatch, getState) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      if (!get(auth, \"access-token\", false) || !companyId || !scheduleId) return resolve(false);\n\n      HTTP(\"post\", \"/api/company/\" + companyId + \"/deleteSchedule/\" + scheduleId, { companyId, scheduleId }, auth)\n        .then((response) => {\n          console.log(\"deleteSchedule: \", response);\n          let deletedSchedule = get(response, \"data.data._id\", null);\n          if (deletedSchedule) {\n            let schedules = [...get(getState(), \"playlists.schedules\", [])];\n\n            // Remove deleted schedule from client\n            for (let i = 0; i < schedules.length; i++) if (get(schedules[i], \"_id\", \"\") === deletedSchedule) schedules.splice(i, 1);\n\n            dispatch(setSchedules(schedules));\n          }\n          resolve(true);\n        })\n        .catch((err) => {\n          console.log(\"deleteSchedule error:\", err);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { HTTP } from \"../configs/api\";\nimport { setInStoreMessages } from \"./dispatch\";\nimport { get } from \"lodash\";\n\nexport function getMessages({ companyId, locationId }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId) return resolve(false);\n\n      HTTP(\"post\", \"/public/listMessages\", { companyId, locationId }, auth)\n        .then((response) => {\n          console.log(\"getMessages res\", response);\n          dispatch(setInStoreMessages(get(response, \"data.data\", [])));\n          resolve(true);\n        })\n        .catch((error) => {\n          console.log(\"getMessages error\", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function createMessage({ companyId, locationId, title, voice, language, message, frequency }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !title || !message) return resolve(false);\n\n      HTTP(\"post\", \"/public/createMessagingFile\", { companyId, locationId, title, voice, language, message, frequency }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          reject(get(error, \"response\", error));\n        });\n    });\n  };\n}\n\nexport function deleteMessage({ companyId, locationId, id }) {\n  return function (dispatch) {\n    return new Promise((resolve, reject) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id) return resolve(false);\n\n      HTTP(\"post\", \"/public/deleteMessagingFile\", { companyId, locationId, id }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          reject(get(error, \"response\", error));\n        });\n    });\n  };\n}\n\nexport function updateFrequency({ companyId, locationId, id, frequency }) {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false) || !companyId || !locationId || !id || !frequency) return resolve(false);\n\n      HTTP(\"post\", \"/public/changeMessagingFileFrequency\", { companyId, locationId, id, frequency }, auth)\n        .then((response) => {\n          resolve(get(response, \"data\", false));\n        })\n        .catch((error) => {\n          console.log(\"updateFrequency error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n\nexport function getVoiceOptions() {\n  return function (dispatch) {\n    return new Promise((resolve) => {\n      let auth = { \"access-token\": localStorage.getItem(\"access-token\") };\n\n      // Return if required data missing\n      if (!get(auth, \"access-token\", false)) return resolve(false);\n\n      HTTP(\"get\", \"/public/listVoices\", null, auth)\n        .then((response) => {\n          resolve(get(response, \"data.data\", []));\n        })\n        .catch((error) => {\n          console.log(\"getVoiceData error: \", error);\n          resolve(false);\n        });\n    });\n  };\n}\n","import { setSnackbarMessage } from \"./index\";\nimport { socket, socketChannels } from \"../configs/socket\";\n\nexport function startSockets() {\n  return function (dispatch) {\n    dispatch(onSocketConnect());\n    dispatch(onSocketDisconnect());\n    dispatch(onSocketReconnect());\n  };\n}\n\nexport function onSocketConnect() {\n  return function (dispatch) {\n    socket.on(\"connect\", function () {\n      console.log(\"Socket Connected\");\n    });\n  };\n}\n\nexport function onSocketDisconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.disconnect, function () {\n      console.log(\"Socket Disconnected\");\n      dispatch(setSnackbarMessage({ message: \"Connection Lost\", type: \"warn\" }));\n    });\n  };\n}\n\nexport function onSocketReconnect() {\n  return function (dispatch) {\n    socket.on(socketChannels.reconnect, function () {\n      console.log(\"Socket Reconnected\");\n      dispatch(setSnackbarMessage({ message: \"Reconnected\", type: \"success\" }));\n    });\n  };\n}\n","import { _setSnackbarNotification, _setSnackbarMessage } from \"./dispatch\";\n\nexport function setSnackbarNotification(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarNotification(data));\n  };\n}\n\nexport function setSnackbarMessage(data) {\n  return function (dispatch) {\n    dispatch(_setSnackbarMessage(data));\n  };\n}\n","import React from \"react\";\nimport { Icon } from \"antd\";\n\nconst AntSpinner = <Icon type=\"loading\" style={{ fontSize: 24, color: \"#D04283\" }} spin />;\n\nexport default AntSpinner;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    if (this.props.auth0.isAuthenticated && this.props.auth.user) {\n      this.props.history.push(\"/nowPlaying\");\n    }\n    return (\n      <div style={{ width: \"100%\", height: \"100%\", position: \"fixed\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <Spin indicator={AntSpinner} spinning={true} />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    auth: state.auth,\n  };\n}\n\nexport default connect(mapStateToPropsRouter, mapDispatchToProps)(withRouter(withAuth0(Main)));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Geosuggest from \"react-geosuggest\";\nimport { Form, message } from \"antd\";\nimport { get } from \"lodash\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\nconst google = window.google;\n\nclass AutoSearchForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      userData: {\n        name: \"\",\n        addressLineOne: \"\",\n        addressLineTwo: \"\",\n        city: \"\",\n        state: \"\",\n        postalCode: \"\",\n        cords: [],\n      },\n      myLocation: { lng: 0, lat: 0 },\n    };\n  }\n\n  componentDidMount() {\n    this.getLocation();\n  }\n\n  getLocation = async () => {\n    const currentLocation = await navigator.geolocation;\n    currentLocation.getCurrentPosition((res) => {\n      if (res.coords) {\n        this.setState({\n          myLocation: {\n            lng: res.coords.longitude,\n            lat: res.coords.latitude,\n          },\n        });\n      } else {\n        message.info(\"location permission not granted\");\n      }\n    });\n  };\n\n  onSuggestSelect = async (suggest) => {\n    let addressLineOne, addressLineTwo, city, state, postalCode, country;\n    if (suggest && suggest.gmaps) {\n      let address = suggest.gmaps.address_components;\n      address.forEach((component) => {\n        let types = component.types;\n        if (types.indexOf(\"locality\") > -1) city = component.long_name;\n        if (types.indexOf(\"sublocality_level_1\") > -1 || types.indexOf(\"route\") > -1 || types.indexOf(\"administrative_area_level_2\") > -1) addressLineOne = component.long_name;\n        if (types.indexOf(\"sublocality_level_2\") > -1) addressLineTwo = component.long_name;\n        if (types.indexOf(\"administrative_area_level_1\") > -1) state = component.long_name;\n        if (types.indexOf(\"postal_code\") > -1) postalCode = component.long_name;\n        if (types.indexOf(\"country\") > -1 || types.indexOf(\"political\") > -1) country = component.long_name;\n      });\n\n      let timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      let lng = get(suggest, \"location.lng\", \"\");\n      let lat = get(suggest, \"location.lat\", \"\");\n\n      let userData = {\n        ...this.props.userData,\n        name: get(suggest, \"gmaps.name\", suggest.label),\n        addressLineOne,\n        addressLineTwo,\n        city,\n        state,\n        postalCode,\n        country,\n        timezone,\n        cords: [lng, lat],\n        companySearch: true,\n      };\n\n      this.setState({ userData }, () => {\n        if (get(this.state, \"userData.addressLineOne\", false) && get(this.state, \"userData.postalCode\", false) && get(this.state, \"userData.city\", false) && get(this.state, \"userData.state\", false) && get(this.state, \"userData.timezone\", false)) {\n          this.props.onSumbit(userData);\n        } else {\n          userData.missingData = true;\n          this.setState({ userData }, () => {\n            message.error(\"Some required data is missing. Please fill out the below fields.\", 5);\n            this.props.onSumbit(userData);\n          });\n        }\n      });\n    }\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { myLocation } = this.state;\n\n    return (\n      <Form className=\"auto-complete-form\">\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"userData\", {\n            rules: [{ required: true, message: \"Please input Company name or address.\" }],\n          })(<Geosuggest ref={(el) => (this._geoSuggest = el)} onChange={(e) => console.log(e)} placeholder=\"Ambii Inc. 123 Main St\" onSuggestSelect={this.onSuggestSelect} location={new google.maps.LatLng(myLocation.lat, myLocation.lng)} radius={20} country={\"us\"} />)}\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AutoSearchForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, message, AutoComplete } from \"antd\";\nimport { get } from \"lodash\";\nimport { timezones } from \"../../../constants\";\nimport \"../index.scss\";\n\nconst FormItem = Form.Item;\n\nclass AddressForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: \"\",\n      dropdownError: false,\n      selectedTimezone: \"\",\n      timezoneData: {}, // Map to search through\n      timezones: [], // Masterlist of data\n      timezoneRes: [], // Results to show\n      userData: {\n        name: get(this.props, \"userData.name\", \"\"),\n        addressLineOne: get(this.props, \"userData.addressLineOne\", \"\"),\n        addressLineTwo: get(this.props, \"userData.addressLineTwo\", \"\"),\n        city: get(this.props, \"userData.city\", \"\"),\n        country: get(this.props, \"userData.country\", \"United States\"),\n        state: get(this.props, \"userData.state\", \"\"),\n        cords: get(this.props, \"userData.cords\", []),\n        postalCode: get(this.props, \"userData.postalCode\", \"\"),\n        timezone: get(this.props, \"userData.timezone\", \"\"),\n      },\n    };\n  }\n\n  componentDidMount() {\n    let timezoneRes = [];\n    let keys = Object.keys(timezones);\n    keys.forEach((timezone) => {\n      timezoneRes.push(timezone);\n    });\n    let timezoneRecommendation = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    let selectedTimezone = timezoneRecommendation;\n    this.setState({ timezoneRes, selectedTimezone });\n  }\n\n  checkIfValidTimezone(timezone) {\n    if (!timezone) return false;\n    else {\n      if (timezones[timezone]) return true;\n      else return false;\n    }\n  }\n\n  onSubmit = (e) => {\n    console.log(e);\n    //e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      console.log(\"vals: \", values);\n      let validTimezone = this.checkIfValidTimezone(get(values, \"timezone\", \"\"));\n      if (!err && validTimezone) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            ...this.props.userData,\n            ...this.state.userData,\n            name: get(values, \"name\", \"\").toString(),\n            addressLineOne: get(values, \"addressLineOne\", \"\").toString(),\n            addressLineTwo: get(values, \"addressLineTwo\", \"\").toString(),\n            city: get(values, \"city\", \"\").toString(),\n            state: get(values, \"state\", \"\").toString(),\n            postalCode: get(values, \"postalCode\", \"\").toString(),\n            country: get(values, \"country\", \"United States\").toString(),\n            cords: get(values, \"cords\", []),\n            timezone: get(values, \"timezone\", Intl.DateTimeFormat().resolvedOptions().timeZone),\n          };\n\n          this.props.onSumbit(userData);\n        });\n      } else {\n        if (!validTimezone) message.error(\"Invalid timezone selection\");\n        else if (err) message.error(\"One or more fields has an error\");\n        else {\n          message.error(\"An error occurred\");\n        }\n      }\n    });\n  };\n\n  onSearch = (searchText) => {\n    let keys = Object.keys(timezones);\n    let timezoneRes = keys.filter((s) => s.toLowerCase().includes(searchText.toLowerCase()));\n    this.setState({ selectedTimezone: searchText, timezoneRes: searchText.length <= 0 ? keys : timezoneRes });\n  };\n\n  onSelect = (value) => {\n    this.setState({ selectedTimezone: value });\n  };\n\n  render() {\n    const { timezoneRes, selectedTimezone } = this.state;\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit}>\n        <p style={{ float: \"right\" }}>* Indicates a required field </p>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"name\", {\n            rules: [{ required: true, message: \"Please input your company name\" }],\n            initialValue: this.state.userData.name,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Company Name\"\n            />\n          )}\n        </FormItem>\n\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineOne\", {\n            rules: [{ required: true, message: \"Please input your Address\" }],\n            initialValue: this.state.userData.addressLineOne,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Address Line 1\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"addressLineTwo\", {\n            initialValue: this.state.userData.addressLineTwo,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"Enter Address Line 2\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"city\", {\n            rules: [{ required: true, message: \"Please input City\" }],\n            initialValue: this.state.userData.city,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter City\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"state\", {\n            rules: [{ required: true, message: \"Please input your state\" }],\n            initialValue: this.state.userData.state,\n          })(\n            <Input\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter State\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"postalCode\", {\n            rules: [{ required: true, message: \"Please input your Postal Code\" }],\n            initialValue: this.state.userData.postalCode,\n          })(\n            <Input\n              type=\"number\"\n              onPressEnter={() => {\n                this.onSubmit();\n              }}\n              placeholder=\"* Enter Postal Code\"\n            />\n          )}\n        </FormItem>\n        <FormItem className=\"form-item\">\n          {getFieldDecorator(\"timezone\", {\n            rules: [{ required: true, message: \"Please input your location's timezone\" }],\n            initialValue: selectedTimezone,\n          })(<AutoComplete placeholder={\"* Enter Location Timezone\"} dataSource={timezoneRes} style={{ width: \"100%\" }} onSelect={(e) => this.onSelect(e)} onSearch={(e) => this.onSearch(e)} />)}\n        </FormItem>\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={() => this.onSubmit()}>\n          Confirm Address\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(AddressForm);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, Select, Dropdown, Menu } from \"antd\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/pro-regular-svg-icons\";\nimport { get } from \"lodash\";\nimport \"antd/dist/antd.css\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\n\nclass CompanyInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businessType: \"Select Business Type\",\n      dropdownError: false,\n      countryCode: \"1\",\n    };\n  }\n\n  menu() {\n    return (\n      <Menu onClick={(e) => this.handleMenuClick(e)} id={\"company-info-dropdown-menu\"}>\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n  }\n\n  handleMenuClick(e) {\n    this.setState({ businessType: e.key, dropdownError: false });\n  }\n\n  // Standardizes the phone number\n  parsePhoneNumber(phoneNumber) {\n    return phoneNumber.replace(/\\D/g, \"\");\n  }\n\n  onSubmit = (e) => {\n    const { countryCode, businessType } = this.state;\n    e.preventDefault();\n    let businessSelected = businessType.toLowerCase() !== \"Select Business Type\".toLowerCase();\n    let userType = get(this.props, \"userData.userType\", \"company\");\n\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      let errors = Object.keys(err || []);\n      if (errors.length <= 0 && (userType === \"company\" ? businessSelected : true)) {\n        let userData = {\n          ...this.props.userData,\n          firstName: values.firstName ?? \"\",\n          lastName: values.lastName ?? \"\",\n          phoneNumber: countryCode.concat(this.parsePhoneNumber(get(values, \"phone\", \"234567890\"))),\n          businessType: userType === \"individual\" ? \"other\" : businessType,\n        };\n\n        if (userType === \"individual\") {\n          if (!get(this.props, \"userData.name\", null)) userData.name = \"Individual\";\n          if (!get(this.props, \"userData.addressLineOne\", null)) userData.addressLineOne = \"\";\n          if (!get(this.props, \"userData.addressLineTwo\", null)) userData.addressLineTwo = \"\";\n          if (!get(this.props, \"userData.city\", null)) userData.city = \"\";\n          if (!get(this.props, \"userData.state\", null)) userData.state = \"\";\n          if (!get(this.props, \"userData.postalCode\", null)) userData.postalCode = \"\";\n          if (!get(this.props, \"userData.timezone\", null)) userData.timezone = \"\";\n          if (!get(this.props, \"userData.cords\", null)) userData.cords = [];\n        }\n\n        this.props.onSumbit(userData);\n      } else {\n        if (!businessSelected) this.setState({ dropdownError: true });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { businessType, dropdownError, countryCode } = this.state;\n\n    const prefixSelector = getFieldDecorator(\"prefix\", { initialValue: countryCode })(\n      <Select style={{ width: 70, borderRight: \"1px solid #d9d9d9\" }}>\n        <Option value=\"1\">+1</Option>\n      </Select>\n    );\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit} className={\"company-info-form\"}>\n        {get(this.props, \"userData.userType\", \"company\") === \"company\" && (\n          <>\n            <Form.Item className=\"form-item no-margin\" label={\"First Name:\"}>\n              {getFieldDecorator(\"firstName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your first name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter First Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item className=\"form-item no-margin\" label={\"Last Name:\"}>\n              {getFieldDecorator(\"lastName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your last name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter Last Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item label={\"Phone\"}>\n              {getFieldDecorator(\"phone\", {\n                rules: [{ required: true, message: \"Please input your phone number!\", min: 10, pattern: /^[0-9 ()-]*$/ }],\n              })(<Input addonBefore={prefixSelector} placeholder={\"Phone Number\"} />)}\n            </Form.Item>\n\n            <Form.Item label={\"Type\"}>\n              <Dropdown overlay={this.menu()} trigger={[\"click\"]} className={dropdownError ? \"button-error\" : \"\"}>\n                <Button style={{ textTransform: \"capitalize\" }}>\n                  {businessType} <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"5px\" }} />\n                </Button>\n              </Dropdown>\n            </Form.Item>\n          </>\n        )}\n\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={(e) => this.onSubmit(e)}>\n          Continue\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(CompanyInfo);\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import ReactGA from \"react-ga\";\n\n// Initializes analytics\nexport const startGoogleAnalytics = () => {\n  ReactGA.initialize(\"UA-167385126-1\", {\n    siteSpeedSampleRate: 100,\n    testMode: document.location.hostname.includes(\"business.ambii.io\") ? false : true,\n  });\n};\n\n/**\n * @param {category} - Category of action\n * @param {action} - Action user performed\n * @param {value} - (optional) any potential value\n * @param {label} - Item which was interacted with\n */\nexport const logEvent = ({ category, action, value, label }) => {\n  // console.log(\"hit event: \", { category, action, value, label });\n  ReactGA.event({\n    category,\n    action,\n    value: value ? parseInt(value) : null,\n    label,\n  });\n};\n\n// Tracks screen based on url\nexport const trackScreen = () => {\n  // console.log(\"hit screen: \", window.location.pathname + window.location.search)\n  ReactGA.pageview(window.location.pathname + window.location.search);\n};\n\n// Tracks modals when page does not reload\nexport const trackModal = (modal) => {\n  // console.log(\"hit modal: \", modal)\n  ReactGA.modalview(modal);\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { signUp, mixMaxRegister } from \"../../../actions\";\nimport AutoSearchForm from \"../autoComplete\";\nimport AddressForm from \"../addressForm\";\nimport CompanyDetails from \"../companyInfo\";\nimport { Form, Steps, Button, message, Spin } from \"antd\";\nimport { trackScreen, logEvent } from \"../../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport \"../index.scss\";\n\nconst { Step } = Steps;\nlet companySteps = [{ key: \"Company\" }, { key: \"Contact Info\" }];\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      current: 0,\n      companySearch: true,\n      steps: companySteps,\n      userData: {},\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n  }\n\n  next = (userData) => {\n    if (userData) {\n      let missingData = get(userData, \"missingData\", false);\n      if (missingData) delete userData[\"missingData\"];\n\n      this.setState({ current: missingData ? this.state.current : this.state.current + 1, userData, steps: companySteps, companySearch: missingData ? false : this.state.companySearch });\n    }\n\n    if (this.state.current === this.state.steps.length - 1) {\n      this.signUpSubmit(userData);\n    }\n  };\n\n  signUpSubmit = (userData) => {\n    this.setState({ isLoading: true }, () => {\n      if (userData) {\n        delete userData[\"missingData\"]; // Remove from final object\n        delete userData[\"companySearch\"]; // Remove from final object\n\n        this.props.actions\n          .signUp(userData)\n          .then((res) => {\n            this.props.actions.mixMaxRegister({ id: get(res, \"data.user._id\", \"\"), email: get(userData, \"email\", \"\"), name: get(userData, \"firstName\", \"Ambii\") + \" \" + get(userData, \"lastName\", \"User\") });\n            this.setState({ isLoading: false });\n            if (res.success) {\n              logEvent({ category: categories.welcome, action: actions.signup, value: get(userData, \"email\", \"\") });\n              this.props.history.push(\"/\");\n            }\n          })\n          .catch((err) => {\n            logEvent({ category: categories.welcome, action: actions.signup, value: err, label: labels.error });\n            this.setState({ isLoading: false, current: 0 });\n            message.error(get(err, \"userData.message\", \"Something went wrong. Please try again\"));\n          });\n      } else {\n        this.setState({ isLoading: false });\n        message.error(\"Fields are missing\");\n      }\n    });\n  };\n\n  prev = () => {\n    this.setState({ current: this.state.current - 1 });\n  };\n\n  render() {\n    const { current, steps, userData, isLoading, companySearch } = this.state;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={isLoading}>\n        <div className={\"signup-modal-subtitle\"}>{\"Let's set up your first location!\"}</div>\n        <div className=\"signUp-container\">\n          {current >= 0 && (\n            <Steps className=\"steps\" progressDot current={current} style={{ textAlign: \"justify\" }}>\n              {steps.map((item) => (\n                <Step key={item.key} title={item.key} />\n              ))}\n            </Steps>\n          )}\n          {\n            {\n              0: companySearch ? <div className={\"signup-modal-subsubtitle\"}>{\"Please enter business name or address\"}</div> : null,\n              1: <div className={\"signup-modal-subsubtitle\"}>{\"Please enter your contact information\"}</div>,\n            }[current]\n          }\n          <div className=\"form_container\">\n            {\n              {\n                0: companySearch ? <AutoSearchForm onSumbit={this.next} userData={userData} /> : <AddressForm onSumbit={this.next} userData={userData} />,\n                1: <CompanyDetails onSumbit={this.next} userData={userData} />,\n              }[current]\n            }\n            <div className={\"button_row\"} style={{ float: \"right\" }}>\n              {!isLoading && current > 0 && (\n                <Button onClick={() => this.prev()} style={{ marginRight: \"10px\" }}>\n                  Previous\n                </Button>\n              )}\n              {companySearch && current === 0 ? <Button onClick={() => this.setState({ companySearch: false })}>Manually Enter Company</Button> : null}\n              {!companySearch && current === 0 ? (\n                <Button onClick={() => this.setState({ companySearch: true })} style={{ marginRight: \"10px\" }}>\n                  Search Company\n                </Button>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ signUp, mixMaxRegister }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Spin, Button, message } from \"antd\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport { get } from \"lodash\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nconst FormItem = Form.Item;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLogin: false,\n      userData: {\n        email: \"\",\n        password: \"\",\n      },\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n\n    let token = localStorage.getItem(\"access-token\");\n    if (token) this.props.history.push(\"/nowPlaying\");\n  }\n\n  _onLogin = () => {\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        this.setState({ isLoading: true }, () => {\n          let userData = {\n            email: values.email,\n            password: values.password,\n          };\n          // this.props.actions\n          //   .login(userData)\n          //   .then(() => {\n          //     logEvent({ category: categories.welcome, action: actions.login });\n          //     this.setState({ isLoading: false });\n          //     this.props.history.push(\"/nowPlaying\");\n          //   })\n          //   .catch((err) => {\n          //     logEvent({ category: categories.welcome, action: actions.failedLogin });\n          //     message.error(get(err, \"message\", \"invalid email password\"));\n          //     this.setState({ isLoading: false });\n          //   });\n        });\n      } else {\n        message.error(\"Fields Required\");\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <Spin indicator={AntSpinner} spinning={this.state.isLoading}>\n        <div className=\"form-container\">\n          <Form className=\"form-wrapper\" hideRequiredMark={true} onSubmit={this._onLogin}>\n            <FormItem className=\"form-item no-margin\">\n              {getFieldDecorator(\"email\", {\n                rules: [\n                  { type: \"email\", message: \"The input is not a valid Email!\" },\n                  { required: true, message: \"Please input your Email!\" },\n                ],\n              })(\n                <Input\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Email\"\n                />\n              )}\n            </FormItem>\n\n            <FormItem\n              // label=\"Password\"\n              className=\"form-item\"\n            >\n              {getFieldDecorator(\"password\", {\n                rules: [{ required: true, message: \"Please input your password!\" }],\n              })(\n                <Input.Password\n                  onPressEnter={() => {\n                    this._onLogin();\n                  }}\n                  placeholder=\"Password\"\n                />\n              )}\n            </FormItem>\n            <Button className=\"login-btn\" block type=\"primary\" onClick={() => this.props.auth0.loginWithRedirect()}>\n              Login\n            </Button>\n          </Form>\n        </div>\n      </Spin>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(Login);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(WrappedApp)));\n","import React from \"react\";\nimport \"./index.scss\";\n\nconst pairToken = ({ token, fontSize }) => (\n  <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n    {token\n      ? token.split(\"\").map((char, index) => {\n          return (\n            <div key={index} className={\"token-character\"}>\n              <p style={{ fontWeight: \"bold\", color: \"#2A2A2A\", fontSize: fontSize || \"28px\", margin: \"0\" }}>{char}</p>\n            </div>\n          );\n        })\n      : null}\n  </div>\n);\n\nexport default pairToken;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", null, \".st0{fill:url(#SVGID_1_)}.st1{fill:url(#SVGID_2_)}.st2{fill:url(#SVGID_3_)}.st3{fill:url(#SVGID_4_)}\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_1_\",\n  gradientUnits: \"userSpaceOnUse\",\n  y1: 112.094,\n  x2: 261.746,\n  y2: 112.094\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#63be6b\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.506,\n  stopColor: \"#5bbc6a\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#4ab96a\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st0\",\n  d: \"M261.7 142.3L15 1.3C11.9-.5 8-.4 5 1.4c-3.1 1.8-5 5-5 8.6 0 0 .1 13 .2 34.4l179.7 179.7 81.8-81.8z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_2_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 0.152,\n  y1: 223.393,\n  x2: 179.896,\n  y2: 223.393\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#3ec6f2\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#45afe3\"\n}));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st1\",\n  d: \"M.2 44.4C.5 121.6 1.4 309 1.8 402.3L180 224.1.2 44.4z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_3_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 179.896,\n  y1: 229.464,\n  x2: 407.976,\n  y2: 229.464\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#faa51a\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.387,\n  stopColor: \"#fab716\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.741,\n  stopColor: \"#fac412\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#fac80f\"\n}));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st2\",\n  d: \"M402.9 223l-141.2-80.7-81.9 81.8 92.4 92.4L403 240.3c3.1-1.8 5-5.1 5-8.6 0-3.6-2-6.9-5.1-8.7z\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_4_\",\n  gradientUnits: \"userSpaceOnUse\",\n  x1: 1.744,\n  y1: 345.521,\n  x2: 272.296,\n  y2: 345.521\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#ec3b50\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#e7515b\"\n}));\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"st3\",\n  d: \"M1.7 402.3c.2 33.3.3 54.6.3 54.6 0 3.6 1.9 6.9 5 8.6 3.1 1.8 6.9 1.8 10 0l255.3-148.9-92.4-92.4L1.7 402.3z\"\n});\n\nvar SvgGooglePlayStore = function SvgGooglePlayStore(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    viewBox: \"0 0 408 466.9\",\n    width: 2185,\n    height: 2500,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGooglePlayStore, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/google-play-store.6fec8523.svg\";\nexport { ForwardRef as ReactComponent };","import Auth0Lock from \"auth0-lock\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faIdBadge } from \"@fortawesome/pro-regular-svg-icons\";\n\nconst iconToDataURI = (icon) => {\n  return `data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\"><path d=\"${icon.icon[4]}\"/></svg>`;\n};\n\nexport default class Auth0Helper {\n  static initialize() {\n    // Dev\n    window.lock = new Auth0Lock(\"MkozMO1FrxX4SNXS6xZ8y2UNpCX9RM1x\", \"auth.ambii.io\", {\n      // Prod\n      // window.lock = new Auth0Lock(\"U6LfUnEpkLYrtnZ2u3IAuSDlraBebeGP\", \"auth.ambii.io\", {\n      configurationBaseUrl: \"https://ambii.us.auth0.com\",\n      autoclose: true,\n      autofocus: true,\n      closable: true,\n      auth: {\n        redirectUrl: window.location.origin,\n        responseType: \"id_token\",\n        sso: true,\n      },\n      theme: {\n        logo: `${window.location.origin}/icon.png`,\n        primaryColor: \"#d04283\",\n      },\n      languageDictionary: {\n        title: \"\",\n        signUpTitle: \"\",\n        forgotPasswordTitle: \"\",\n      },\n      additionalSignUpFields: [\n        // Save this in case we need it later.\n        //\n        // {\n        //   name: \"given_name\",\n        //   icon: iconToDataURI(faIdBadge),\n        //   placeholder: \"First Name\",\n        //   storage: \"root\",\n        //   validator: function (txt) {\n        //     return {\n        //       valid: txt.length > 0 && txt.length < 100,\n        //       hint: \"The first name field is required\", // optional\n        //     };\n        //   },\n        // },\n      ],\n    });\n  }\n\n  static getLock() {\n    return window.lock;\n  }\n\n  static isLoggedIn() {\n    return localStorage.getItem(\"access-token\");\n  }\n\n  static login() {\n    window.lock.show();\n  }\n\n  static signUp() {\n    window.lock.show({ initialScreen: \"signUp\" });\n  }\n\n  static logout() {\n    localStorage.removeItem(\"access-token\");\n    localStorage.removeItem(\"location-jwt\");\n    window.lock.logout();\n  }\n}\n","import React, { Component } from \"react\";\nimport { Layout, Spin, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getStationDetails, assignStation, toggleFavorite } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport { tagTypes, hashCode, checkForMobile } from \"../../util\";\nimport { get, isEqual } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlayCircle } from \"@fortawesome/pro-regular-svg-icons\";\nimport { faHeart, faChevronLeft } from \"@fortawesome/pro-solid-svg-icons\";\nimport AntSpinner from \"../antSpinner\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\n\nconst { Content } = Layout;\n\nlet resizeListener = null;\n\nclass StationDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      station: {},\n      isBackgroundImage: false,\n      explicit: false,\n      startStationDisabled: false,\n      favoriteDisabled: false,\n      isMobile: false,\n    };\n  }\n\n  componentDidMount() {\n    this.checkForMobile();\n\n    // Scrolls us to top of page when page loads\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n\n    // Listens for window resize\n    resizeListener = window.addEventListener(\"resize\", () => {\n      this.checkForMobile();\n    });\n\n    this.setStationDetails();\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"playlistId\", null), get(prevProps, \"playlistId\", null))) {\n      this.setStationDetails();\n    }\n  }\n\n  async setStationDetails() {\n    this.setState({ isLoading: true }, async () => {\n      const id = get(this.props, \"match.params.id\", null) || get(this.props, \"playlistId\", null);\n      if (id) {\n        let result = await this.props.actions.getStationDetails(id);\n        let explicit = get(result, \"explicit\", false);\n        this.setState({ isLoading: false, explicit, station: result });\n      } else this.setState({ isLoading: false });\n    });\n  }\n\n  assignStation = () => {\n    const { location, close, history, actions, user } = this.props;\n    const { station } = this.state;\n\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n\n    this.setState({ startStationDisabled: true }, () => {\n      let companyId = get(user, \"company._id\", \"\");\n      actions.assignStation(companyId, station._id).then(() => {\n        logEvent({ category: categories.discover, action: actions.startStation, value: get(station, \"_id\", \"Error\") });\n        if (get(location, \"pathname\", \"\").toLowerCase().includes(\"nowplaying\")) close();\n        else history.push(\"/nowPlaying\", { isBack: true });\n      });\n    });\n  };\n\n  favoriteStation = () => {\n    if (!Auth0Helper.isLoggedIn()) {\n      Auth0Helper.signUp();\n      return;\n    }\n    this.setState({ favoriteDisabled: true }, () => {\n      let locationId = get(this.props, \"myLocation._id\", \"\");\n      let stationId = get(this.state, \"station._id\", \"\");\n      let favorites = get(this.props, \"myLocation.favorites\", []);\n\n      this.props.actions.toggleFavorite({ locationId, stationId, favorites }).then(() => {\n        logEvent({ category: categories.general, action: actions.toggledFavorite, value: stationId });\n        this.setState({ favoriteDisabled: false });\n      });\n    });\n  };\n\n  checkForMobile() {\n    const { isBackgroundImage } = this.state;\n    this.setState({ isMobile: checkForMobile() }, () => {\n      if (this.state.isMobile && !isBackgroundImage) this.setStationBackgroundImage();\n      if (!this.state.isMobile && isBackgroundImage) this.removeStationBackgroundImage();\n    });\n  }\n\n  setStationBackgroundImage() {\n    let { station } = this.state;\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = \"url('\" + station.cover + \"')\";\n        if (station.cover) this.setState({ isBackgroundImage: true });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  removeStationBackgroundImage() {\n    let waitHeader = setInterval(() => {\n      let stationHeader = document.getElementById(\"station-header\");\n      if (stationHeader) {\n        stationHeader.style.backgroundImage = null;\n        this.setState({ isBackgroundImage: false });\n        clearInterval(waitHeader);\n      }\n    }, 100);\n  }\n\n  checkIfFavorited(station) {\n    let favorites = get(this.props, \"myLocation.favoritesMap\", []);\n    if (favorites[station]) return true;\n    else return false;\n  }\n\n  render() {\n    const { isLoading, station, explicit, startStationDisabled, favoriteDisabled, isMobile, source } = this.state;\n    let thisStationId = get(station, \"_id\", \"\");\n    let stationQueue = get(station, \"track\", []);\n    let stationFavorited = this.checkIfFavorited(thisStationId);\n    let hasSchedule = get(this.props, \"myLocation.schedule._id\", \"\");\n    let isActiveStation = hasSchedule ? false : get(this.props, \"myLocation.station._id\", \"\") === thisStationId;\n\n    return (\n      <Layout className=\"create-layout\">\n        <Content className=\"create-body\">\n          <Spin indicator={AntSpinner} spinning={isLoading}>\n            <div id=\"station-header\" className=\"cover-content-wrapper\" style={{ backgroundColor: station.hex !== undefined ? station.hex : \"#aa4e9f\" }}>\n              <div className=\"headerLeft\">\n                <div className=\"station-head-wrapper\">\n                  <h1 className=\"cover-heading\">{station.name}</h1>\n                </div>\n\n                <div className=\"cover-btn-div\">\n                  {isMobile && source !== \"dashboard\" && (\n                    <Button size=\"large\" className=\"cover-btn\" onClick={() => this.props.history.push(\"/discover\", { isBack: true })}>\n                      <FontAwesomeIcon icon={faChevronLeft} className={\"cover-icon\"} />\n                      <div>Back</div>\n                    </Button>\n                  )}\n                  <Button size=\"large\" className={\"cover-btn\".concat(isActiveStation ? \" disabledButton\" : \"\")} disabled={isActiveStation || startStationDisabled} onClick={this.assignStation}>\n                    <Spin indicator={AntSpinner} spinning={startStationDisabled}>\n                      {isActiveStation ? null : <FontAwesomeIcon icon={faPlayCircle} className={\"cover-icon\"} />}\n                      <div> {isActiveStation ? \"Now Playing\" : \"Start\"} </div>\n                    </Spin>\n                  </Button>\n                  <Button size=\"large\" className=\"cover-btn\" disabled={favoriteDisabled} onClick={this.favoriteStation}>\n                    <Spin indicator={AntSpinner} spinning={favoriteDisabled}>\n                      <FontAwesomeIcon icon={faHeart} className={\"cover-icon\".concat(stationFavorited ? \" favorited\" : \"\")} />\n                      <div> {stationFavorited ? \"Favorited\" : \"Favorite\"} </div>\n                    </Spin>\n                  </Button>\n                </div>\n                <div className=\"description\">{station.description}</div>\n              </div>\n\n              <div className=\"headerRight\">\n                <img src={!station.cover && station.name ? hashCode(station.name) : station.cover} className=\"stationImage\" alt={\"\"} />\n              </div>\n            </div>\n            <div className={\"station-table-wrapper\"}>\n              <div className={\"station-table-item station-table-header\"}>\n                <div className={\"station-table-track title\"}>\n                  <h1>Track</h1>\n                </div>\n                <div className={\"station-table-artist title\"}>\n                  <h1>Artist/Album</h1>\n                </div>\n              </div>\n              {stationQueue.map((track, i) => (\n                <div className={\"station-table-item\"} key={track._id} style={{ opacity: i > stationQueue.length * 0.5 ? (stationQueue.length + 1 - i) / stationQueue.length : 1 }}>\n                  <div className={\"station-table-track\"}>{track.title}</div>\n                  <div className={\"station-table-artist\"}>\n                    {track.artist[0]}, {track.album}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Spin>\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ getStationDetails, assignStation, toggleFavorite }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    stations: state.stations.data,\n    count: state.stations.count,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationDetails));\n","import React from \"react\";\nimport \"./index.scss\";\n\n/**\n * @param {bool} animate - Should bpm be animated\n * @param {number} speed - Animation speed\n * @param {number} value - Value to display next to '<value> BPM'\n * @param {string} display - [\"column\", \"row\"] - Styling of the bpm div\n * @param {bool} hideText - Display the bpm\n * @param {object} style - React in-line styling\n */\n\nconst BPM = ({ animate, speed, value, display, hideText, style }) => (\n  <div className={\"bpm-container\".concat(display === \"column\" ? \" column\" : \" row\")} style={style}>\n    <div className={\"beat-container\"} style={{ animation: animate ? `bpm ${speed}s linear infinite` : \"none\" }} />\n    {!hideText && value && <div className={\"bpm-text\"}>{`${parseInt(value).toFixed(0)} BPM`}</div>}\n  </div>\n);\n\nexport default BPM;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\n/**\n * @param {string} title - Big text to display\n * @param {string} subtitle - Small text below title\n * @param {object} style - React in-line styling\n * @param {bool} backArrow - Show back arrow\n * @param {function} backArrowPress - Action to take when back arrow pressed\n */\n\nconst PageTitle = ({ title, subtitle, style, backArrow, backArrowPress }) => {\n  return (\n    <div className={\"title-container\"} style={style}>\n      <div className={\"flexRow\"} style={{ alignItems: \"center\" }}>\n        {backArrow && (\n          <div className=\"backArrow\" onClick={backArrowPress}>\n            <FontAwesomeIcon icon={faArrowLeft} />\n          </div>\n        )}\n        <div className={\"flexCol\"}>\n          <div className={\"create-list-view-title\"}> {title} </div>\n          <div className={\"create-list-view-subtitle\"}> {subtitle} </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PageTitle;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./index.scss\";\n\nclass DashboardModule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { title, content, icon, style } = this.props;\n    let contentArray = Array.isArray(content);\n\n    return (\n      <div className=\"dashboard-module\" style={style}>\n        <div className=\"dashboard-header\">\n          <div className=\"dashboard-icon\">{icon && <FontAwesomeIcon icon={icon} style={{ fontSize: \"24px\" }} />}</div>\n          <div className=\"dashboard-title\">{title}</div>\n          <div className=\"dashboard-icon\"></div>\n        </div>\n        <div className=\"dashboard-content\">{contentArray ? React.Children.map(content, (child) => React.cloneElement(child)) : content}</div>\n      </div>\n    );\n  }\n}\n\nexport default DashboardModule;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { disconnectPlayer, setIsPlaying, skipSong, setDisableSkip, getStation, addPlayerListeners, removePlayerListeners, updateStationListener, updateCurrentTrackListener, removeStationListener, connectPlayer, playerError, assignStation, toggleExplicit } from \"../../actions\";\nimport { socket, socketChannels } from \"../../configs/socket\";\nimport PairToken from \"../../components/pairToken\";\nimport { get, isEqual, stubTrue } from \"lodash\";\nimport { Button, Modal, Spin, Switch } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMobile, faSpeaker, faTvMusic, faTv, faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport { faCommentMusic, faMusic, faHeartbeat, faKey, faCog, faPause, faPlay, faStepForward } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faApple } from \"@fortawesome/free-brands-svg-icons\";\nimport { checkForMobile, getDeviceId } from \"../../util\";\nimport { ReactComponent as GooglePlay } from \"../../images/google-play-store.svg\";\nimport AmbiiLogo from \"../../images/ambii_logo_inverse.png\";\nimport AdBlockDetect from \"react-ad-block-detect\";\nimport StationDetails from \"../../components/stationDetails\";\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\nimport BPM from \"../../components/bpm\";\nimport PageTitle from \"../../components/page-title\";\nimport { categories, actions, labels } from \"../../constants\";\nimport DashboardModule from \"../../components/dashboardModule\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\n\nlet errorTimer = null;\nlet testInterval = null;\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile: checkForMobile(),\n      isLoading: false,\n      loadingPlayer: false,\n      artistName: \"\",\n      searchText: undefined,\n      isFixHeader: false,\n      pageHeight: 0,\n      showStationSearch: false,\n      showAppModal: false,\n      showConnectModal: false,\n      showErrorModal: false,\n      playlistModalId: false,\n      playButtonDisabled: false,\n      userName: \"\",\n      errorTitle: \"\",\n      errorMessage: \"\",\n      errorIcon: \"\",\n      errorButton: \"\",\n      playerInfo: {\n        token: get(this.props, \"myLocation.token\", \"\"),\n        deviceName: \"web\",\n        uniqueId: getDeviceId(),\n        deviceBrand: \"web\",\n        override: false,\n      },\n      loadingExplicit: false,\n      explicitAllowed: false,\n      currentSongTime: \"0:00\",\n      currentSongDuration: \"0:00\",\n      controllerStyle: false,\n    };\n  }\n\n  componentDidMount() {\n    let { myLocation, user, actions } = this.props;\n\n    trackScreen();\n    MobileAppCommunicator.send(\"pairCode\", get(myLocation, \"token\", \"\"));\n    this.checkPlayerState();\n\n    this.setState({ isMobile: checkForMobile(), userName: this.createUserName() }, () => {\n      if (this.state.isMobile) logEvent({ category: categories.dashboard, action: actions.viewedMobile });\n    });\n\n    // Connect sockets\n    if (get(user, \"_id\", null)) {\n      socket.emit(socketChannels.connect, { userId: user._id });\n      actions.addPlayerListeners();\n      actions.updateStationListener();\n      actions.updateCurrentTrackListener();\n    }\n  }\n\n  checkPlayerState = () => {\n    let { myLocation, player } = this.props;\n\n    let deviceBrand = get(myLocation, \"pairedDevice.deviceBrand\", \"\");\n    let isThisDevicePlaying = deviceBrand && get(this.state, \"playerInfo.uniqueId\", \"\") === get(myLocation, \"pairedDevice.uniqueId\", \"\");\n\n    let playerInfo = { ...this.state.playerInfo };\n    playerInfo.token = get(myLocation, \"token\", \"\");\n\n    // FALSE - NO DEVICE IS PLAYING\n    // WEB - THIS DEVICE IS PLAYING MUSIC\n    // OTHER - ANOTHER WEB DEVICE IS PLAYING MUSIC\n    // MOBILE - A MOBILE DEVICE IS PLAYING MUSIC\n\n    this.setState({ playerInfo, isLoading: !get(myLocation, \"station\", null) ? true : false, explicitAllowed: get(myLocation, \"explicitAllowed\", false), controllerStyle: !deviceBrand ? false : isThisDevicePlaying ? \"WEB\" : !isThisDevicePlaying ? \"OTHER\" : \"MOBILE\" }, () => {\n      // If player is visible\n      if (get(player, \"showPlayer\", null)) {\n        this.getSongTime(); // Grab song times at start\n\n        // If player is playing\n        if (get(player, \"isPlaying\", null)) {\n          clearInterval(testInterval);\n          testInterval = setInterval(() => {\n            this.getSongTime(); // Grab song times at start\n          }, 100);\n        }\n      } else {\n        clearInterval(testInterval);\n      }\n    });\n  };\n\n  componentWillUnmount() {\n    try {\n      this.props.actions.removePlayerListeners();\n      this.props.actions.removeStationListener();\n      clearInterval(testInterval);\n      clearTimeout(errorTimer);\n    } catch (err) {\n      console.log(\"caught error when unmounting 'nowPlaying' page: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // If paired device or station is updated (and is not null)\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null)) && get(this.props, \"myLocation\", null)) {\n      if (!get(this.props, \"myLocation.station\", null)) this.props.history.push(\"/discover\");\n      this.checkPlayerState();\n    }\n\n    if (!isEqual(get(this.props, \"player.playerError\", null), get(prevProps, \"player.playerError\", null)) && get(this.props, \"player.playerError.error\", null)) {\n      console.log(\"got player error!\", get(this.props, \"player.playerError\", {}));\n\n      let errorTitle = get(this.props, \"player.playerError.title\", \"\");\n      let errorMessage = get(this.props, \"player.playerError.message\", \"\");\n      let errorIcon = get(this.props, \"player.playerError.icon\", \"\");\n      let errorButton = get(this.props, \"player.playerError.button\", \"\");\n\n      this.setState({ showErrorModal: true, errorTitle, errorMessage, errorIcon, errorButton }); // Open the error modal\n      this.props.actions.playerError({}); // Reset player error in redux\n      trackModal(\"Error Modal\"); // Track Error Modal\n      logEvent({ category: categories.dashboard, value: errorMessage, label: labels.error });\n\n      errorTimer = setTimeout(() => {\n        this.closeErrorMessage();\n        clearTimeout(errorTimer);\n        errorTimer = null;\n      }, 300 * 1000);\n    }\n\n    if (!isEqual(get(this.props, \"player.isPlaying\", null), get(prevProps, \"player.isPlaying\", null)) || !isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      clearInterval(testInterval);\n      testInterval = setInterval(() => {\n        if (get(this.props, \"player.isPlaying\", null)) this.getSongTime();\n        else this.getSongTime();\n      }, 100);\n    }\n\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.checkPlayerState();\n    }\n\n    // If playback device has changed\n    if (!isEqual(get(this.props, \"myLocation.pairedDevice.deviceName\", null), get(prevProps, \"myLocation.pairedDevice.deviceName\", null))) {\n      console.log(\"Changed playback device\");\n    }\n  }\n\n  // Gets the song time / duration from the music bar\n  getSongTime() {\n    try {\n      let currentSongTime = document.getElementById(\"current-song-time\").innerHTML;\n      let currentSongDuration = document.getElementById(\"current-song-duration\").innerHTML;\n      let songCompletion = document.getElementById(\"invis-current-song-time\").innerHTML;\n      this.setState({ currentSongTime, currentSongDuration, songCompletion });\n    } catch (err) {\n      console.log(\"getSongTime err: \", err);\n    }\n  }\n\n  // Creates a username based on user's first / last name\n  createUserName() {\n    let firstName = get(this.props, \"user.firstName\", \"\");\n    let lastName = get(this.props, \"user.lastName\", \"\");\n\n    firstName = firstName.substring(0, 1).toUpperCase() + firstName.substring(1, firstName.length);\n    lastName = lastName.substring(0, 1).toUpperCase() + lastName.substring(1, lastName.length);\n\n    return firstName + \" \" + lastName;\n  }\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Playlist Modal\");\n    logEvent({ category: categories.dashboard, action: actions.stationPreview, value: playlistId, label: labels.button });\n  };\n\n  afterCreateStaion = () => {\n    this.setState({ showStationSearch: false });\n  };\n\n  toggleStationSearch = () => {\n    const showStationSearch = !this.state.showStationSearch;\n    this.setState({ showStationSearch });\n    if (showStationSearch) {\n      setTimeout(() => {\n        const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n        if (collapse && collapse.length) {\n          collapse[0].scrollIntoView();\n        }\n      }, 100);\n    }\n  };\n\n  parseLocationName = (myLocation) => {\n    if (!myLocation) return;\n    return myLocation.split(\",\")[0];\n  };\n\n  // Gets track data from our station\n  getTrackData(currentTrack) {\n    const { myLocation } = this.props;\n    let useTrack = currentTrack;\n    if (!useTrack) useTrack = get(myLocation, \"station.track[0]\", null);\n    let obj = {\n      songImage: get(useTrack, \"picture\", null),\n      locationName: get(myLocation, \"name\", null),\n      songTrack: get(useTrack, \"title\", null),\n      bpm: get(useTrack, \"bpm\", null),\n      songArtist: get(useTrack, \"artist\", null),\n      token: get(myLocation, \"token\", null),\n      stationName: get(myLocation, \"station.name\", null),\n    };\n\n    if (Array.isArray(obj.songArtist)) obj.songArtist = obj.songArtist[0];\n\n    return obj;\n  }\n\n  // Actions when user presses Connect\n  connectPress = () => {\n    this.setState({ showAppModal: true });\n    trackModal(\"Connect Modal\"); // Track Connect Modal\n    logEvent({ category: categories.dashboard, action: actions.connect, label: labels.button });\n  };\n\n  loadPlayer = ({ override }) => {\n    let data = { ...this.state.playerInfo, override };\n    this.setState({ loadingPlayer: true }, () => {\n      this.props.actions.connectPlayer(data).then(() => {\n        this.setState({ showConnectModal: false, loadingPlayer: false });\n      });\n    });\n  };\n\n  // Actions when user presses Change Station\n  changeStationPress = () => {\n    logEvent({ category: categories.dashboard, action: actions.button, value: \"Back\", label: labels.button });\n    this.props.history.push(\"/discover\");\n  };\n\n  playStation = () => {\n    const { playButtonDisabled } = this.state;\n    if (!playButtonDisabled) {\n      this.setState({ playButtonDisabled: true }, () => {\n        this.props.actions\n          .connectPlayer(this.state.playerInfo)\n          .then((res) => {\n            this.setState({ playButtonDisabled: false }, () => {\n              if (res === \"DEVICE_ALREADY_PAIRED\") {\n                trackModal(\"Device Already Connected Modal\");\n                this.setState({ showConnectModal: true });\n              }\n              logEvent({ category: categories.dashboard, action: actions.startPlayer, label: labels.button });\n            });\n          })\n          .catch((err) => {\n            this.setState({ playButtonDisabled: false });\n            console.log(\"caught err: \", err);\n          });\n      });\n    }\n  };\n\n  openLink(link) {\n    window.open(link, \"_blank\");\n  }\n\n  closeErrorMessage() {\n    this.setState({ showErrorModal: false, errorTitle: \"\", errorMessage: \"\", errorIcon: \"\", errorButton: \"\" });\n  }\n\n  openAdBlockMessage() {\n    this.setState({\n      showErrorModal: true,\n      errorTitle: \"Please Disable Ad-Block\",\n      errorMessage: \"All of our advertisements help fund small business relief programs. Please help us help them by disabling your ad-blocker.\",\n      errorIcon: <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} style={{ color: \"#d04283\" }} />,\n      errorButton: \"Ok, Got It\",\n    });\n  }\n\n  toggleExplicit = () => {\n    this.setState({ loadingExplicit: true }, () => {\n      this.props.actions\n        .toggleExplicit({\n          locationId: get(this.props, \"myLocation._id\", \"\"),\n          currentTrack: get(this.props, \"currentTrack\", null),\n        })\n        .then((explicitAllowed) => {\n          this.setState({ loadingExplicit: false, explicitAllowed });\n        });\n    });\n  };\n\n  // Things to do for mobile\n  sendToMobileDevice(token) {\n    if (get(window, \"inApp\", false)) MobileAppCommunicator.send(\"player\", \"player/\" + token);\n    else this.openLink(\"https://ambii.app.link/OpenMobile\");\n  }\n\n  // Skip Song functionality\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n    });\n  }\n\n  render() {\n    const { isApple } = this.props;\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { isLoading, explicitAllowed, loadingExplicit, songCompletion, controllerStyle, showAppModal, showConnectModal, showErrorModal, loadingPlayer, errorTitle, errorMessage, errorIcon, errorButton, playlistModalId, userName, isMobile, playButtonDisabled, currentSongTime, currentSongDuration } = this.state;\n    let songData = this.getTrackData(get(this.props, \"myLocation.currentTrack\", null));\n    let { songImage, locationName, songTrack, songArtist, token, stationName } = songData;\n    let isIndividual = get(this.props, \"myLocation.company.isIndividual\", get(this.props, \"myLocation.name\", \"\").toLowerCase() === \"individual\");\n    let locationInUse = get(this.props, \"myLocation.isPlaying\", false); // Is this location playing music anywhere (any device)\n    let activeStation = get(this.props, \"myLocation.station._id\", null);\n    let scheduleName = get(this.props, \"myLocation.schedule.name\", false);\n    let scheduleId = get(this.props, \"myLocation.schedule._id\", \"\");\n\n    let hasTrackOverflow = false;\n    let hasArtistOverflow = false;\n    let bpm = get(songData, \"bpm\", 100);\n    if (!bpm) bpm = 100; // If no bpm, default it to 100bpm\n\n    let nowPlayingInfoWrapper = document.getElementById(\"now-playing-info-wrapper\") || null;\n    let nowPlayingTrack = document.getElementById(\"now-playing-track\") || null;\n    let nowPlayingArtist = document.getElementById(\"now-playing-artist\") || null;\n\n    if (nowPlayingInfoWrapper && nowPlayingTrack && nowPlayingArtist) {\n      nowPlayingInfoWrapper = nowPlayingInfoWrapper.getBoundingClientRect().width - (checkForMobile() ? 0 : 310);\n      nowPlayingTrack = nowPlayingTrack.getBoundingClientRect().width;\n      nowPlayingArtist = nowPlayingArtist.getBoundingClientRect().width;\n\n      if (nowPlayingInfoWrapper < nowPlayingTrack) hasTrackOverflow = true;\n      if (nowPlayingInfoWrapper < nowPlayingArtist) hasArtistOverflow = true;\n    }\n\n    return (\n      <div className={\"dashboard-page-wrapper\"}>\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={\"80%\"} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} source={\"dashboard\"} />\n        </Modal>\n        <PageTitle\n          title={\n            <span>\n              Welcome <span style={{ color: \"#D04283\" }}>Back</span>\n            </span>\n          }\n          subtitle={isIndividual ? userName : locationName}\n          backArrow={true}\n          backArrowPress={() => this.changeStationPress()}\n        />\n\n        <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\", maxHeight: \"100%\" }}>\n          <div className=\"dashboard-content-wrapper\">\n            <div className=\"nowPlayingContainer\">\n              <div className=\"imgAndInfo\" id={\"now-playing-info-wrapper\"}>\n                <div className=\"songImageContainer\">\n                  <img className=\"songImage noselect\" src={songImage} alt={\"\"} />\n                </div>\n                <div className=\"infoContainer\">\n                  <div className=\"nowPlayingTitle\">\n                    Now Playing\n                    {locationInUse && bpm && <BPM animate={true} speed={60 / bpm} value={bpm} hideText={true} style={{ marginLeft: \"12px\", justifyContent: \"flex-start\" }} />}\n                  </div>\n                  <div className=\"songTitle\" style={{ justifyContent: isMobile && !hasTrackOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-track\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                      {songTrack}\n                    </span>\n                  </div>\n                  <div className=\"songArtist\" style={{ justifyContent: isMobile && !hasArtistOverflow ? \"center\" : \"flex-start\" }}>\n                    <span id={\"now-playing-artist\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                      {songArtist}\n                    </span>\n                  </div>\n                  <div>\n                    Station:\n                    <span className={\"now-playing-station\"} onClick={() => this.showPlaylistModal(activeStation)}>\n                      {stationName}\n                    </span>\n                  </div>\n                  {scheduleName && (\n                    <div>\n                      Schedule:\n                      <span className={\"now-playing-station\"} onClick={() => this.props.history.push(`/createSchedule/${scheduleId}`)}>\n                        {scheduleName}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                <div className={\"adblock-div\"} onClick={() => this.openAdBlockMessage()}>\n                  <AdBlockDetect>\n                    <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} />\n                  </AdBlockDetect>\n                </div>\n              </div>\n            </div>\n\n            <div className={\"module-row\"}>\n              {controllerStyle === \"MOBILE\" ? (\n                <DashboardModule\n                  title={\"Playing on Mobile\"}\n                  icon={faMobile}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"OTHER\" ? (\n                <DashboardModule\n                  title={\"Playing on Another Device\"}\n                  icon={faTv}\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\n                        </div>\n                        <div className=\"dashboard-mobile-info-option\">\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\n                        </div>\n                      </div>\n\n                      {/* Web Button */}\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n                    </div>,\n                  ]}\n                />\n              ) : controllerStyle === \"WEB\" ? (\n                <DashboardModule\n                  title={\"Playing on Web\"}\n                  icon={faTv}\n                  style={{ backgroundColor: \"#D04283\", borderColor: \"#FFF\", color: \"#FFF\" }}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {/* Music Controller Stuff */}\n                      <div className={\"dashboard-music-controller\"}>\n                        <div className=\"dashboard-music-time\">\n                          {currentSongTime} / {currentSongDuration}\n                        </div>\n                        <div className=\"dashboard-music-controls\">\n                          {/* Play/Pause Button */}\n                          {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(false)} /> : <FontAwesomeIcon icon={faPlay} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(stubTrue)} />}\n\n                          {/* Skip Button */}\n                          {<FontAwesomeIcon icon={faStepForward} className={\"music-controller-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n\n                          {/* Close Button */}\n                          <FontAwesomeIcon icon={faTimes} className={\"music-controller-icon close-icon\"} onClick={() => this.props.actions.disconnectPlayer()} />\n                        </div>\n                      </div>\n\n                      {/* Mobile Button */}\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\", marginTop: \"10px\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              ) : (\n                <DashboardModule\n                  title={\"Play Music\"}\n                  icon={faMusic}\n                  content={[\n                    <div className={\"dashboard-play-button-wrapper\"}>\n                      {!isMobile && (\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginBottom: \"15px\" }} onClick={() => this.playStation()}>\n                            <div className={\"dashboard-play-button-left\"}>\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\n                            </div>\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\n                          </div>\n                        </Spin>\n                      )}\n\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\" }} onClick={() => (isMobile ? this.sendToMobileDevice(token) : this.connectPress())}>\n                        <div className={\"dashboard-play-button-left\"}>\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\n                        </div>\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\n                      </div>\n                    </div>,\n                  ]}\n                />\n              )}\n\n              <div className={\"flexCol\"} style={{ justifyContent: \"space-evenly\" }}>\n                <DashboardModule title={\"Store Code\"} icon={faKey} content={[<PairToken token={token} fontSize={\"22px\"} />]} />\n\n                <DashboardModule\n                  title={\"Settings\"}\n                  icon={faCog}\n                  content={\n                    <div className={\"dashboard-setting-wrapper\"}>\n                      <div className={\"dashboard-setting-text\"}>Allow Explicit</div>\n                      <div className={\"dashboard-setting-option\"}>\n                        <Switch style={{ width: \"30px\" }} checked={explicitAllowed} disabled={explicitAllowed === null} loading={loadingExplicit} onClick={() => this.toggleExplicit()} />\n                      </div>\n                    </div>\n                  }\n                />\n              </div>\n            </div>\n          </div>\n        </Spin>\n\n        {/* CONNECTION INSTRUCTIONS */}\n        <Modal visible={showAppModal} onOk={() => this.setState({ showAppModal: false })} onCancel={() => this.setState({ showAppModal: false })} width=\"80%\" footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Connect Device</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"mobile-phone\"}>\n                <FontAwesomeIcon icon={faMobile} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faMusic} className={\"special-music-icon\"} />\n              </div>\n              <div className=\"connect-dashes\"> - - - - - - </div>\n              <div className={\"speaker-group\"}>\n                <FontAwesomeIcon icon={faSpeaker} className={\"connect-icon\"} />\n                <FontAwesomeIcon icon={faCommentMusic} className={\"connect-music-icon\"} />\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">\n              {isApple ? (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on the App Store.\n                </>\n              ) : (\n                <>\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on Google Play or the App Store onto your mobile device\n                </>\n              )}\n            </div>\n\n            <div className=\"store-wrapper rowItem\">\n              <img src={AmbiiLogo} className={\"connect-music-icon ambii-logo\"} alt={\"\"} />\n              <div className=\"store-button-wrapper\" onClick={() => this.openLink(\"https://play.google.com/store/apps/details?id=com.ambii_business_music\")}>\n                {!isApple && (\n                  <div className=\"store-button\">\n                    <GooglePlay className={\"connect-music-icon brand-icon\"} style={{ width: 24, height: 48 }} />\n                    <div className=\"store-button-text\">\n                      <div className=\"store-button-subtitle\">Download on</div>\n                      <div className=\"store-button-title\"> Google Play </div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"store-button\" onClick={() => this.openLink(\"https://apps.apple.com/us/app/ambii-music-for-business/id1501666271\")}>\n                  <FontAwesomeIcon icon={faApple} className={\"connect-music-icon brand-icon\"} style={{ fontSize: \"32px\" }} />\n                  <div className=\"store-button-text\">\n                    <div className=\"store-button-subtitle\">Download on</div>\n                    <div className=\"store-button-title\"> App Store </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"connect-text rowItem\">2. Once downloaded, enter your Store Code</div>\n\n            <div className=\"connect-text\" style={{ marginTop: \"25px\", fontSize: \"24px\" }}>\n              Store Code: <span className=\"connect-token\">{token}</span>\n            </div>\n          </div>\n        </Modal>\n\n        {/* DEVICE ALREADY CONNECTED */}\n        <Modal visible={showConnectModal} onOk={() => this.setState({ showConnectModal: false })} onCancel={() => this.setState({ showConnectModal: false })} width=\"80%\" footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">Device Already Connected!</div>\n            <div className=\"connect-text\">Another device is already connected to this account. Would you like to play music on this device instead?</div>\n\n            <div className=\"connect-display rowItem\">\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\n            </div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton\"} disabled={loadingPlayer} onClick={() => this.loadPlayer({ override: true })}>\n                <Spin indicator={AntSpinner} spinning={loadingPlayer}>\n                  Yes, Connect\n                </Spin>\n              </Button>\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.setState({ showConnectModal: false })}>\n                No, Cancel\n              </Button>\n            </div>\n          </div>\n        </Modal>\n\n        {/* WEB PLAYER OVERRIDEN */}\n        <Modal visible={showErrorModal} onOk={() => this.closeErrorMessage()} onCancel={() => this.closeErrorMessage()} width=\"80%\" footer={[]} className=\"app-modal\">\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">{errorTitle}</div>\n\n            <div className=\"connect-text\">{errorMessage}</div>\n\n            <div className=\"connect-display rowItem\">{errorIcon}</div>\n\n            <div className=\"connect-button-group\">\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.closeErrorMessage()}>\n                {errorButton ? errorButton : \"Ok\"}\n              </Button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        updateStationListener,\n        updateCurrentTrackListener,\n        removeStationListener,\n        getStation,\n        connectPlayer,\n        playerError,\n        assignStation,\n        toggleExplicit,\n        setDisableSkip,\n        skipSong,\n        setIsPlaying,\n        disconnectPlayer,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    player: state.player,\n    currentTrack: state.auth.location.currentTrack,\n    isApple: state.auth.isApple,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport \"./index.scss\";\n\nexport default class MoodTag extends Component {\n  state = {\n    isHovered: false,\n  };\n\n  onMouseOver = () => {\n    this.setState({ isHovered: true });\n  };\n  onMouseOut = () => {\n    this.setState({ isHovered: false });\n  };\n\n  render() {\n    const { performSelect, text } = this.props;\n    return (\n      <div className=\"mood_tag\" onMouseEnter={this.onMouseOver} onMouseLeave={this.onMouseOut} onClick={performSelect}>\n        <span style={{ marginLeft: 8 }}>{text}</span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ReactResizeDetector from \"react-resize-detector\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport MoodTag from \"./mood_tag\";\nimport \"./index.scss\";\n\nexport default class MoodTagSearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: this.props.items,\n      search: \"\",\n      isSearchFocused: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  removeTag = (mood) => () => {\n    this.props.performSelect(mood);\n  };\n\n  onChangeText = (e) => {\n    this.setState({ search: e.target.value }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  performSelect = (mood) => () => {\n    this.props.performSelect(mood);\n    this.setState({ search: \"\" }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  filterTagArray = () => {\n    const second = new Set(this.props.selectedTags);\n    const difference = [...this.state.tags].filter((x) => !second.has(x));\n    return difference;\n  };\n\n  handleClick = (e) => {\n    if (this.node.contains(e.target)) {\n      return;\n    }\n\n    this.setState({ isSearchFocused: false });\n  };\n\n  render() {\n    const { search, isSearchFocused } = this.state;\n\n    return (\n      <ReactResizeDetector handleHeight>\n        {({ height }) => (\n          <div className=\"mood_container\" ref={(node) => (this.node = node)}>\n            <div className={`input-tag ${isSearchFocused ? \"red-focus\" : \"\"}`}>\n              <ul className=\"input-tag__tags\" ref={(tagListRef) => (this.tagListRef = tagListRef)}>\n                {this.props.selectedTags.map((tag, i) => (\n                  <li key={tag}>\n                    {tag}\n                    <button type=\"button\" className=\"remove_btn\" onClick={this.removeTag(tag)}>\n                      +\n                    </button>\n                  </li>\n                ))}\n                <li className=\"input-tag__tags__input\">\n                  <textarea\n                    className=\"mood_searchBar\"\n                    type=\"text\"\n                    placeholder=\"Search for Moods\"\n                    onFocus={() => this.setState({ isSearchFocused: true })}\n                    value={search}\n                    onChange={this.onChangeText}\n                    ref={(c) => {\n                      this.tagInput = c;\n                    }}\n                  />\n                  <FontAwesomeIcon icon={faSearch} color=\"rgba(95, 95, 95, 0.4)\" />\n                </li>\n              </ul>\n            </div>\n            {isSearchFocused ? (\n              <div className=\"tag-result\" style={{ position: \"absolute\", top: height }}>\n                {this.filterTagArray().map((mood, i) => (\n                  <MoodTag key={i} text={mood} performSelect={this.performSelect(mood)} />\n                ))}\n              </div>\n            ) : null}\n          </div>\n        )}\n      </ReactResizeDetector>\n    );\n  }\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSnooze, faTurtle, faSquirrel, faRabbitFast, faRocket } from \"@fortawesome/pro-regular-svg-icons\";\nimport \"./index.scss\";\n\nconst TEMPOS = [\n  {\n    icon: faSnooze,\n    label: \"Slower\",\n    min: 0,\n    max: 59,\n  },\n  {\n    icon: faTurtle,\n    label: \"Slow\",\n    min: 60,\n    max: 119,\n  },\n  {\n    icon: faSquirrel,\n    label: \"Moderate\",\n    min: 120,\n    max: 189,\n  },\n  {\n    icon: faRabbitFast,\n    label: \"Fast\",\n    min: 190,\n    max: 249,\n  },\n  {\n    icon: faRocket,\n    label: \"Faster\",\n    min: 250,\n    max: Number.MAX_SAFE_INTEGER,\n  },\n];\n\nexport default function TempoSelection(props) {\n  const performSelectTempo = (tempo, index) => () => {\n    if (index !== props.currentSelectedTempo) {\n      props.selectTempo(tempo, index);\n    } else {\n      props.deSelectTempo();\n    }\n  };\n\n  const renderTempos = () => {\n    return TEMPOS.map((tempo, i) => (\n      <div key={i} className=\"wrapper\">\n        <div\n          className=\"energy\"\n          onClick={performSelectTempo([tempo.min, tempo.max], i)}\n          style={{\n            backgroundColor: i === props.currentSelectedTempo ? \"rgba(95, 95, 95, 0.1)\" : \"white\",\n          }}\n        >\n          <div className=\"content\">\n            <div className=\"inner\">\n              <FontAwesomeIcon icon={tempo.icon} className=\"tempo_icon\" />\n              <span>{tempo.label}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ));\n  };\n\n  return <div className=\"tempo_container\">{renderTempos()}</div>;\n}\n","import React from \"react\";\nimport { Range } from \"rc-slider\";\nimport \"./index.scss\";\n\nconst LABEL = [`10's`, `00's`, `90's`, `80's`, `70's`, `60's`].reverse();\n\nexport default function EraSelection(props) {\n  const renderLabel = () => {\n    return LABEL.map((label, i) => (\n      <div id={i} className=\"label_container\">\n        <span className=\"label\">{label}</span>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"era_container\">\n      <Range\n        step={10}\n        min={1950}\n        max={2020}\n        defaultValue={props.defaultValue}\n        dots\n        onAfterChange={props.selectEra}\n        trackStyle={[{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }]}\n        railStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\n        dotStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\", border: \"none\" }}\n        handleStyle={[\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n        ]}\n      />\n      <div className=\"labels\">\n        <div id=\"oldies\">Oldies</div>\n        <div className=\"label_body\">{renderLabel()}</div>\n        <div id=\"modern\">Modern</div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport MoodTagSearchBar from \"../../mood_tag_search_bar\";\nimport TempoSelection from \"../../tempo_selection\";\nimport EraSelection from \"../../era_selection\";\n\nconst AdvanceFilter = ({ browseMoods, currentSelectedTempo, onSelectTempo, onDeselectTempo, browseEraRange, onSelectEra, onSelectMood }) => (\n  <div>\n    <div className=\"moodWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Tags</div>\n      <div className=\"browseSelectionsContainer\">\n        <MoodTagSearchBar items={Object.keys(browseMoods)} selectedTags={Object.keys(browseMoods).filter((mood) => browseMoods[mood] === true)} performSelect={onSelectMood} />\n      </div>\n    </div>\n\n    <div className=\"tempoWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Energy</div>\n      <div className=\"browseSelectionsContainer\">\n        <TempoSelection currentSelectedTempo={currentSelectedTempo} selectTempo={onSelectTempo} deSelectTempo={onDeselectTempo} />\n      </div>\n    </div>\n\n    {/* <div className=\"eraWrapper\" style={{ margin: 'auto' }}>\n          <div className=\"browseSettingsTitle\">{'Era'}</div>\n          <div className=\"browseSelectionsContainer\">\n            <EraSelection\n              defaultValue={[browseEraRange.from, browseEraRange.to]}\n              selectEra={onSelectEra}\n            />\n          </div>\n        </div> */}\n  </div>\n);\n\nexport default AdvanceFilter;\n","import React from \"react\";\nimport { Modal, Avatar } from \"antd\";\nimport \"./index.scss\";\n\nconst TracksModal = ({ visible, onCancel, tracks, title }) => (\n  <Modal title={title} visible={visible} onCancel={onCancel} footer={[]}>\n    {tracks.map((track, key) => (\n      <div className=\"track-container\" key={key}>\n        {track.albumCover ? <Avatar shape=\"square\" size={50} src={track.albumCover} /> : <Avatar shape=\"square\" size={50} icon=\"user\" />}\n        <div>\n          <p style={{ marginLeft: 10 }} className=\"heading-regular margin-0\">\n            {track.title}\n          </p>\n          <p style={{ marginLeft: 10 }} className=\"margin-0\">\n            {track.artist}\n          </p>\n        </div>\n      </div>\n    ))}\n  </Modal>\n);\n\nexport default TracksModal;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { genreColors } from \"../../constants\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\n/**\n * @param {array} genres - Array of genres\n * @param {bool} showStats - Display of text % (such as '72%', 26%', ...)\n * @param {object} style - React in-line styling\n * @param {object} simple - Show only the genre color bar (no bpm info)\n */\n\nconst GenreColorBar = ({ genres, roundBottom, bpm, simple }) => {\n  const data = Object.entries(genres || [])\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n\n  let dataA,\n    dataB,\n    dataC = 0;\n\n  try {\n    dataA = data[0][1];\n    dataB = data[1][1];\n    dataC = data[2][1];\n  } catch (err) {\n    console.log(\"Not all genre fields available\");\n  }\n\n  const totalPercentage = (dataA && dataA > 0.1 ? dataA : 0) + (dataB && dataB > 0.1 ? dataB : 0) + (dataC && dataC > 0.1 ? dataC : 0);\n\n  const calculateEachPercentage = (percent) => {\n    return percent / totalPercentage;\n  };\n\n  let bpmInfo = getBPMInfo(bpm);\n\n  return (\n    <div className=\"genre-container\">\n      <div className=\"genre-color-bar\">\n        {data.map((music, i) => {\n          const genre = music[0];\n          const percent = calculateEachPercentage(music[1]);\n\n          return (\n            <div className={\"genre-wrapper\"} style={{ width: `${percent * 100}%`, display: percent > 0.1 ? \"flex\" : \"none\" }} key={genre}>\n              <div\n                className={\"genre-chunk\"}\n                style={{\n                  backgroundColor: genreColors[genre],\n                  borderBottomLeftRadius: i === 0 && roundBottom ? \"8px\" : null,\n                  borderBottomRightRadius: i === genres.length - 1 && roundBottom ? \"8px\" : null,\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n\n      {!simple && (\n        <div className={\"genre-tile-info-wrapper\"}>\n          <div className={\"genre-tile-genre-wrapper\"}>\n            {data.map((music, i) => {\n              const genre = music[0];\n              const percent = calculateEachPercentage(music[1]);\n\n              if (percent > 0.1) {\n                return (\n                  <div className={\"flexRow\"} key={genre}>\n                    <div className={\"genre-color-dot\"} style={{ backgroundColor: genreColors[genre] }} />\n                    <span style={{ position: \"relative\", bottom: 4, left: 4, fontWeight: i === 0 ? \"bold\" : \"normal\" }}>{genre}</span>\n                  </div>\n                );\n              }\n            })}\n          </div>\n          <div className={\"genre-bpm\"}>\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} className={\"bpm-icon\"} />\n            <div>{get(bpmInfo, \"title\", \"\")}</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GenreColorBar;\n","import React from \"react\";\nimport TracksModal from \"../tracksModal\";\nimport { logEvent } from \"../../../configs/google-analytics\";\nimport { categories, actions, labels } from \"../../../constants\";\nimport { hashCode } from \"../../../util\";\nimport GenreColorBar from \"../../genre-color-bar\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass PublicStation extends React.PureComponent {\n  state = {\n    modalVisible: false,\n    hovered: false,\n  };\n\n  showModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  hideModal = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  stationPress = (id, name) => {\n    const { history } = this.props;\n    if (id) {\n      logEvent({ category: categories.discover, action: actions.button, value: name, label: labels.button });\n      history.push(`/station/${id}`);\n    }\n  };\n\n  isMobile = function () {\n    let check = false;\n    (function (a) {\n      if (\n        /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n          a.substr(0, 4)\n        )\n      )\n        check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n  };\n\n  playStation = (e) => {\n    const { _id, company, name, assignStation } = this.props;\n    e.stopPropagation();\n    let companyId = get(company, \"_id\", \"\");\n    assignStation(companyId, _id).then(() => {\n      logEvent({ category: categories.discover, action: actions.startStation, value: name, label: labels.button });\n      this.props.history.push(\"/nowPlaying\", { isBack: true });\n    });\n  };\n\n  render() {\n    const { modalVisible } = this.state;\n    const { bpm, genres, _id, hex, track, title, type, rowIndex, browse, showPlaylistModal, isApple, explicit } = this.props;\n\n    let tileStyle = type === \"advanced\" ? \"advanced-station-preview\" : \"public-station noselect\";\n    let previewCardStyle = (_id ? \"item-container pointer\" : \"item-container-preview item-container pointer\").concat(rowIndex === 0 ? \" first-row\" : \"\");\n    let name = get(this.props, \"name\", \"\");\n    let bpmMean = get(bpm, \"mean\", 1);\n\n    return (\n      <div\n        className={tileStyle}\n        onMouseEnter={() => this.setState({ hovered: true })}\n        onMouseLeave={() => this.setState({ hovered: false })}\n        style={browse ? { margin: \"0px 0px 10px 0px\", border: \"2px solid white\" } : { border: \"2px solid white\" }}\n        onClick={() => {\n          this.isMobile() ? this.stationPress(_id, name) : showPlaylistModal(_id);\n        }}\n      >\n        <div className={previewCardStyle} style={{ backgroundColor: hex, backgroundImage: `url(${hashCode(this.props.name)})` }}>\n          <div className={\"station-tile-header\"}>\n            {type !== \"advanced\" && (\n              <div style={_id ? {} : { fontSize: 14 }} className=\"name\">\n                {name ? name.replace(\" (Explicit)\", \"\") : title}\n              </div>\n            )}\n          </div>\n        </div>\n        {track && track.length ? <TracksModal title={name} visible={modalVisible} onCancel={this.hideModal} tracks={track} /> : null}\n        <div className={\"info-container\"}>\n          <GenreColorBar genres={genres} showStats={isApple ? false : true} bpm={bpmMean || 100} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PublicStation;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"antd\";\nimport PublicStation from \"../public_stations/publicStation\";\nimport { assignStation } from \"../../actions\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { get } from \"lodash\";\nimport { supersetDescriptions, categories, actions, labels } from \"../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft, faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass StationSection extends Component {\n  state = {\n    showArrows: false,\n    showLeftArrow: true,\n    showRightArrow: true,\n    diff: 0,\n  };\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n    const preMargin = Math.round((outer * 5) / 100);\n    this.setState({ diff: inner - outer + preMargin });\n    if (inner > outer) {\n      this.setState({ showArrows: true });\n    } else {\n      this.setState({ showArrows: false });\n    }\n  }\n\n  render() {\n    let { id, title, type, showViewAll, rowIndex, isApple } = this.props;\n    let data = get(this.props, \"data\", []);\n\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n\n    return (\n      <section className=\"feature-section\" id={id} style={!showViewAll ? { padding: \"25px 0px\" } : {}}>\n        <div className=\"feature-section-head-wrapper\">\n          <div className=\"feature-section-title-wrapper\">\n            <div className=\"preMargin\" />\n            <div className=\"heading heading-large\"> {title} </div>\n            {!showViewAll && (\n              <Button type=\"primary\" onClick={() => buttonPress(0, type, this.props.history)}>\n                <FontAwesomeIcon icon={faChevronLeft} />\n                Go back\n              </Button>\n            )}\n          </div>\n        </div>\n        <div className=\"description\">{supersetDescriptions[title]}</div>\n\n        <div className=\"blurredWrapper\">\n          <div\n            className=\"blurredEdgeStart\"\n            onMouseEnter={() => {\n              this.rightMoveSpeed = 2;\n              this.scrollRight = setInterval(() => {\n                this.rightMoveSpeed = Math.min(12, this.rightMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: -this.rightMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollRight);\n            }}\n          >\n            {showArrows && showLeftArrow ? <FontAwesomeIcon icon={faCaretLeft} /> : null}\n          </div>\n          <ScrollContainer\n            className=\"stationPreviewWrapper\"\n            ref={(me) => (this.scrollView = me)}\n            onScroll={(e) => {\n              if (e === 0) {\n                this.setState({ showLeftArrow: false });\n              } else {\n                this.setState({ showLeftArrow: true });\n              }\n              if (e === diff) {\n                this.setState({ showRightArrow: false });\n              } else {\n                this.setState({ showRightArrow: true });\n              }\n            }}\n          >\n            <div className=\"preMargin\" />\n            <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n              {data.map((item, index) => (\n                <PublicStation assignStation={this.props.actions.assignStation} showPlaylistModal={this.props.showPlaylistModal} company={this.props.company} history={this.props.history} key={index} rowIndex={rowIndex} isApple={isApple} {...item} />\n              ))}\n            </div>\n          </ScrollContainer>\n          <div\n            className=\"blurredEdgeEnd\"\n            onMouseEnter={() => {\n              this.leftMoveSpeed = 2;\n              this.scrollLeft = setInterval(() => {\n                this.leftMoveSpeed = Math.min(12, this.leftMoveSpeed + 0.1);\n                this.scrollView.getElement().scrollBy({\n                  left: this.leftMoveSpeed,\n                });\n                this.forceUpdate();\n              }, 10);\n            }}\n            onMouseLeave={() => {\n              clearInterval(this.scrollLeft);\n            }}\n          >\n            {showArrows && showRightArrow ? <FontAwesomeIcon icon={faCaretRight} /> : null}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\n// Button Press actions\nconst buttonPress = (clicked, type, history) => {\n  if (clicked === 0) {\n    history.push(\"/discover\", { isBack: true });\n  }\n  if (clicked === 1) {\n    logEvent({ category: categories.discover, action: actions.button, value: \"View More\", label: labels.button });\n    history.push(`/stations/${type}`);\n  }\n};\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    activeStationPreview: state.activeStationPreview,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationSection));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"./index.scss\";\n\nexport default class GenresSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showArrows: false,\n      showLeftArrow: false,\n      showRightArrow: true,\n      diff: 0,\n    };\n  }\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n\n    this.setState({ diff: inner - outer });\n\n    if (inner > outer) this.setState({ showArrows: true });\n    else this.setState({ showArrows: false });\n  }\n  render() {\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n    return (\n      <div className=\"genre_container\">\n        <div\n          className=\"edgeStart\"\n          onMouseEnter={() => {\n            let rightMoveSpeed = 2;\n            this.scrollRight = setInterval(() => {\n              rightMoveSpeed = Math.min(12, rightMoveSpeed + 0.1);\n              if (showLeftArrow) this.scrollView.getElement().scrollBy({ left: -rightMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollRight);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon className=\"icon\" icon={faCaretLeft} style={{ fontSize: 24, color: showLeftArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n        <ScrollContainer\n          className=\"itemWrapper\"\n          ref={(me) => (this.scrollView = me)}\n          onScroll={(e) => {\n            if (e === 0) this.setState({ showLeftArrow: false });\n            else this.setState({ showLeftArrow: true });\n\n            if (e === diff) this.setState({ showRightArrow: false });\n            else this.setState({ showRightArrow: true });\n          }}\n        >\n          <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n            {this.props.items}\n          </div>\n        </ScrollContainer>\n        <div\n          className=\"edgeEnd\"\n          onMouseEnter={() => {\n            let leftMoveSpeed = 2;\n            this.scrollLeft = setInterval(() => {\n              leftMoveSpeed = Math.min(12, leftMoveSpeed + 0.1);\n              this.scrollView.getElement().scrollBy({ left: leftMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollLeft);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon icon={faCaretRight} style={{ fontSize: 24, color: showRightArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { SlideDown } from \"react-slidedown\";\nimport { Dropdown, Button, Menu, Modal, Input } from \"antd\";\nimport { Range } from \"rc-slider\";\nimport { addPlayerListeners, removePlayerListeners, getDiscoverPulicStations, assignStation } from \"../../../actions\";\nimport AdvanceFilter from \"../advance_filter\";\nimport StationsSection from \"../../../components/stationSection\";\nimport PublicStation from \"../../../components/public_stations/publicStation\";\nimport StationDetails from \"../../../components/stationDetails\";\nimport GenresSection from \"../../genre_section\";\nimport { Animated } from \"react-animated-css\";\nimport { Spin } from \"antd\";\nimport { trackScreen, logEvent, trackModal } from \"../../../configs/google-analytics\";\nimport { get, isEqual } from \"lodash\";\nimport { userTypes, supersets, categories, actions, labels, defaultStationCount } from \"../../../constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faFilter } from \"@fortawesome/pro-solid-svg-icons\";\nimport { capitolizeFirstLetter, checkForMobile } from \"../../../util\";\nimport PageTitle from \"../../../components/page-title\";\nimport UncontrolledLottie from \"../../../components/UncontrolledLottie\";\nimport ControlledLottie from \"../../../components/ControlledLottie\";\nimport AdFree from \"../../../lotties/lottie_ad_free.json\";\nimport AntSpinner from \"../../../components/antSpinner\";\nimport \"../index.scss\";\n\nclass CreateSoundTrack extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      artistName: \"\",\n      searchText: \"\",\n      isStation: false,\n      isFixHeader: false,\n      showStationSearch: false,\n      showAppModal: false,\n      businessType: \"other\",\n      browseGenres: {},\n      defaultGenres: {}, // Easy reset for browseGenres\n      browseMoods: {},\n      defaultMoods: {}, // Easy reset for browseMoods\n      browseTempoRange: {\n        min: 30,\n        max: 150,\n      },\n      browseEraRange: {\n        from: 1950,\n        to: 2020,\n      },\n      playlistModalId: null,\n      playlists: null, // Station Sections\n      calculatedPlaylists: null,\n      // showAdFreeModal: true,\n      showAdvancedSearch: false,\n      isFiltering: false,\n      currentSelectedTempo: -1,\n      selectedGenres: {},\n      selectedMoods: {},\n      loadNumber: defaultStationCount,\n    };\n  }\n\n  getBusinessType() {\n    let businessType = get(this.props, \"myLocation.company.businessType\", \"restaurant\").toLowerCase();\n    if (businessType.toLowerCase() === \"other\") businessType = \"other\";\n    this.setState({ businessType });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null))) {\n      this.getBusinessType();\n    }\n  }\n\n  async componentDidMount() {\n    trackScreen();\n\n    this.getBusinessType();\n\n    this.props.actions.getDiscoverPulicStations().then((res) => {\n      let playlists = get(res, \"playlistList\", []);\n\n      let browseGenres = playlists.reduce((total, current) => {\n        Object.keys(current.genres).forEach((genre) => {\n          total[genre] = false;\n        });\n        return total;\n      }, {});\n\n      let browseMoods = playlists.reduce((total, current) => {\n        Object.keys(current.moods).forEach((mood) => {\n          total[mood] = false;\n        });\n        return total;\n      }, {});\n\n      this.setState({ isLoading: false, playlists, browseGenres, defaultGenres: browseGenres, browseMoods, defaultMoods: browseMoods }, this.calculateBrowse);\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.actions.removePlayerListeners();\n  }\n\n  scrollIntoView = (id) => {\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  toggleStationSearch = () => {\n    const { showStationSearch } = this.state;\n    this.setState({ showStationSearch: !showStationSearch }, () => {\n      if (showStationSearch) {\n        setTimeout(() => {\n          const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\n          if (collapse && collapse.length) collapse[0].scrollIntoView();\n        }, 100);\n      } else\n        logEvent({\n          category: categories.discover,\n          action: actions.advancedBrowse,\n          label: labels.button,\n        });\n    });\n  };\n\n  calculateBrowse = () => {\n    const { loadNumber } = this.state;\n\n    // function capable of building a percentage list of an incoming object\n    const buildPercentages = (obj) => {\n      var returnedObj = {};\n      var keys = Object.keys(obj).filter((key) => obj[key]);\n      keys.forEach((key) => {\n        returnedObj[key] = 1 / keys.length;\n      });\n      return returnedObj;\n    };\n\n    const toVector = (obj, target) => {\n      var vector = [];\n      Object.keys(target).forEach((key) => {\n        if (obj[key]) vector.push(obj[key]);\n        else vector.push(0);\n      });\n      return vector;\n    };\n\n    const cosSim = (A, B) => {\n      var dotproduct = 0;\n      var mA = 0;\n      var mB = 0;\n      for (var i = 0; i < A.length; i++) {\n        dotproduct += A[i] * B[i];\n        mA += A[i] * A[i];\n        mB += B[i] * B[i];\n      }\n      mA = Math.sqrt(mA);\n      mB = Math.sqrt(mB);\n      var similarity = dotproduct / (mA * mB);\n      return similarity;\n    };\n\n    const scoreString = (searchString, targetString) => {\n      var score = 0;\n\n      for (var i = 0; i < searchString.length; i++) {\n        for (var j = i + 1; j < searchString.length + 1; j++) {\n          var ngram = searchString.slice(i, j);\n          if (!targetString.includes(ngram)) break;\n          score += Math.pow(ngram.length, 1.5) / targetString.length;\n        }\n      }\n\n      return score;\n    };\n\n    // start by filtering by tempo\n    var playlists = this.state.playlists.filter((playlist) => {\n      if (playlist?.bpm?.mean > this.state.browseTempoRange?.max) return false;\n      if (playlist?.bpm?.mean < this.state.browseTempoRange?.min) return false;\n      return true;\n    });\n\n    if (!this.state.searchText) {\n      var targetGenres = buildPercentages(this.state.browseGenres);\n      var targetMoods = buildPercentages(this.state.browseMoods);\n\n      var genresSelected = Object.keys(targetGenres).length !== 0;\n      var moodsSelected = Object.keys(targetMoods).length !== 0;\n\n      targetGenres = toVector(targetGenres, this.state.browseGenres);\n      targetMoods = toVector(targetMoods, this.state.browseMoods);\n\n      var genreSimilarities = {};\n      if (genresSelected) {\n        playlists.forEach((playlist) => {\n          genreSimilarities[playlist._id] = cosSim(toVector(playlist.genres, this.state.browseGenres), targetGenres);\n        });\n      }\n\n      var moodSimilarities = {};\n      if (moodsSelected) {\n        playlists.forEach((playlist) => {\n          moodSimilarities[playlist._id] = cosSim(toVector(playlist.moods, this.state.browseMoods), targetMoods);\n        });\n      }\n\n      playlists = playlists.sort((a, b) => {\n        var total = 0;\n        if (genresSelected) total += (genreSimilarities[b._id] - genreSimilarities[a._id]) * 0.5;\n        if (moodsSelected) total += (moodSimilarities[b._id] - moodSimilarities[a._id]) * 0.5;\n        return total;\n      });\n    } else {\n      playlists = playlists\n        .map((playlist) => {\n          var searchScore = 0;\n          searchScore += scoreString(this.state.searchText, playlist.name);\n          if (playlist.description) searchScore += scoreString(this.state.searchText, playlist.description);\n          return { ...playlist, searchScore: searchScore };\n        })\n        .sort((a, b) => {\n          return b.searchScore - a.searchScore;\n        });\n    }\n\n    // return only the top 12\n    playlists = playlists.slice(0, loadNumber);\n    this.setState({ calculatedPlaylists: playlists });\n  };\n\n  showPlaylistModal = (playlistId) => {\n    this.setState({ playlistModalId: playlistId });\n    trackModal(\"Station Preview: \" + playlistId);\n  };\n\n  updatePreference(e) {\n    this.setState({ businessType: e.key });\n    logEvent({\n      category: categories.discover,\n      action: actions.updatePreference,\n      value: e.key,\n      label: labels.button,\n    });\n  }\n\n  _checkIfAllFalse = (arr) => {\n    for (const select of arr) {\n      if (select === true) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  _checkIsFiltering = () => {\n    const { searchText, browseGenres, browseMoods, currentSelectedTempo } = this.state;\n    const isSearching = searchText.length > 0;\n    const isSelectingGenre = this._checkIfAllFalse(Object.values(browseGenres)) === false;\n    const isSelectingMood = this._checkIfAllFalse(Object.values(browseMoods)) === false;\n    const isSelectingTempo = currentSelectedTempo > -1;\n\n    return isSearching || isSelectingGenre || isSelectingMood || isSelectingTempo;\n  };\n\n  onSetFiltering = () => {\n    if (this._checkIsFiltering()) this.setState({ isFiltering: true });\n    else this.setState({ isFiltering: false });\n  };\n\n  // Selects a genre\n  onSelectGenre = (genre) => () => {\n    let selectedGenres = { ...this.state.selectedGenres };\n    selectedGenres[genre] ? delete selectedGenres[genre] : (selectedGenres[genre] = true);\n\n    this.setState({ showAdvancedSearch: Object.keys(selectedGenres).length > 0 ? true : false, selectedGenres, browseGenres: { ...this.state.browseGenres, [genre]: !this.state.browseGenres[genre] }, loadNumber: defaultStationCount }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects a mood\n  onSelectMood = (mood) => {\n    let selectedMoods = { ...this.state.selectedMoods };\n    selectedMoods[mood] ? delete selectedMoods[mood] : (selectedMoods[mood] = true);\n\n    this.setState({ selectedMoods, browseMoods: { ...this.state.browseMoods, [mood]: !this.state.browseMoods[mood] } }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects a tempo\n  onSelectTempo = (tempo, index) => {\n    this.setState({ browseTempoRange: { min: tempo[0], max: tempo[1] }, currentSelectedTempo: index }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Deselects tempo\n  onDeselectTempo = () => {\n    this.setState({ browseTempoRange: { min: 30, max: 150 }, currentSelectedTempo: -1 }, () => {\n      this.onSetFiltering();\n      this.calculateBrowse();\n      this.showClearFilters();\n    });\n  };\n\n  // Selects an era\n  onSelectEra = (era) => {\n    this.setState({ browseEraRange: { from: era[0], to: era[1] } });\n  };\n\n  // Updates the station search text\n  onSetSearchText = (e) => {\n    this.setState({ searchText: e.target.value }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  };\n\n  // Clears all selections from advanced filters\n  clearAdvancedFilters() {\n    const { defaultGenres, defaultMoods } = this.state;\n    this.setState({ searchText: \"\", selectedGenres: {}, selectedMoods: {}, browseGenres: defaultGenres, browseMoods: defaultMoods, loadNumber: defaultStationCount, currentSelectedTempo: -1 }, () => {\n      this.onSetFiltering();\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\n    });\n  }\n\n  // Decides whether to show or hide advanced search menu\n  showClearFilters() {\n    const { currentSelectedTempo, selectedGenres, selectedMoods, searchText } = this.state;\n    if (searchText.length > 0 || Object.keys(selectedGenres).length > 0 || Object.keys(selectedMoods).length > 0 || currentSelectedTempo !== -1) return true;\n    else return false;\n  }\n\n  // Shows more stations in advanced search\n  loadMoreStations() {\n    this.setState({ loadNumber: this.state.loadNumber + defaultStationCount }, () => {\n      this.calculateBrowse();\n    });\n  }\n\n  render() {\n    const { isApple } = this.props;\n    const { showAdFreeModal, browseMoods, isLoading, playlists, businessType, playlistModalId, showAdvancedSearch, currentSelectedTempo, browseEraRange, isFiltering, browseGenres, searchText, calculatedPlaylists, selectedGenres } = this.state;\n\n    let globalStations = {};\n    let businessTypeStations = {};\n    let userType = get(this.props, \"user.role\", null);\n    let company = get(this.props, \"user.company\", \"\");\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n    let hasFavorites = favorites.length > 0 ? true : false;\n    let favoritesQueue = {};\n    if (hasFavorites) favoritesQueue[\"Favorites\"] = favorites;\n\n    for (var superset of supersets.global) globalStations[superset] = [];\n\n    let businessTypeSuperset = businessType.toLowerCase() === \"other\" && userType === userTypes.Individual ? supersets[\"defaultIndividual\"] : supersets[businessType.toLowerCase()];\n\n    for (var superset of businessTypeSuperset) businessTypeStations[superset] = [];\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) globalStations[playlistSuperset].push(playlist);\n          if (playlistSuperset in businessTypeStations) businessTypeStations[playlistSuperset].push(playlist);\n        }\n      }\n    }\n\n    const businessTypeMenu = (\n      <Menu onClick={(e) => this.updatePreference(e)} selectedKeys={[businessType]} className=\"menu-wrapper\">\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n\n    return (\n      <div className={\"discoverWrapper\"} id=\"discover-container\">\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={\"80%\"} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\n          <StationDetails login={this.props.login} playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} />\n        </Modal>\n        <div className=\"create-body\">\n          <div className=\"discover-head-wrapper\">\n            <PageTitle\n              title={\n                <span>\n                  Let's Find Your\n                  <span style={{ color: \"#D04283\" }}>&nbsp;ambii</span>-ance\n                </span>\n              }\n              subtitle={\"Discover the right music for your business\"}\n              style={{ flex: 1 }}\n            />\n\n            {userType !== userTypes.Individual && (\n              <div className={\"discover-buttons\"}>\n                <div className={\"viewOptions\"}>\n                  <Dropdown overlay={businessTypeMenu} trigger={[\"click\"]} className={\"preference-menu\"}>\n                    <Button className={\"preference-menu-button\"}>\n                      <span style={{ marginRight: \"5px\", color: \"black\" }}>Preference:</span>\n                      {capitolizeFirstLetter(businessType)}\n                      <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"8px\" }} />\n                    </Button>\n                  </Dropdown>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\" }}>\n            {isLoading && <div style={{ width: \"100%\", height: \"30vh\" }}></div>}\n            {!isLoading && (\n              <Animated animationIn=\"fadeIn\" isVisible={true}>\n                <div className={\"browseSettingsContainer \".concat(showAdvancedSearch && \"showAdvancedSearch\")}>\n                  <div className=\"searchWrapper\">\n                    <div className=\"searchInput\">\n                      <Input.Search className=\"searchBar\" placeholder=\"Search\" value={searchText} onChange={this.onSetSearchText} />\n                    </div>\n                    <Button onClick={() => this.setState((prevState) => ({ showAdvancedSearch: !prevState.showAdvancedSearch }))} className={showAdvancedSearch ? \"active\" : null}>\n                      <FontAwesomeIcon icon={faFilter} style={{ paddingRight: \"4px\" }} />\n                      Filters\n                    </Button>\n                    {this.showClearFilters() && (\n                      <Button onClick={() => this.clearAdvancedFilters()} style={{ marginLeft: \"10px\" }}>\n                        Clear\n                      </Button>\n                    )}\n                  </div>\n                  <div className=\"genreWrapper\">\n                    <div className=\"browseSelectionsContainer\">\n                      <GenresSection\n                        items={Object.keys(browseGenres).map((genre) => (\n                          <span\n                            key={genre}\n                            className=\"mobileGenreItem\"\n                            onClick={this.onSelectGenre(genre)}\n                            style={{\n                              backgroundColor: browseGenres[genre] ? \"rgba(95, 95, 95, 0.2)\" : \"transparent\",\n                            }}\n                          >\n                            {genre}\n                          </span>\n                        ))}\n                      />\n                    </div>\n                  </div>\n\n                  <SlideDown style={{ width: \"100%\" }}>{showAdvancedSearch ? <AdvanceFilter browseMoods={browseMoods} currentSelectedTempo={currentSelectedTempo} browseEraRange={browseEraRange} onSelectTempo={this.onSelectTempo} onDeselectTempo={this.onDeselectTempo} onSelectEra={this.onSelectEra} onSelectMood={this.onSelectMood} /> : null}</SlideDown>\n                </div>\n\n                {isFiltering ? (\n                  <div className=\"advanced-station-wrapper\">\n                    <div className=\"playlistsContainer\">\n                      {calculatedPlaylists\n                        ? calculatedPlaylists.map((playlist, i) => {\n                            return (\n                              <div className=\"playlistContainer\" key={get(playlist, \"_id\", i)}>\n                                <PublicStation showPlaylistModal={this.showPlaylistModal} assignStation={this.props.actions.assignStation} company={company} browse={true} history={this.props.history} {...playlist} />\n                              </div>\n                            );\n                          })\n                        : null}\n                    </div>\n                    <Button className={\"load-more\"} onClick={() => this.loadMoreStations()}>\n                      Load More\n                    </Button>\n                  </div>\n                ) : null}\n\n                {!isFiltering ? (\n                  <div>\n                    {hasFavorites &&\n                      Object.keys(favoritesQueue).map((favorite, i) => {\n                        return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={favorite} id={favorite} rowIndex={i} title={favorite} type={favorite} data={favoritesQueue[favorite]} source={\"discover\"} isApple={isApple} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(globalStations).map((superset, i) => {\n                        console.log({ globalStations, superset, test: globalStations[superset] });\n                        if (globalStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} rowIndex={hasFavorites ? null : i} title={superset} type={superset} data={globalStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                    {!isApple &&\n                      Object.keys(businessTypeStations).map((superset) => {\n                        if (businessTypeStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} title={superset} type={superset} data={businessTypeStations[superset]} source={\"discover\"} showViewAll />;\n                      })}\n                  </div>\n                ) : null}\n              </Animated>\n            )}\n          </Spin>\n          <div className=\"pageFooter\" />\n        </div>\n\n        {/* AD FREE */}\n        {/* <Modal\n          visible={showAdFreeModal}\n          onOk={() => this.setState({ showAdFreeModal: false })}\n          onCancel={() => this.setState({ showAdFreeModal: false })}\n          width=\"80%\"\n          footer={[]}\n          className=\"app-modal\"\n        >\n          <div className=\"connect-wrapper\">\n            <div className=\"connect-header\">\n              Welcome to <span style={{ color: '#D04283' }}>Ambii</span>\n            </div>\n            <div className=\"connect-text\">\n              We've set you up with 60 days of ad-free music, on us!\n            </div>\n            <div className=\"connect-text\" style={{ marginTop: '25px' }}>\n              After the 60 days, there's no pressure to subscribe or give us\n              your credit card information. Our advertisements let us promise to\n              be <span style={{ color: '#D04283' }}>Free. Forever!</span>\n            </div>\n            <div className=\"connect-animation\">\n              <UncontrolledLottie animationData={AdFree} />\n            </div>\n            <div className=\"connect-text\">\n              Now, simply choose any station and start playing music!\n            </div>\n            <div className=\"connect-button-group\" style={{ marginTop: '25px' }}>\n              <Button\n                type=\"primary\"\n                className={'big-button'}\n                onClick={() => this.setState({ showAdFreeModal: false })}\n              >\n                Get Started\n              </Button>\n            </div>\n          </div>\n        </Modal> */}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        addPlayerListeners,\n        removePlayerListeners,\n        getDiscoverPulicStations,\n        assignStation,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    isApple: state.auth.isApple,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\n","import React, { Component } from \"react\";\nimport Lottie from \"react-lottie\";\n\nclass ControlledLottie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isStopped: false,\n      isPaused: false,\n    };\n  }\n\n  render() {\n    const { animationData } = this.props;\n\n    // const buttonStyle = {\n    //     display: 'inline-block',\n    //     margin: '10px auto',\n    //     marginRight: '10px',\n    //     border: 'none',\n    //     color: 'white',\n    //     backgroundColor: '#647DFF',\n    //     borderRadius: '2px',\n    //     fontSize: '15px'\n\n    // };\n\n    const defaultOptions = {\n      loop: true,\n      autoplay: true,\n      animationData,\n      rendererSettings: {\n        preserveAspectRatio: \"xMidYMid slice\",\n      },\n    };\n\n    return (\n      <div className=\"controlled\">\n        <Lottie options={defaultOptions} height={400} width={400} isStopped={this.state.isStopped} isPaused={this.state.isPaused} />\n      </div>\n    );\n  }\n}\n\nexport default ControlledLottie;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport GenreColorBar from \"../genre-color-bar\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass StationTile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovered: false,\n    };\n  }\n\n  render() {\n    const { data, simple } = this.props;\n    let key = get(data, \"_id\", data);\n    let name = get(data, \"name\", \"\");\n    let bpm = get(data, \"bpm.mean\", 100).toFixed(0);\n    let genres = get(data, \"genres\", []);\n    let bpmInfo = getBPMInfo(bpm);\n\n    return (\n      <div className=\"schedule-playlist draggable-events\" title={name} data={key} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })}>\n        <div className=\"flexRow station-content noselect\">\n          <div className=\"name\"> {name} </div>\n          <div className=\"bpm-wrapper\">\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} style={{ fontSize: 24 }} />\n          </div>\n        </div>\n        <GenreColorBar genres={genres} roundBottom={true} simple={simple} />\n      </div>\n    );\n  }\n}\n\nexport default StationTile;\n","import React, { Component } from \"react\";\nimport StationTile from \"../station-tile\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nlet MIN_COUNT = 5;\n\nclass StationVerticalList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  toggleExpand() {\n    this.setState({ expanded: !this.state.expanded });\n  }\n\n  render() {\n    const { label, data } = this.props;\n    const { expanded } = this.state;\n    let displayData = [...data];\n\n    if (!expanded) displayData = displayData.slice(0, MIN_COUNT);\n\n    return (\n      <div className=\"music-section-wrapper\">\n        <div className=\"music-section-header\"> {label} </div>\n        {displayData.map((elem) => (\n          <StationTile data={elem} key={get(elem, \"_id\", elem)} simple />\n        ))}\n\n        {data.length > MIN_COUNT && (\n          <div className=\"view-more\" onClick={() => this.toggleExpand()}>\n            {expanded ? \"View Less\" : \"View More\"}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default StationVerticalList;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPenSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport \"./index.scss\";\n\nclass ToggleInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      activeInput: false,\n    };\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    try {\n      document.addEventListener(\"mousedown\", (e) => this.handleClickOutside(e));\n      document.addEventListener(\"keypress\", (e) => this.handleKeyDown(e));\n    } catch (err) {\n      console.log(\"caught didMount toggleInput err: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!isEqual(get(this.props, \"text\", \"\"), get(prevProps, \"text\", \"\"))) {\n      console.log(\"props: \", this.props);\n      this.setState({ text: get(this.props, \"text\", \"\") });\n    }\n\n    if (!get(this.state, \"activeInput\", false) && !isEqual(get(this.state, \"activeInput\", false), get(prevState, \"activeInput\", false))) {\n      console.log(\"onUpdate: \", this.state);\n      this.props.onUpdate(this.state.text);\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\n      document.removeEventListener(\"keypress\", this.handleKeyDown);\n    } catch (err) {\n      console.log(\"caught willUnmount toggleInput err: \", err);\n    }\n  }\n\n  // Tries to capture 'enter' press\n  handleKeyDown(e) {\n    if (get(e, \"key\", \"\").toLowerCase() === \"enter\") {\n      this.setState({ activeInput: false });\n    }\n  }\n\n  // Listens for clicks outside this component\n  handleClickOutside(e) {\n    let current = get(this, \"inputRef.current\", \"\");\n    if (current && !current.contains(e.target)) this.setState({ activeInput: false });\n  }\n\n  // Handles updating text changes\n  handleUpdate = (e) => {\n    let copy = { ...e };\n    let val = get(copy, \"target.value\", \"\");\n    this.setState({ text: val.length > 0 && val.length < 40 ? val : val.substring(0, 40) });\n  };\n\n  // Handles input focus toggle\n  toggleInput = () => {\n    try {\n      this.setState({ activeInput: !this.state.activeInput }, () => {\n        this.inputRef.current.focus(); // Autofocus the input\n      });\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  };\n\n  render() {\n    const { activeInput, text } = this.state;\n\n    return (\n      <div className={\"toggle-input noselect\"}>\n        {!activeInput && (\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n            <div className=\"scheduleName\" onClick={() => this.toggleInput()}>\n              {text}\n            </div>\n            <FontAwesomeIcon icon={faPenSquare} className=\"icon inputIcon\" onClick={() => this.toggleInput()} />\n          </div>\n        )}\n        {activeInput && <input ref={this.inputRef} onChange={(e) => this.handleUpdate(e)} className=\"scheduleNameInput\" placeholder={text} />}\n      </div>\n    );\n  }\n}\n\nexport default ToggleInput;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getDiscoverPulicStations, setSchedule, getSchedule } from \"../../actions\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\"; // needed for dayClick\nimport moment from \"moment\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faDesktop, faSmile } from \"@fortawesome/pro-light-svg-icons\";\nimport { Modal, Button, Spin } from \"antd\";\nimport StationVerticalList from \"../../components/stationVerticalList\";\nimport { isEqual, get } from \"lodash\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions, labels, supersets } from \"../../constants\";\nimport { checkForMobile } from \"../../util\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport ToggleInput from \"../../components/toggleInput\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass CreateSchedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      isMobile: checkForMobile(),\n      stations: [],\n      stationName: \"\",\n      mySchedule: {},\n      stationId: this.props.match.params.id,\n      playlists: [],\n      showMusicPlayer: false,\n      isSaving: false,\n    };\n    this.calendarComponentRef = React.createRef();\n  }\n\n  // Adding dragable properties to external events through javascript\n  async componentDidMount() {\n    trackScreen();\n\n    const { stationId } = this.state;\n    const [schedule, stations] = [await this.props.actions.getSchedule(stationId), await this.props.actions.getDiscoverPulicStations(stationId)];\n\n    if (schedule.success) {\n      let mySchedule = get(schedule, \"data[0]\", null);\n      let stationName = get(schedule, \"data[0].name\", null);\n      let stations = get(schedule, \"data[0].stations\", null);\n      this.setState({ mySchedule, stationName, stations });\n    }\n\n    let playlists = get(stations, \"playlistList\", []);\n\n    let browseGenres = playlists.reduce((total, current) => {\n      Object.keys(current.genres).forEach((genre) => {\n        total[genre] = false;\n      });\n      return total;\n    }, {});\n    let browseMoods = playlists.reduce((total, current) => {\n      Object.keys(current.moods).forEach((mood) => {\n        total[mood] = false;\n      });\n      return total;\n    }, {});\n\n    this.setState({ isLoading: false, playlists, browseGenres, browseMoods, showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n      try {\n        this.accessFullCalendarAPI();\n        window.addEventListener(\"resize\", this.accessFullCalendarAPI.bind(this));\n        let draggableEl = document.getElementById(\"external-events\");\n        new Draggable(draggableEl, {\n          itemSelector: \".draggable-events\",\n          eventData: (eventEl) => {\n            let title = eventEl.getAttribute(\"title\");\n            let id = eventEl.getAttribute(\"data\");\n            return { title, id };\n          },\n        });\n      } catch (err) {\n        console.log(\"caught err: \", err);\n      }\n    });\n    if (this.state.isMobile) logEvent({ category: categories.schedule, action: actions.viewedMobile });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\n      this.setState({ showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\n        this.accessFullCalendarAPI();\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", this.accessFullCalendarAPI);\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  // Calendar options\n  accessFullCalendarAPI() {\n    try {\n      this.setState({ isMobile: checkForMobile() });\n\n      let sideSection = document.getElementById(\"external-events\") || null;\n      if (sideSection) sideSection = sideSection.getBoundingClientRect().height; // Subtract music player height from side-section\n\n      let calendar = this.calendarComponentRef.current.getApi();\n      calendar.setOption(\"height\", sideSection); // Shouldn't need to do this, but the calendar css is stuipd\n      calendar.setOption(\"eventColor\", \"#2F2F2F\");\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  }\n\n  renderHeader = (date) => {\n    switch (date.getDay()) {\n      case 1:\n        return \"Monday\";\n      case 2:\n        return \"Tuesday\";\n      case 3:\n        return \"Wednesday\";\n      case 4:\n        return \"Thursday\";\n      case 5:\n        return \"Friday\";\n      case 6:\n        return \"Saturday\";\n      default:\n        return \"Sunday\";\n    }\n  };\n\n  validateEvent = (data) => {\n    if (data.event.start.getDate() !== data.event.end.getDate()) {\n      if (data.event.start.getDate() + 1 === data.event.end.getDate() && data.event.end.getHours() === 0 && data.event.end.getMinutes() === 0) {\n        console.log(\"Same day allowed\");\n      } else {\n        data.revert();\n      }\n    }\n  };\n\n  saveSchedule = () => {\n    const { stationName, stationId, isSaving } = this.state;\n\n    try {\n      this.setState({ isSaving: true }, () => {\n        let calendar = this.calendarComponentRef.current.getApi();\n        let calendarEvents = calendar.getEvents();\n        let companyId = get(this.props, \"user.company._id\", null);\n\n        // Send in the correct format to server\n        let tempStations = [];\n        calendarEvents.forEach((station) => {\n          tempStations.push({\n            start: moment(station.start).format(),\n            end: moment(station.end).format(),\n            day: moment(station.start).format(),\n            title: station.title,\n            stationId: station.id !== null && station.id !== \"\" ? station.id : station.extendedProps.stationId,\n          });\n        });\n\n        this.props.actions.setSchedule({ companyId, scheduleId: stationId, name: stationName, stations: tempStations }).then(() => {\n          this.setState({ isSaving: false }, () => {\n            logEvent({ category: categories.schedule, action: actions.saveSchedule, label: labels.button });\n            this.props.history.push(\"/schedules\");\n          });\n        });\n      });\n    } catch (err) {\n      logEvent({ category: categories.schedule, value: err, label: labels.error });\n      this.setState({ isSaving: false });\n      console.log(\"caught: \", err);\n    }\n  };\n\n  closeSchedule = () => {\n    logEvent({ category: categories.schedule, action: actions.closeSchedule, label: labels.button });\n    this.props.history.push(\"/schedules\");\n  };\n\n  backToDashboard = () => {\n    logEvent({ category: categories.schedule, action: actions.backToDashboard, label: labels.button });\n    this.props.history.push(\"/nowPlaying\");\n  };\n\n  showErrorMessage() {\n    return (\n      <div className=\"error-div\">\n        <div className=\"title\">Mobile Not Supported</div>\n        <div className=\"subtitle\">Please view this page on desktop.</div>\n        <div className=\"phone\">\n          <FontAwesomeIcon icon={faDesktop} className=\"mobile-icon\" />\n          <FontAwesomeIcon icon={faSmile} className=\"frown-icon\" />\n        </div>\n        <Button className={\"optionButton\"} onClick={() => this.backToDashboard()}>\n          Back to Dashboard\n        </Button>\n      </div>\n    );\n  }\n\n  eventClick(e) {\n    confirm({\n      title: \"Delete this station?\",\n      content: get(e, \"event.title\", \"\") + \": \" + moment(get(e, \"event.start\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.start\", \"\")).format(\"LT\") + \" - \" + moment(get(e, \"event.end\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.end\", \"\")).format(\"LT\"),\n      onOk() {\n        e.event.remove();\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  stationNameUpdate(stationName) {\n    this.setState({ stationName });\n  }\n\n  render() {\n    const { history } = this.props;\n    const { isLoading, playlists, stations, showMusicPlayer, isMobile, stationName, isSaving } = this.state;\n\n    let globalStations = {};\n    let businessTypeStations = {};\n    let favorites = get(this.props, \"myLocation.favorites\", []);\n\n    for (var superset of supersets.global) {\n      globalStations[superset] = [];\n    }\n\n    let businessTypeSuperset = supersets[\"defaultIndividual\"];\n\n    for (var superset of businessTypeSuperset) {\n      businessTypeStations[superset] = [];\n    }\n\n    if (!isLoading) {\n      for (var playlist of playlists) {\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\n          if (playlistSuperset in globalStations) {\n            globalStations[playlistSuperset].push(playlist);\n          }\n          if (playlistSuperset in businessTypeStations) {\n            businessTypeStations[playlistSuperset].push(playlist);\n          }\n        }\n      }\n    }\n\n    let categorizedKeys = Object.keys(businessTypeStations);\n    let globalStationKeys = Object.keys(globalStations);\n\n    return (\n      <div className={\"schedulePageWrapper\"}>\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          {isMobile ? (\n            this.showErrorMessage()\n          ) : (\n            <>\n              <div className=\"topRowWrapper\">\n                <div className=\"topRowLeft\">\n                  <div className=\"scheduleNameWrapper\">\n                    <ToggleInput text={stationName} onUpdate={(e) => this.stationNameUpdate(e)} />\n                  </div>\n                  <div className=\"description\"> Drag and Drop Your Stations to Schedule When They Play </div>\n                </div>\n                <div className=\"scheduleButtonGroup\">\n                  <Button className={\"optionButton whitespinner noblur\"} type=\"primary\" onClick={isSaving ? null : () => this.saveSchedule()}>\n                    <Spin indicator={AntSpinner} spinning={isSaving}>\n                      Save & Close\n                    </Spin>\n                  </Button>\n                  <Button className={\"optionButton\"} onClick={() => this.closeSchedule()}>\n                    Close\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"bottomRowWrapper\" style={{ maxHeight: showMusicPlayer ? \"72vh !important\" : null }}>\n                <div id=\"external-events\" className=\"selectionWrapper\">\n                  <StationVerticalList label={\"Favorites\"} data={favorites} />\n                  {globalStationKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={globalStations[superset]} />\n                  ))}\n                  {categorizedKeys.map((superset) => (\n                    <StationVerticalList key={superset} label={superset} data={businessTypeStations[superset]} />\n                  ))}\n                  <StationVerticalList label={\"General\"} data={playlists} />\n                  <div className=\"musicSectionWrapper\">\n                    <div className=\"musicSectionHeader\"> Browse More Soundtracks </div>\n                    <div className=\"musicSectionFooter\" onClick={() => history.push(\"/discover\")}>\n                      Discover Music\n                      <FontAwesomeIcon icon={faExternalLinkAlt} className=\"discoverIcon\" />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"calendarWrapper\">\n                  <div className=\"app-calendar noselect\" id=\"mycalendartest\">\n                    <FullCalendar\n                      defaultView=\"timeGridWeek\"\n                      header={false}\n                      defaultDate={\"2020-01-10T00:00:00.000Z\"}\n                      allDayDefault={false}\n                      eventDurationEditable={true}\n                      editable={true}\n                      events={stations}\n                      droppable={true}\n                      plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n                      ref={this.calendarComponentRef}\n                      eventDrop={this.validateEvent}\n                      eventReceive={(data) => {\n                        console.log(\"data: \", { ...data });\n                      }}\n                      slotDuration={\"00:30\"} // duration of slot interval\n                      eventClick={(e) => this.eventClick(e)}\n                      startRecur={Date.now()}\n                      allDaySlot={false}\n                      eventOverlap={false}\n                      columnHeaderText={this.renderHeader}\n                      eventResize={this.validateEvent}\n                      forceEventDuration={true}\n                    />\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getDiscoverPulicStations,\n        setSchedule,\n        getSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n    schedules: state.schedules,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSchedule));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Animated } from \"react-animated-css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faTrash } from \"@fortawesome/pro-solid-svg-icons\";\nimport { assignSchedule, deleteSchedule, setSnackbarMessage } from \"../../actions\";\nimport AntSpinner from \"../antSpinner\";\nimport { get } from \"lodash\";\nimport { Spin, Modal } from \"antd\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\n\nclass ScheduleBlock extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hidden: true,\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    const { wait } = this.props;\n\n    let timeout = setTimeout(() => {\n      this.setState({ hidden: false });\n      clearTimeout(timeout);\n    }, wait);\n  }\n\n  assignSchedule = (e) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      let companyId = get(this.props, \"data.company._id\", null);\n      let scheduleId = get(this.props, \"data._id\", null);\n\n      this.props.actions.assignSchedule({ companyId, scheduleId }).then((res) => {\n        if (res) {\n          this.setState({ isLoading: false });\n          this.props.history.push(\"/nowPlaying\", { isBack: true });\n        } else this.props.actions.setSnackbarMessage({ message: \"Error while assigning station\", type: \"error\" });\n      });\n    });\n  };\n\n  deleteSchedule = ({ e, data, props, callback }) => {\n    e.stopPropagation();\n    this.setState({ isLoading: true }, () => {\n      confirm({\n        title: \"Delete Schedule?\",\n        content: get(data, \"name\", \"\"),\n        onOk() {\n          let companyId = get(props, \"data.company._id\", null);\n          let scheduleId = get(props, \"data._id\", null);\n\n          props.actions.deleteSchedule({ companyId, scheduleId }).then((res) => {\n            if (!res) {\n              callback();\n              props.actions.setSnackbarMessage({ message: \"Error while deleting station\", type: \"error\" });\n            }\n          });\n        },\n        onCancel() {\n          callback();\n        },\n      });\n    });\n  };\n\n  stopLoading() {\n    this.setState({ isLoading: false });\n  }\n\n  render() {\n    const { data, onClick } = this.props;\n    const { hidden, isLoading } = this.state;\n    let hasData = get(data, \"stations\", []).length > 0;\n\n    return (\n      <>\n        {!hidden && (\n          <Animated animationIn=\"fadeIn\" isVisible={true}>\n            <Spin indicator={AntSpinner} spinning={isLoading}>\n              <div key={data._id} className=\"scheduleBlock\" style={{ backgroundColor: data.hex }} onClick={() => onClick(data._id)}>\n                <div className={\"schedule-icon-row\"}></div>\n                <div className={\"schedule-text-wrapper\"} style={{ flex: 1 }}>\n                  <div className=\"schedule-text\">{get(data, \"name\", \"\")}</div>\n                </div>\n                <div className={\"schedule-icon-row\"}>\n                  {hasData && (\n                    <div className=\"schedule-icon\" onClick={(e) => this.assignSchedule(e)}>\n                      <FontAwesomeIcon icon={faPlay} className=\"icon\" />\n                    </div>\n                  )}\n                  <div className=\"schedule-icon\" onClick={(e) => this.deleteSchedule({ e, data, props: this.props, callback: () => this.stopLoading() })}>\n                    <FontAwesomeIcon icon={faTrash} className=\"icon\" />\n                  </div>\n                </div>\n              </div>\n            </Spin>\n          </Animated>\n        )}\n      </>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ assignSchedule, deleteSchedule, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    stations: state.stations.data,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ScheduleBlock));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMyPlaylists, editSchedule, createSchedule } from \"../../actions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport ScheduleBlock from \"../../components/scheduleBlock\";\nimport { trackScreen, logEvent } from \"../../configs/google-analytics\";\nimport { categories, actions } from \"../../constants\";\nimport PageTitle from \"../../components/page-title\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport \"./index.scss\";\n\nclass Schedules extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      creatingSchedule: false,\n    };\n  }\n\n  componentDidMount() {\n    trackScreen();\n    this.getAllLocations();\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/schedules), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      console.log(\"update props: \", this.props);\n      this.getAllLocations();\n    }\n  }\n\n  getAllLocations = () => {\n    let companyId = get(this.props, \"user.company._id\", \"\");\n    this.props.actions.getMyPlaylists({ companyId }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  };\n\n  createNewSchedule() {\n    this.setState({ creatingSchedule: true }, () => {\n      let companyId = get(this.props, \"user.company._id\", \"\");\n      this.props.actions.createSchedule(companyId).then((res) => {\n        logEvent({ category: categories.schedule, action: actions.createSchedule });\n        let id = get(res, \"data._id\", null);\n        this.props.history.push(`/createSchedule/${id}`);\n      });\n    });\n  }\n\n  editSchedule(id) {\n    logEvent({ category: categories.schedule, action: actions.createSchedule, value: id });\n    this.props.history.push(`/createSchedule/${id}`);\n  }\n\n  render() {\n    const { playlists } = this.props;\n    const { isLoading, creatingSchedule } = this.state;\n\n    return (\n      <div className=\"scheduleWrapper noblur\">\n        <PageTitle\n          title={\n            <span>\n              Your <span style={{ color: \"#D04283\" }}>Schedules</span>\n            </span>\n          }\n          subtitle={\"Schedule out your stations for the whole week!\"}\n        />\n        <Spin indicator={AntSpinner} spinning={isLoading}>\n          <div className=\"scheduleBlockWrapper noselect\">\n            <div className=\"newSchedule\" onClick={() => (!creatingSchedule ? this.createNewSchedule() : null)}>\n              <div className=\"plusCircle\">\n                <FontAwesomeIcon icon={faPlus} className=\"icon\" />\n              </div>\n              <div className=\"newScheduleText\">Create Schedule</div>\n            </div>\n\n            {get(playlists, \"schedules\", []).map((elem, i) => (\n              <ScheduleBlock key={get(elem, \"_id\", elem)} wait={i * 300} data={elem} onClick={(id) => this.editSchedule(id)} />\n            ))}\n          </div>\n        </Spin>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getMyPlaylists,\n        editSchedule,\n        createSchedule,\n      },\n      dispatch\n    ),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    stations: state.stations,\n    playlistList: state.stations.playlistList,\n    genreList: state.stations.genreList,\n    eraList: state.stations.eraList,\n    moodList: state.stations.moodList,\n    playlists: state.playlists,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Schedules));\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Select, Modal } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies } from \"../../constants\";\nimport { faTimes } from \"@fortawesome/pro-light-svg-icons\";\nimport { faVolume } from \"@fortawesome/pro-solid-svg-icons\";\nimport { deleteMessage, updateFrequency, getMessages } from \"../../actions\";\nimport \"./index.scss\";\n\nconst { confirm } = Modal;\nconst { Option } = Select;\n\nclass MessageCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messageData: this.props.message,\n    };\n  }\n\n  // Updates the message frequency\n  updateMessageFrequency({ e, messageData, user }) {\n    this.setState({ messageData: { ...messageData, frequency: e } }, () => {\n      this.props.actions.updateFrequency({ companyId: get(user, \"company._id\"), locationId: get(this.props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\"), frequency: e }).then((res) => {\n        if (res) this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") });\n      });\n    });\n  }\n\n  // Prompts user to delete a message\n  delete({ user, messageData, props }) {\n    confirm({\n      title: \"Delete Message?\",\n      content: get(messageData, \"title\", \"\") + \": \" + get(messageData, \"message\", \"\"),\n      onOk() {\n        props.actions.deleteMessage({ companyId: get(user, \"company._id\"), locationId: get(props, \"myLocation._id\", \"\"), id: get(messageData, \"_id\", \"\") }).then((res) => {\n          if (res) props.actions.getMessages({ companyId: get(props, \"user.company._id\"), locationId: get(props, \"myLocation._id\", \"\") });\n        });\n      },\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n  }\n\n  render() {\n    const { message, user, setPreviewUrl, myLocation } = this.props;\n    const { messageData } = this.state;\n\n    return (\n      <div className=\"messageCard\">\n        <div className=\"messageCardheader\">\n          <div style={{ paddingRight: \"10px\" }} onClick={() => setPreviewUrl(get(messageData, \"url\", \"\"))}>\n            <FontAwesomeIcon icon={faVolume} className={\"messageCardPreview\"} />\n          </div>\n          <div className={\"messageTitle\"}> {get(messageData, \"title\", \"\")} </div>\n          <div className=\"icon\" style={{ paddingLeft: \"10px\" }} onClick={() => this.delete({ user, messageData, props: this.props })}>\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n        <Select\n          defaultValue={get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")}\n          onChange={(e) => {\n            this.updateMessageFrequency({ e, messageData, user });\n          }}\n        >\n          {frequencies.map((frequency, i) => (\n            <Option key={get(frequency, \"time\", i)} value={get(frequency, \"time\", \"60\")}>\n              {get(frequency, \"title\", \"Error\")}\n            </Option>\n          ))}\n        </Select>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ deleteMessage, updateFrequency, getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(MessageCard));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { getMessages } from \"../../actions\";\nimport { Button, Spin } from \"antd\";\nimport { get, isEqual } from \"lodash\";\nimport PageTitle from \"../../components/page-title\";\nimport MessageCard from \"../../components/messageCard\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/pro-solid-svg-icons\";\nimport \"./index.scss\";\n\nclass InStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPlaying: false,\n      previewTrackUrl: null,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then((res) => {\n      if (res) this.setState({ isLoading: false });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    // If webpage is loaded here (/inStoreMessaging), do the following after props are fully loaded\n    if (!isEqual(get(this.props, \"myLocation.token\", null), get(prevProps, \"myLocation.token\", null))) {\n      this.props.actions.getMessages({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\") }).then(() => {\n        this.setState({ isLoading: false });\n      });\n    }\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      this.rap.audioEl.play();\n    });\n  }\n\n  setPreviewUrl(e) {\n    this.setState({ previewTrackUrl: e });\n  }\n\n  render() {\n    const { user, inStoreMessaging, myLocation } = this.props;\n    const { previewTrackUrl, isLoading } = this.state;\n\n    let activeMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) > 0);\n    let inactiveMessages = get(inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")) === 0);\n\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          title={\n            <span>\n              In-Store <span style={{ color: \"#D04283\" }}> Messages </span>\n            </span>\n          }\n          subtitle=\"Custom announcements to help drive customer action\"\n        />\n        <div className=\"centerMessages\">\n          <div className=\"viewMessagesContainer\">\n            <div>\n              <div style={{ display: \"none\" }}>\n                <ReactAudioPlayer\n                  ref={(element) => {\n                    this.rap = element;\n                  }}\n                  src={previewTrackUrl}\n                  autoPlay={false}\n                  controls={false}\n                  muted={false}\n                  volume={0.3}\n                  onCanPlay={() => this.playTrack()}\n                  onEnded={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                  onError={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\n                />\n              </div>\n\n              <Spin indicator={AntSpinner} spinning={isLoading}>\n                {activeMessages.length > 0 || inactiveMessages.length > 0 ? (\n                  <>\n                    <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                      <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                      Create New Message\n                    </Button>\n\n                    {activeMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Active Messages </div>\n                        {activeMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n\n                    {inactiveMessages.length > 0 && (\n                      <>\n                        <div className=\"heading heading-medium\">Inactive Messages </div>\n                        {inactiveMessages.map((m, i) => (\n                          <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} />\n                        ))}\n                      </>\n                    )}\n                  </>\n                ) : (\n                  <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" style={{ width: \"100%\", margin: \"10px 0px\", backgroundColor: \"#e3e3e3\" }}>\n                    <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\n                    Create Your First Message\n                  </Button>\n                )}\n              </Spin>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ getMessages }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n    inStoreMessaging: state.inStoreMessaging,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(InStoreMessaging));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { createMessage, getVoiceOptions, setSnackbarNotification, setSnackbarMessage } from \"../../actions\";\nimport { Button, Input, Select } from \"antd\";\nimport { get } from \"lodash\";\nimport { frequencies } from \"../../constants\";\nimport PageTitle from \"../../components/page-title\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\nconst { TextArea } = Input;\n\nclass CreateInStoreMessaging extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\",\n      title: \"\",\n      language: \"\",\n      languageCode: \"\",\n      voice: \"\",\n      frequency: \"\",\n      voiceOptions: {},\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getVoiceOptions().then((data) => {\n      this.setState({ voiceOptions: data });\n    });\n  }\n\n  renderLanguageOptions() {\n    const { voiceOptions } = this.state;\n    return Object.keys(voiceOptions).map((language) => <Option key={language}> {language} </Option>);\n  }\n\n  renderVoiceOptions() {\n    const { language, voiceOptions } = this.state;\n    if (!language) return;\n    else\n      return voiceOptions[language].map((voice) => (\n        <Option key={voice[\"name\"]} parent={voice[\"parent\"]}>\n          {voice[\"simpleName\"]}\n        </Option>\n      ));\n  }\n\n  // Attempts to create an ISM\n  createMessage() {\n    const { setSnackbarMessage } = this.props.actions;\n    const { title, message, languageCode, voice, frequency } = this.state;\n\n    if (this.checkIfValidISM()) {\n      this.props.actions.createMessage({ companyId: get(this.props, \"user.company._id\"), locationId: get(this.props, \"myLocation._id\", \"\"), title, voice, language: languageCode, message, frequency }).then((res) => {\n        if (res) {\n          setSnackbarMessage({ message: \"Successfully created message\", type: \"success\" });\n          this.props.history.push(\"/inStoreMessaging\");\n        } else setSnackbarMessage({ message: \"There was an error when creating your message\", type: \"error\" });\n      });\n    }\n  }\n\n  // Checks to see if each ISM field is valid. Otherwise, returns a field-specific error\n  checkIfValidISM() {\n    const { setSnackbarNotification, setSnackbarMessage } = this.props.actions;\n    const { title, message, language, voice, frequency } = this.state;\n\n    if (!title) {\n      setSnackbarMessage({ message: \"Please add a title to your message\", type: \"warn\" });\n      return false;\n    }\n    if (!message || message.length < 10) {\n      setSnackbarMessage({ message: \"Please add a longer message\", type: \"warn\" });\n      return false;\n    }\n    if (!language) {\n      setSnackbarMessage({ message: \"Please select a language\", type: \"warn\" });\n      return false;\n    }\n    if (!voice) {\n      setSnackbarMessage({ message: \"Please select a voice\", type: \"warn\" });\n      return false;\n    }\n    if (!frequency) {\n      setSnackbarMessage({ message: \"Please select a frequency\", type: \"warn\" });\n      return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    const { language, voice, frequency } = this.state;\n\n    return (\n      <div className=\"messageWrapper\">\n        <PageTitle\n          backArrow\n          backArrowPress={() => this.props.history.push(\"/inStoreMessaging\")}\n          title={\n            <span>\n              Create a <span style={{ color: \"#D04283\" }}> Message </span>\n            </span>\n          }\n        />\n        <div className=\"centerMessages\">\n          <div className=\"createMessagesContainer\">\n            <div className=\"heading heading-medium\">Message Name </div>\n            <Input\n              onChange={(e) => {\n                this.setState({ title: e.target.value });\n              }}\n            />\n            <div className=\"heading heading-medium\">Message </div>\n            <TextArea\n              placeholder=\"Max 200 Characters\"\n              maxLength={200}\n              onChange={(e) => {\n                this.setState({ message: e.target.value });\n              }}\n              rows={4}\n            />\n            <div className=\"heading heading-medium\">Language</div>\n            <Select value={language ? language : \"Please select a language\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ language: v.key, languageCode: \"\", voice: \"\" })}>\n              {this.renderLanguageOptions()}\n            </Select>\n            <div className=\"heading heading-medium\">Voice </div>\n            <Select value={voice ? voice : \"Please select a voice\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ voice: v.key, languageCode: get(v, \"props.parent\", \"\") })}>\n              {this.renderVoiceOptions()}\n            </Select>\n            <div className=\"heading heading-medium\">Frequency </div>\n            <Select value={frequency ? frequency : \"Please select a frequency\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ frequency: v.key })}>\n              {frequencies.map((freq, i) => (\n                <Option key={get(freq, \"time\", i)} value={get(freq, \"time\", \"60\")}>\n                  {get(freq, \"title\", \"Error\")}\n                </Option>\n              ))}\n            </Select>\n            <Button onClick={() => this.createMessage()} size=\"large\" style={{ width: \"100%\", marginBottom: 10, marginTop: 10, backgroundColor: \"#e3e3e3\" }}>\n              Create Message\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ createMessage, getVoiceOptions, setSnackbarNotification, setSnackbarMessage }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.auth.user,\n    myLocation: state.auth.location,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateInStoreMessaging));\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Landing from \"../containers/landing\";\nimport SignUp from \"../containers/welcome/signUp\";\nimport LogIn from \"../containers/login\";\nimport Create from \"../containers/create/\";\nimport Discover from \"../containers/create/discover\";\nimport StationDetails from \"../components/stationDetails\";\nimport CreateSchedule from \"../containers/createSchedule\";\nimport Schedules from \"../containers/schedules\";\nimport InStoreMessaging from \"../containers/inStoreMessaging\";\nimport CreateInStoreMessaging from \"../containers/createInStoreMessaging\";\nimport Auth0Helper from \"../helpers/Auth0Helper\";\n\nlet routes = [\n  {\n    path: \"/\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => <Redirect to=\"/discover\" />,\n  },\n  {\n    path: \"/landing\",\n    exact: false,\n    isChild: false,\n    private: false,\n    component: () => <Landing />,\n  },\n  {\n    path: \"/login\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.login();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/signUp\",\n    exact: true,\n    isChild: false,\n    private: false,\n    component: () => {\n      Auth0Helper.signUp();\n      return <Discover />;\n    },\n  },\n  {\n    path: \"/nowPlaying\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Create />,\n  },\n  {\n    path: \"/discover\",\n    exact: true,\n    isChild: true,\n    private: false,\n    component: () => <Discover />,\n  },\n  {\n    path: \"/station/:id\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <StationDetails />,\n  },\n  {\n    path: \"/createschedule/:id\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateSchedule />,\n  },\n  {\n    path: \"/schedules\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <Schedules />,\n  },\n  {\n    path: \"/inStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <InStoreMessaging />,\n  },\n  {\n    path: \"/createInStoreMessaging\",\n    exact: true,\n    isChild: true,\n    private: true,\n    component: () => <CreateInStoreMessaging />,\n  },\n];\n\nexport default routes;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { get } from \"lodash\";\nimport { Menu, message, Avatar, Dropdown, Button } from \"antd\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBars, faAcorn } from \"@fortawesome/pro-solid-svg-icons\";\nimport { categories, actions, images } from \"../../constants\";\nimport config from \"../../configs/urls\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport { setSnackbarMessage } from \"../../actions\";\nimport \"./index.scss\";\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\n\nmessage.config({\n  top: \"5%\",\n  duration: 1,\n});\n\nlet resizeListener = null;\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: undefined,\n      windowSize: window.innerWidth,\n    };\n  }\n\n  componentDidMount() {\n    let str = this.props.location.pathname;\n    var activePath = str.replace(\"/\", \"\");\n    this.setState({ current: activePath });\n    resizeListener = window.addEventListener(\"resize\", (e) => {\n      this.setState({ windowSize: e.target.innerWidth });\n    });\n  }\n\n  componentWillUnmount() {\n    try {\n      window.removeEventListener(\"resize\", resizeListener);\n      resizeListener = null;\n    } catch (err) {\n      console.log(\"error while unmounting header: \", err);\n    }\n  }\n\n  handleClick = async (route) => {\n    if (route === \"features\" || route === \"price\") {\n      message.info(\"This service will be available soon, please enjoy our other services\");\n    } else if (route === \"signout\") {\n      this.logInOut();\n    } else {\n      let hasStation = get(this.props, \"auth.location.station._id\", null);\n      if (route === \"nowPlaying\" && !hasStation) {\n        this.props.actions.setSnackbarMessage({ message: \"Please select a station before viewing your dashboard\", type: \"warn\" });\n        return;\n      }\n      this.setState({ current: route });\n      message.destroy();\n      this.props.history.push(\"/\" + route);\n    }\n  };\n\n  logInOut = () => {\n    if (Auth0Helper.isLoggedIn()) {\n      try {\n        logEvent({ category: categories.general, action: actions.signout });\n        localStorage.removeItem(\"location-jwt\"); // Clear our location-jwt\n        Auth0Helper.logout();\n      } catch (err) {\n        console.log(\"Caught logout err: \", err);\n      }\n    } else {\n      Auth0Helper.login();\n    }\n  };\n\n  checkIfActiveTab(tab) {\n    return this.props.location.pathname.toLowerCase().includes(tab.toLowerCase());\n  }\n\n  render() {\n    const { windowSize } = this.state;\n    const mobileHeaderMenu = (\n      <Menu mode=\"horizontal\" onClick={(e) => this.handleClick(e.key)} selectedKeys={[this.state.current]} className=\"menu-wrapper\">\n        <Menu.Item key=\"nowPlaying\">Dashboard</Menu.Item>\n        <Menu.Item key=\"discover\">Stations</Menu.Item>\n        <Menu.Item key=\"schedules\">Schedules</Menu.Item>\n        <Menu.Item key=\"inStoreMessaging\">In-Store Messaging</Menu.Item>\n        <Menu.Item key=\"signout\">{Auth0Helper.isLoggedIn() ? \"Sign Out\" : \"Sign In\"}</Menu.Item>\n      </Menu>\n    );\n\n    const route = get(this.props, \"route\", null);\n    let isCreateSchedulePage = null;\n\n    if (route) isCreateSchedulePage = route.toUpperCase().includes(\"createSchedule\".toUpperCase()) ? true : false;\n    let headStyle = isCreateSchedulePage ? \"header-container headerTwo\" : \"header-container headerOne\";\n\n    return (\n      <div className={headStyle}>\n        <Avatar src={images.appLogo} className=\"header_logo pointer noselect\" size={50} onClick={() => this.props.history.push(\"/nowPlaying\")} alt=\"logo\" />\n        {windowSize <= 760 ? (\n          <div className={\"mobileButtonsContainer\"}>\n            <Dropdown overlay={mobileHeaderMenu} trigger={[\"click\"]}>\n              <Button>\n                <FontAwesomeIcon icon={faBars} />\n              </Button>\n            </Dropdown>\n          </div>\n        ) : (\n          <>\n            <div className=\"mainButtonsContainer noselect\">\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"nowPlaying\") ? \" mainButtonActive\" : \"\")} key=\"nowPlaying\" onClick={() => this.handleClick(\"nowPlaying\")}>\n                Dashboard\n              </div>\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"discover\") || this.checkIfActiveTab(\"browse\") ? \" mainButtonActive\" : \"\")} key=\"discover\" onClick={() => this.handleClick(\"discover\")}>\n                Stations\n              </div>\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"schedules\") || this.checkIfActiveTab(\"createSchedule\") ? \" mainButtonActive\" : \"\")} key=\"schedules\" onClick={() => this.handleClick(\"schedules\")}>\n                Schedules\n              </div>\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"inStoreMessaging\") || this.checkIfActiveTab(\"inStoreMessaging\") ? \" mainButtonActive\" : \"\")} key=\"inStoreMessaging\" onClick={() => this.handleClick(\"inStoreMessaging\")}>\n                In-Store Messaging\n              </div>\n            </div>\n            <Button key=\"signout\" onClick={() => this.logInOut()}>\n              {Auth0Helper.isLoggedIn() ? \"Sign Out\" : \"Sign In\"}\n            </Button>\n          </>\n        )}\n        {(get(config, \"API_URL\", \"\").includes(\"localhost\") || get(config, \"API_URL\", \"\").includes(\"-dev\")) && <FontAwesomeIcon className={\"icon\"} style={{ paddingLeft: \"10px\", fontSize: \"32px\" }} icon={faAcorn} onClick={() => console.log({ props: this.props.state, trackSchedule: get(this.props, \"state.auth.location.trackSchedule\", {}), player: get(this.props, \"state.player\", {}) })} />}\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    player: state.player,\n    state: state,\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(AppHeader)));\n","import React, { Component } from \"react\";\nimport { get, isEqual } from \"lodash\";\nimport Slider from \"react-rangeslider\";\nimport \"./index.scss\";\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myVolume: 0,\n    };\n  }\n\n  componentDidMount() {\n    // Sets initial state when volume slider pops-up\n    this.setState({ myVolume: get(this.props, \"volume\", 0) });\n  }\n\n  componentDidUpdate(prevProps) {\n    // Handles mute / unmute\n    if (!isEqual(get(this.props, \"volume\", 0), get(prevProps, \"volume\", 0))) {\n      this.setState({ myVolume: get(this.props, \"volume\", 0) });\n    }\n  }\n\n  // Handles volume slider change\n  handleChange = (myVolume) => {\n    this.props.changeVolume(myVolume * 0.01);\n  };\n\n  // Returns the volume as a %\n  calculateVolumeHeight() {\n    return 100 * this.state.myVolume;\n  }\n\n  render() {\n    const { myVolume } = this.state;\n\n    return (\n      <div className={\"volume-slider-wrapper\"}>\n        <div className=\"slider orientation-reversed\">\n          <div className=\"slider-group\">\n            <div className=\"slider-vertical\">\n              <Slider min={0} max={100} value={this.calculateVolumeHeight(myVolume)} orientation=\"vertical\" onChange={this.handleChange} tooltip={false} onChangeStart={(e) => this.props.startDrag(e)} onChangeComplete={(e) => this.props.endDrag(e)} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VolumeSlider;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faPause, faStepForward, faVolume, faVolumeUp, faVolumeMute } from \"@fortawesome/pro-solid-svg-icons\";\nimport { faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError } from \"../../actions\";\nimport { get, isEqual } from \"lodash\";\nimport VolumeSlider from \"./volume-slider\";\nimport { categories, actions, labels } from \"../../constants\";\nimport { logEvent } from \"../../configs/google-analytics\";\nimport { getTime } from \"../../util\";\nimport \"./index.scss\";\n\nclass MusicBar extends Component {\n  constructor(props) {\n    super(props);\n\n    let localVolume = parseFloat(localStorage.getItem(\"volume\"));\n    this.state = {\n      currentTime: \"0:00\",\n      duration: \"0:00\",\n      volume: localVolume ? localVolume : localVolume.toString() === \"0\" ? 0 : 0.3,\n      previousVolume: localVolume || 0.3,\n      showVolumeControl: false,\n      dragging: false,\n      url: null,\n      isrc: null,\n    };\n  }\n\n  // Checks if hovered elem belongs to volume slider\n  checkIfVolumeSlider(e) {\n    if (!e) return false;\n    let path = get(e, \"path\", []);\n    for (let i = 0; i < path.length; i++) if (path[i].id === \"volume-wrapper\") return true;\n    return false;\n  }\n\n  componentDidMount() {\n    this.rap.audioEl.addEventListener(\"timeupdate\", (e) => {\n      this.setState({ currentTime: e.target.currentTime, duration: e.target.duration });\n    });\n\n    window.addEventListener(\"mouseover\", (e) => {\n      if (this.checkIfVolumeSlider(e) || this.state.dragging) {\n        if (!this.state.showVolumeControl) this.setState({ showVolumeControl: true });\n      } else if (this.state.showVolumeControl) this.setState({ showVolumeControl: false });\n    });\n\n    let currentTrack = get(this.props, \"currentTrack\", \"\");\n    this.updateTrackState();\n    this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n\n    // Get duration from initial track\n    this.setState({ duration: get(currentTrack, \"duration\", null) });\n  }\n\n  componentWillUnmount() {\n    try {\n      this.player.removeEventListener(\"timeupdate\");\n      window.removeEventListener(\"mouseover\");\n    } catch (err) {\n      console.log(\"caught error on music-bar unmount\", err);\n    }\n  }\n\n  // Updates the local current track's url & isrc\n  updateTrackState() {\n    this.setState({ url: get(this.props, \"player.trackMap[\" + get(this.props, \"currentTrack.isrc\", \"\") + \"].url\", \"\"), isrc: get(this.props, \"currentTrack.isrc\", null) });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"myLocation.currentTrack.isrc\", null), get(prevProps, \"myLocation.currentTrack.isrc\", null))) {\n      console.log(\"nowPlaying: \", { currentTrack: get(this.props, \"currentTrack.title\", \"\"), duration: getTime(get(this.props, \"currentTrack.duration\", \"\")), station: get(this.props, \"myLocation.station.name\", \"\") });\n      this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\n      this.updateTrackState();\n    }\n\n    // If the station was changed automatically\n    if (!isEqual(get(this.props, \"myLocation.station._id\", null), get(prevProps, \"myLocation.station._id\", null))) {\n      console.log(\"<================ CHANGED STATION B ================>\", this.props);\n      this.props.actions.setTrackNumber(0);\n      this.updateTrackState();\n\n      // Mainly for Safari, as it won't auto-play new stations\n      if (get(this.props, \"player.isPlaying\")) {\n        this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n        this.rap.audioEl.play();\n      }\n    }\n\n    // Play / Pause change\n    if (!isEqual(get(this.props, \"player.isPlaying\", false), get(prevProps, \"player.isPlaying\", false))) {\n      let isPlaying = get(this.props, \"player.isPlaying\", false);\n      if (isPlaying) this.rap.audioEl.play();\n      else this.rap.audioEl.pause();\n    }\n  }\n\n  getCurrentTrack() {\n    const { url, isrc } = this.state;\n    let currentTrackISRC = get(this.props, \"currentTrack.isrc\", \"\");\n    let currentTrackUrl = get(this.props, \"player.trackMap[\" + currentTrackISRC + \"].url\", get(this.props, \"currentTrack.url\", \"\"));\n\n    // Catch for same song, but different link\n    if (isrc && url && isrc === currentTrackISRC && url !== currentTrackUrl) return url; // Stops track from restarting when toggling explicit\n    return currentTrackUrl; // Return currentTrackUrl normally\n  }\n\n  playTrack() {\n    this.setState({ isPlaying: true }, () => {\n      let promise = this.rap.audioEl.play();\n\n      // Needed due to https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\n      if (promise !== undefined) {\n        promise\n          .then(() => {\n            // Player started autoplaying\n            this.props.actions.setIsPlaying(true);\n          })\n          .catch(() => {\n            // Player blocked from autoplaying\n            this.props.actions.setIsPlaying(false);\n          });\n      }\n    });\n  }\n\n  togglePlay() {\n    this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n  }\n\n  // Toggles player mute\n  toggleMute() {\n    const { previousVolume } = this.state;\n    this.setState({ volume: this.state.volume > 0 ? 0 : previousVolume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets the volume of the player\n  setVolume(volume) {\n    this.setState({ volume, previousVolume: volume }, () => {\n      localStorage.setItem(\"volume\", this.state.volume);\n    });\n  }\n\n  // Sets boolean on if user is dragging volume slider\n  toggleVolumeDrag(dragging) {\n    this.setState({ dragging });\n  }\n\n  async closePlayer() {\n    this.props.actions.setIsPlaying(false);\n    logEvent({ category: categories.dashboard, action: actions.closePlayer, label: labels.button });\n    await this.props.actions.disconnectPlayer();\n  }\n\n  songError(e) {\n    console.log(\"Song error: \", { e, props: this.props });\n    this.skipSong(0);\n  }\n\n  skipSong(songCompletion) {\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\n        this.props.actions.playerError({\n          error: true,\n          title: \"Another Device Has Connected!\",\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\n        });\n      }\n\n      // Mainly for Safari, as it won't auto-play the next track\n      this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\n      this.rap.audioEl.play();\n    });\n  }\n\n  render() {\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\n    const { volume, showVolumeControl, currentTime, duration } = this.state;\n\n    let currentTrack = get(this.props, \"currentTrack\", {});\n    const songCompletion = ((currentTime / duration) * 100).toFixed(2);\n\n    let hasArtistOverflow = false;\n    let hasTrackOverflow = false;\n\n    let playerInfoWrapper = document.getElementById(\"player-info-wrapper\") || null;\n    let artistOverflow = document.getElementById(\"player-artist-info\") || null;\n    let trackOverflow = document.getElementById(\"player-track-info\") || null;\n\n    if (playerInfoWrapper && artistOverflow && trackOverflow) {\n      playerInfoWrapper = playerInfoWrapper.getBoundingClientRect().width - 60;\n      artistOverflow = artistOverflow.getBoundingClientRect().width;\n      trackOverflow = trackOverflow.getBoundingClientRect().width;\n\n      if (playerInfoWrapper < artistOverflow) hasArtistOverflow = true;\n      if (playerInfoWrapper < trackOverflow) hasTrackOverflow = true;\n    }\n\n    return (\n      <div className=\"music-bar-wrapper noselect\" id={\"music-player-controller\"}>\n        <div className=\"react-music-player\">\n          <ReactAudioPlayer\n            ref={(element) => {\n              this.rap = element;\n            }}\n            src={this.getCurrentTrack()}\n            autoPlay={false}\n            controls={false}\n            muted={volume === 0 ? true : false}\n            volume={volume}\n            onCanPlay={() => this.playTrack()}\n            onEnded={() => this.skipSong(songCompletion)}\n            onError={(e) => this.songError(e)}\n          />\n        </div>\n        <div className=\"music-bar-scrub-wrapper\">\n          <div className=\"music-bar-scrubber\" style={{ width: songCompletion + \"%\" }} />\n        </div>\n        <div className=\"music-bar-content-wrapper\">\n          <div className=\"music-bar-item flexRow left-controls\" id={\"player-info-wrapper\"}>\n            <img className=\"preview-image\" src={get(currentTrack, \"picture\", null)} alt={\"\"} />\n            <div className=\"preview-text\">\n              <div className=\"song-artist\">\n                <span id={\"player-artist-info\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"artist[0]\", \"NA\")}\n                </span>\n              </div>\n              <div className=\"song-title\">\n                <span id={\"player-track-info\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\n                  {get(currentTrack, \"title\", \"NA\")}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"music-bar-item flexRow center-controls\">\n            {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} /> : <FontAwesomeIcon icon={faPlay} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} />}\n            {<FontAwesomeIcon icon={faStepForward} className={\"music-bar-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\n          </div>\n\n          <div className=\"music-bar-item right-controls\">\n            <div className=\"time-display\">\n              <span id={\"current-song-time\"}>{getTime(currentTime)}</span> &nbsp;/&nbsp; <span id={\"current-song-duration\"}>{getTime(duration)}</span> <span id={\"invis-current-song-time\"}>{songCompletion}</span>\n            </div>\n\n            {/* Volume controls */}\n            <div className=\"volume-icon\" id={\"volume-wrapper\"}>\n              {showVolumeControl && <VolumeSlider volume={volume} changeVolume={(newVolume) => this.setVolume(newVolume)} startDrag={() => this.toggleVolumeDrag(true)} endDrag={() => this.toggleVolumeDrag(false)} />}\n              {volume === 0 ? <FontAwesomeIcon icon={faVolumeMute} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : volume < 0.7 ? <FontAwesomeIcon icon={faVolume} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : <FontAwesomeIcon icon={faVolumeUp} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} />}\n            </div>\n\n            <FontAwesomeIcon icon={faTimes} className={\"music-bar-icon close-icon\"} onClick={() => this.closePlayer()} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return { actions: bindActionCreators({ checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError }, dispatch) };\n}\n\nfunction mapStateToProps(state) {\n  return { player: state.player, myLocation: state.auth.location, currentTrack: state.auth.location.currentTrack };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicBar);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { auth0setLogin, setSnackbarNotification, setSnackbarMessage, startSockets } from \"./actions\";\nimport Routes from \"./routes/index\";\nimport AppHeader from \"./components/header\";\nimport { Modal, Spin, Layout, notification, message } from \"antd\";\nimport { startGoogleAnalytics } from \"./configs/google-analytics\";\nimport { isEqual, get } from \"lodash\";\nimport MusicBar from \"./components/music-bar\";\nimport AntSpinner from \"./components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport Auth0Helper from \"./helpers/Auth0Helper\";\nimport SignUp from \"./containers/welcome/signUp\";\nimport \"./App.scss\";\n\nAuth0Helper.initialize();\n\nclass AmbiiRouter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n    };\n  }\n\n  initiateLogin(token) {\n    localStorage.setItem(\"access-token\", token);\n    this.props.actions.auth0setLogin();\n  }\n\n  componentWillMount() {\n    Auth0Helper.getLock().on(\"authenticated\", (data) => {\n      this.initiateLogin(data.idToken);\n    });\n    Auth0Helper.getLock().checkSession({}, (err, data) => {\n      this.setState({ isLoading: false }, () => {\n        if (!err && data?.idToken) this.initiateLogin(data.idToken);\n        else this.setState({ isLoading: false });\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    if (Auth0Helper.isLoggedIn() && this.state.isLoading) {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  render() {\n    const { player, auth } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return (\n      <Router>\n        <div>\n          {Routes.map((route, index) => (\n            <Route\n              key={index}\n              path={route.path}\n              exact={route.exact}\n              render={() => {\n                if (!this.state.isLoading && !Auth0Helper.isLoggedIn() && route.private) {\n                  Auth0Helper.login();\n                }\n                if (Auth0Helper.isLoggedIn() || !route.private) {\n                  return (\n                    <>\n                      {auth?.user?.company && !auth?.user?.company?.name ? (\n                        <Modal visible={true} onCancel={this.onCancel} width={900} className=\"modal-container\" closable={false} footer={false}>\n                          <div className={\"signup-modal-title\"}>\n                            {\"Welcome to \"}\n                            <span style={{ color: \"#d04283\" }}>{\"ambii\"}</span>\n                          </div>\n                          <SignUp />\n                        </Modal>\n                      ) : null}\n                      <div className=\"explore_container\">\n                        <AppHeader showMenu=\"userlogin\" route={route.path} />\n                        <div className={\"contentWrapper\".concat(showMusicPlayer ? \" player-visible\" : \"\")}>{route.component()}</div>\n                      </div>\n                    </>\n                  );\n                } else {\n                  return (\n                    <Layout className=\"explore_container\">\n                      <AppHeader id=\"myHeader\" showMenu=\"landing\" />\n                      <div className=\"loading-app\">\n                        <div className=\"loading-app-text\">\n                          Logging Into <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n                        </div>\n                        <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n                      </div>\n                    </Layout>\n                  );\n                }\n              }}\n            />\n          ))}\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction mapDispatchToPropsRouter(dispatch) {\n  return {\n    actions: bindActionCreators({ auth0setLogin }, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n  };\n}\n\nvar RouterWithAuth = connect(mapStateToPropsRouter, mapDispatchToPropsRouter)(withAuth0(AmbiiRouter));\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      initAnalytics: false,\n      snackbarMessageDuration: 3,\n    };\n\n    startGoogleAnalytics();\n  }\n\n  async componentDidMount() {\n    this.props.actions.startSockets();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(get(this.props, \"snackbar.notification\", null), get(prevProps, \"snackbar.notification\", null))) {\n      this.openNotification(get(this.props, \"snackbar.notification\", null));\n    }\n\n    if (!isEqual(get(this.props, \"snackbar.message\", null), get(prevProps, \"snackbar.message\", null))) {\n      this.openMessage(get(this.props, \"snackbar.message\", null));\n    }\n  }\n\n  openNotification(hasNotification) {\n    const { snackbarMessageDuration } = this.state;\n    console.log(\"hasNotification: \", hasNotification);\n\n    if (hasNotification) {\n      notification.open({\n        message: get(hasNotification, \"message\", \"\"),\n        description: get(hasNotification, \"description\", \"\"),\n        duration: snackbarMessageDuration,\n        onClick: () => {\n          console.log(\"Notification Clicked!\");\n        },\n        className: \"snackbar-notification snackbar-type-\".concat(get(hasNotification, \"type\", \"\")),\n      });\n    }\n\n    this.props.actions.setSnackbarNotification(null);\n  }\n\n  openMessage(hasMessage) {\n    const { snackbarMessageDuration } = this.state;\n    console.log(\"hasMessage: \", { hasMessage, snackbarMessageDuration });\n    let text = get(hasMessage, \"message\", \"\");\n    let type = get(hasMessage, \"type\", \"\");\n\n    switch (type) {\n      case \"success\":\n        message.success(text, snackbarMessageDuration);\n        break;\n      case \"info\":\n        message.info(text, snackbarMessageDuration);\n        break;\n      case \"warn\":\n        message.warn(text, snackbarMessageDuration);\n        break;\n      case \"error\":\n        message.error(text, snackbarMessageDuration);\n        break;\n      default:\n        console.log(\"error in openMessage\");\n    }\n\n    this.props.actions.setSnackbarMessage(null);\n  }\n\n  render() {\n    const { player } = this.props;\n    let showMusicPlayer = get(player, \"showPlayer\", false);\n\n    return !this.state.isLoading ? (\n      <>\n        <RouterWithAuth props={{ showMusicPlayer }} />\n        {showMusicPlayer && <MusicBar />}\n      </>\n    ) : (\n      <div className=\"loading-app\">\n        <div className=\"loading-app-text\">\n          Loading <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\n        </div>\n        <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\n      </div>\n    );\n  }\n}\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ startSockets, setSnackbarNotification, setSnackbarMessage }, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    snackbar: state.snackbar,\n    auth: state.auth,\n    player: state.player,\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuth0(App));\n","import React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { connect } from \"react-redux\"; //to pass functions\nimport { bindActionCreators } from \"redux\";\nimport App from \"../App\";\nimport \"antd/dist/antd.css\";\n\nclass RootContainer extends Component {\n  componentDidCatch(error) {\n    this.setState({ error });\n  }\n\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <div>\n          <App />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    snackbar: state.snackbar,\n    loader: state.loader,\n  };\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RootContainer);\n","/* eslint-disable no-undef */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\"This web app is being served cache-first by a service \" + \"worker. To learn more, visit https://bit.ly/CRA-PWA\");\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\"New content is available and will be used when all \" + \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { AppContainer } from \"react-hot-loader\";\nimport \"rc-slider/assets/index.css\";\nimport \"react-slidedown/lib/slidedown.css\";\nimport configureStore from \"./redux-store/storeConfiguration\";\nimport RootContainer from \"./containers/rootContainer\";\nimport \"./common/styles/styles.scss\";\n\nimport * as serviceWorker from \"./serviceWorker\";\nconst store = configureStore();\n\nif (document.location.hostname !== \"localhost\" && document.location.hostname !== \"business-dev.ambii.io\") console.log = () => {};\n\nrender(\n  <AppContainer>\n    <RootContainer store={store} />\n  </AppContainer>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}