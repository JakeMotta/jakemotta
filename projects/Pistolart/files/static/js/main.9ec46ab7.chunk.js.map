{"version":3,"sources":["constants/analytics.js","constants/genreColors.js","constants/images.js","constants/inStoreMessaging.js","constants/supersetDescriptions.js","constants/supersets.js","constants/tempos.js","constants/timezones.js","constants/states.js","constants/voices.js","constants/index.js","redux-store/initialState.js","util/index.js","reducers/auth.js","constants/actionTypes.js","reducers/inStoreMessaging.js","reducers/player.js","reducers/playlists.js","reducers/schedules.js","reducers/stations.js","reducers/index.js","redux-store/storeConfiguration.js","configs/api.js","configs/google-analytics.js","configs/socket.js","configs/index.js","actions/dispatch.js","actions/player.js","actions/auth.js","actions/locations.js","actions/stations.js","actions/schedule.js","actions/inStoreMessaging.js","actions/socket.js","components/antSpinner/index.js","containers/landing/index.js","containers/welcome/autoComplete/index.js","containers/welcome/addressForm/index.js","containers/welcome/companyInfo/index.js","containers/welcome/signUp/index.js","containers/login/index.js","images/google-play-store.svg","components/pairCode/index.js","helpers/Auth0Helper.js","helpers/MobileAppCommunicator.js","components/stationDetails/index.js","components/bpm/index.js","components/page-title/index.js","components/dashboardModule/index.js","components/instruction-modal/index.js","containers/create/index.js","containers/mood_tag_search_bar/mood_tag/index.js","containers/mood_tag_search_bar/index.js","containers/tempo_selection/index.js","containers/era_selection/index.js","containers/create/advance_filter/index.js","components/public_stations/tracksModal/index.js","components/genre-color-bar/index.js","components/public_stations/publicStation/index.js","components/stationSection/index.js","containers/genre_section/index.js","components/ControlledLottie.js","containers/create/discover/index.js","components/station-tile/index.js","components/stationVerticalList/index.js","components/toggleInput/index.js","containers/createSchedule/index.js","components/scheduleBlock/index.js","containers/schedules/index.js","components/messageCard/index.js","containers/inStoreMessaging/index.js","components/setting_panel/index.js","components/custom-input/index.js","actions/payments.js","components/payment-form/index.js","components/activatedSubscription/index.js","components/user-settings/index.js","actions/settings.js","components/business-settings/index.js","containers/settings/index.js","containers/createInStoreMessaging/index.js","containers/sandbox/index.js","routes/index.js","components/header/index.js","components/music-bar/volume-slider/index.js","components/music-bar/index.js","App.js","containers/rootContainer.js","serviceWorker.js","index.js","common/assets/images/ios.png","common/assets/images/playstore.png","common/assets/images/credit-card.svg","common/assets/images/visa.svg","common/assets/images/amex.svg","common/assets/images/mastercard.svg","common/assets/images/androidBtn.png","common/assets/images/appleBtn.png","common/assets/images/appLogo.png","common/assets/images/bg1.png","common/assets/images/bg2.png","common/assets/images/bg3.png","common/assets/images/bg4.jpg","common/assets/images/bg5.jpg","common/assets/images/bg6.jpg","images/ambii_logo_inverse.png"],"names":["categories","actions","labels","genreColors","images","googleBtn","require","iosBtn","appLogo","bg1","bg2","bg3","bg4","bg5","bg6","frequencies","title","time","supersetDescriptions","supersets","global","defaultIndividual","bar","cafe","gym","hotel","other","restaurant","salon","school","spa","shop","tempos","Slower","min","max","icon","faSnooze","Slow","faTurtle","Moderate","faSquirrel","Fast","faRabbitFast","Faster","faRocket","timezones","states","full_language_names","proper_voice_name","envTypes","userTypes","initialState","auth","user","location","isApple","inApp","loader","requestInProgress","locations","data","count","limit","skip","playlists","schedules","stations","topTrack","artists","tracks","playlistList","genreList","eraList","moodList","stationPreviews","genre","era","mood","activeStationPreview","selectedPreviews","ID","track","zones","activeSchedule","player","showPlayer","isPlaying","skipDisabled","trackNumber","trackMap","playerError","inStoreMessaging","messages","objArrayToMap","arr","key","map","item","get","hashCode","s","Math","abs","split","reduce","a","b","charCodeAt","checkForMobile","window","outerWidth","getTime","isNaN","floor","slice","getBPMInfo","bpm","getDeviceId","deviceId","localStorage","getItem","length","result","characters","charactersLength","i","charAt","random","toUpperCase","generateRandomString","setItem","getTrackNumberByTrack","advertisement","substring","ism","err","console","log","auth_reducer","state","action","type","Object","assign","favoritesMap","station","currentTrack","favorites","explicitAllowed","pairedDevice","lastTrack","currentTrackNumber","trackSchedule","schedule","subscription","inStoreMessaging_reducer","player_reducer","playlists_reducer","selected_stations_preview_reducer","stations_reducer","combineReducers","createBrowserHistory","configureStore","middlewares","thunk","createStore","rootReducer","compose","applyMiddleware","HTTP","method","uri","headers","params","url","API_URL","trim","query","ambii_auth_jwt","ambii_player_jwt","AMBII_API_KEY","Promise","resolve","reject","axios","then","response","catch","message","alert","status","removeItem","logEvent","category","value","label","ReactGA","event","parseInt","trackScreen","pageview","pathname","search","trackModal","modal","modalview","socket","io","process","socketChannels","env","STRIPE_KEY","AUTH0_KEY","setInApp","dispatch","setIsApple","setTrackSchedule","setPairedDevice","setLastTrack","setTrackMap","setLocation","setStation","setCurrentTrack","setIsPlaying","setDisableSkip","setTrackNumber","loginSuccess","setUser","setSchedule","setLocationSchedules","setInStoreMessages","setSubscription","addPlayerListeners","playerPaired","playerUnPaired","playerDisconnected","playerPlayed","playerPaused","disconnectPlayer","error","connectPlayer","res","currentTrackByNumber","finishedTrack","getState","newStation","newTrackSchedule","newUrls","newTrackNumber","skipSong","songCompletion","trackScheduleLength","queue","queueHash","nextTrack","locationId","stationId","toString","playNextRes","checkIfAdvertisement","isAdvertisement","isInStoreMessage","skipTimer","setTimeout","clearTimeout","removePlayerListeners","removeEventListener","updateStationListener","on","updateCurrentTrackListener","removeStationListener","auth0setLogin","getUser","getLocation","all","toLowerCase","obj","storeCode","deviceName","uniqueId","deviceBrand","override","signUp","signUpSuccess","signUpFailed","finally","mixMaxRegister","id","email","name","groupName","toggleFavorite","newFavorites","_id","splice","notification","success","placement","push","toggleExplicit","previousExplicitState","description","setExplicit","getStations","filteredData","tempoList","forEach","setPublicStationList","getStationDetails","assignStation","createSchedule","getSchedule","scheduleId","editSchedule","saveSchedule","getSchedules","assignSchedule","info","deleteSchedule","deletedSchedule","getMessages","createPreviewMessage","voice","language","speed","hash","messageId","createMessage","frequency","savedPreviews","editMessage","deleteMessage","updateFrequency","getVoiceOptions","updateTheUploadedISM","startSockets","warn","AntSpinner","style","fontSize","color","spin","Main","props","this","auth0","isAuthenticated","history","width","height","position","display","alignItems","justifyContent","indicator","spinning","Component","connect","bindActionCreators","withRouter","withAuth0","FormItem","Form","Item","google","AutoSearchForm","navigator","geolocation","getCurrentPosition","coords","setState","myLocation","lng","longitude","lat","latitude","onSuggestSelect","suggest","gmaps","address_components","component","types","indexOf","city","long_name","addressLineOne","addressLineTwo","postalCode","country","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","userData","businessName","cords","companySearch","onSumbit","missingData","duration","address","getFieldDecorator","form","className","rules","required","ref","el","_geoSuggest","onChange","e","placeholder","maps","LatLng","radius","WrappedApp","create","AddressForm","onSubmit","validateFieldsAndScroll","values","validTimezone","checkIfValidTimezone","validState","checkIfValidState","isLoading","onSearch","searchText","keys","timezoneRes","filter","includes","selectedTimezone","onSearchState","searchStateText","statesRes","selectedState","onSelect","onSelectState","dropdownError","timezoneData","stateData","hideRequiredMark","float","initialValue","onPressEnter","dataSource","onClick","Option","Select","CompanyInfo","countryCode","businessType","preventDefault","businessSelected","userType","firstName","lastName","phoneNumber","concat","parsePhoneNumber","handleMenuClick","replace","prefixSelector","borderRight","pattern","addonBefore","overlay","menu","trigger","textTransform","faChevronDown","marginLeft","Step","Steps","companySteps","Login","next","current","steps","signUpSubmit","prev","devMode","progressDot","textAlign","0","1","marginRight","quickDevSignup","_onLogin","password","isLogin","Password","block","loginWithRedirect","_style","_linearGradient","_path","_linearGradient2","_path2","_linearGradient3","_path3","_linearGradient4","_path4","PairCode","char","index","fontWeight","margin","_extends","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","createElement","viewBox","gradientUnits","y1","x2","y2","offset","stopColor","d","x1","ForwardRef","forwardRef","Auth0Helper","lock","Auth0Lock","configurationBaseUrl","autoclose","autofocus","closable","allowShowPassword","redirectUrl","origin","responseType","sso","theme","logo","primaryColor","languageDictionary","signUpTitle","forgotPasswordTitle","additionalSignUpFields","show","initialScreen","logout","MobileAppCommunicator","endpoint","ReactNativeWebView","postMessage","JSON","stringify","Content","Layout","resizeListener","StationDetails","close","isLoggedIn","startStationDisabled","startStation","send","isBack","favoriteStation","favoriteDisabled","isBackgroundImage","explicit","isMobile","document","body","scrollTop","documentElement","addEventListener","setStationDetails","prevProps","isEqual","setStationBackgroundImage","removeStationBackgroundImage","waitHeader","setInterval","stationHeader","getElementById","backgroundImage","cover","clearInterval","thisStationId","stationQueue","stationFavorited","checkIfFavorited","isActiveStation","backgroundColor","undefined","hex","size","loading","disabled","faPlayCircle","faHeart","src","alt","opacity","artist","album","BPM","animate","hideText","animation","toFixed","PageTitle","subtitle","backArrow","backArrowPress","faArrowLeft","DashboardModule","content","contentArray","Array","isArray","React","Children","child","cloneElement","visible","onOk","onCancel","playStation","arrayOfCode","openLink","link","open","centered","footer","code","ambiiLogo","faApple","phoneImage","errorTimer","testInterval","CreateSoundTrack","checkPlayerState","isThisDevicePlaying","playerInfo","controllerStyle","getSongTime","scrollIntoView","behavior","showPlaylistModal","playlistId","playlistModalId","afterCreateStaion","showStationSearch","toggleStationSearch","collapse","getElementsByClassName","parseLocationName","connectPress","showAppModal","loadPlayer","loadingPlayer","showConnectModal","playButtonDisabled","loadingExplicit","artistName","isFixHeader","pageHeight","showErrorModal","userName","errorTitle","errorMessage","errorIcon","errorButton","currentSongTime","currentSongDuration","showInstructions","isDevicePaired","stationHistory","createUserName","viewedMobile","emit","userId","closeErrorMessage","innerHTML","useTrack","songImage","locationName","songTrack","songArtist","stationName","faHeartbeat","faGrinBeamSweat","songData","getTrackData","isIndividual","locationInUse","activeStation","scheduleName","modalWidth","hasTrackOverflow","hasArtistOverflow","nowPlayingInfoWrapper","nowPlayingTrack","nowPlayingArtist","getBoundingClientRect","Boolean","bodyStyle","minHeight","padding","borderRadius","overflow","maxHeight","openAdBlockMessage","faMobile","borderColor","marginTop","faTv","faPause","faPlay","stubTrue","faStepForward","faTimes","sendToMobileDevice","faMusic","marginBottom","faKey","faCog","checked","faTvMusic","MoodTag","isHovered","onMouseOver","onMouseOut","performSelect","text","onMouseEnter","onMouseLeave","MoodTagSearchBar","removeTag","onChangeText","searchTags","items","tag","tags","filterTagArray","second","Set","selectedTags","x","has","handleClick","node","contains","isSearchFocused","handleHeight","tagListRef","onFocus","c","tagInput","faSearch","top","TempoSelection","performSelectTempo","tempo","currentSelectedTempo","selectTempo","deSelectTempo","reverse","AdvanceFilter","browseMoods","onSelectTempo","onDeselectTempo","onSelectMood","browseEraRange","onSelectEra","TracksModal","albumCover","shape","GenreColorBar","dataA","dataB","genres","roundBottom","simple","entries","sort","dataC","totalPercentage","calculateEachPercentage","percent","bpmInfo","music","borderBottomLeftRadius","borderBottomRightRadius","bottom","left","PublicStation","modalVisible","hovered","showModal","hideModal","stationPress","rowIndex","browse","tileStyle","previewCardStyle","bpmMean","border","showStats","PureComponent","StationSection","showArrows","showLeftArrow","showRightArrow","diff","outer","scrollView","getElement","clientWidth","inner","scrollWrapper","preMargin","round","showViewAll","buttonPress","faChevronLeft","rightMoveSpeed","scrollRight","scrollBy","forceUpdate","faCaretLeft","me","onScroll","company","leftMoveSpeed","scrollLeft","faCaretRight","clicked","GenresSection","ControlledLottie","isStopped","isPaused","animationData","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","options","calculateBrowse","loadNumber","buildPercentages","returnedObj","toVector","vector","cosSim","A","B","dotproduct","mA","mB","sqrt","scoreString","searchString","targetString","score","j","ngram","pow","playlist","mean","browseTempoRange","searchScore","targetGenres","browseGenres","targetMoods","genresSelected","moodsSelected","genreSimilarities","moodSimilarities","moods","total","calculatedPlaylists","_checkIfAllFalse","_checkIsFiltering","isSearching","isSelectingGenre","isSelectingMood","onSetFiltering","isFiltering","onSelectGenre","selectedGenres","showAdvancedSearch","showClearFilters","selectedMoods","from","to","onSetSearchText","searchTimeout","isStation","defaultGenres","defaultMoods","getBusinessType","stationsAlreadyLoaded","getPlaylists","showAdFreeModal","globalStations","businessTypeStations","hasFavorites","favoritesQueue","superset","businessTypeSuperset","playlistSuperset","str","businessTypeMenu","updatePreference","selectedKeys","login","flex","animationIn","isVisible","Search","prevState","faFilter","paddingRight","clearAdvancedFilters","loadMoreStations","favorite","StationTile","StationVerticalList","expanded","displayData","elem","toggleExpand","ToggleInput","handleUpdate","copy","val","toggleInput","activeInput","inputRef","focus","createRef","handleClickOutside","handleKeyDown","onUpdate","flexDirection","faPenSquare","confirm","Modal","CreateSchedule","setUpFunction","match","mySchedule","showMusicPlayer","accessFullCalendarAPI","bind","draggableEl","Draggable","itemSelector","eventData","eventEl","getAttribute","renderHeader","date","getDay","validateEvent","start","getDate","end","getHours","getMinutes","revert","saveScheduleChanges","isSaving","calendarEvents","calendarComponentRef","getApi","getEvents","tempStations","moment","format","day","extendedProps","closeSchedule","backToDashboard","sideSection","calendar","setOption","faDesktop","faSmile","remove","categorizedKeys","globalStationKeys","showErrorMessage","stationNameUpdate","faExternalLinkAlt","defaultView","header","defaultDate","allDayDefault","eventDurationEditable","editable","events","droppable","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","eventDrop","eventReceive","slotDuration","eventClick","startRecur","Date","now","allDaySlot","eventOverlap","columnHeaderText","eventResize","forceEventDuration","ScheduleBlock","stopPropagation","callback","companyId","hidden","wait","timeout","hasData","stopLoading","faTrash","Schedules","getUserSchedules","creatingSchedule","createNewSchedule","faPlus","MessageCard","setIsSavingFalse","messageData","messageTitle","messageDescription","setPreviewUrl","stopTrack","faVolume","faStopCircle","faEdit","delete","defaultValue","updateMessageFrequency","InStoreMessaging","onChangeHandler","selectedFile","files","previewTrackUrl","rap","audioEl","pause","activeMessages","inactiveMessages","unfinishedMp3","play","file","isMP3","isProperSize","element","autoPlay","controls","muted","volume","onCanPlay","playTrack","onEnded","onError","accept","beforeUpload","Authorization","ambii_api_key","uploaded","showUploadList","showRemoveIcon","m","useState","business","payment","security","setting","faUser","faAngleRight","faStoreAlt","faCreditCard","CustomInput","otherInputProps","addSubscription","PaymentForm","toggle","useSelector","useDispatch","stripe","useStripe","elements","useElements","enterLoading","setEnterLoading","nameOnCard","postal_code","line1","cardBillingDetails","setCardBillingDetails","handleChange","handleSubmit","createPaymentMethod","card","CardNumberElement","CardExpiryElement","CardCvcElement","billing_details","phone","paymentMethod","payment_method","cardCvcAndExpElementOptions","base","showIcon","iconStyle","htmlType","ActivatedSubscription","fetchCardDetails","stripeCustomer","myDate","customer","subscriptions","current_period_end","expDate","toDateString","cardDetails","otherResposeDetails","subscriptionData","formButton","reason","param","visa","amex","mastercard","creditcard","renderSwitch","brand","last4","exp_month","exp_year","active","cancelSubscription","subId","stripeSubscription","okButtonProps","okText","Group","UserSettings","updateUser","phoneNo","BusinessSettings","updateLocation","Settings","formToggle","subscribed","faChevronUp","TextArea","Input","ButtonGroup","Button","CreateInStoreMessaging","previewMessageUrl","languageCode","voiceOptions","sortedLanguageArray","editingExistingMessage","isPreviewing","postPreviewChanges","isModalVisible","locallySavedPreviews","parse","fileName","voiceOptionList","parent","getMessageHash","md5","checkIfValidISM","checkIfHashExists","onFailure","onSuccess","msg","maxLength","rows","v","renderLanguageOptions","renderVoiceOptions","freq","previewMessage","saveMessage","faPlusCircle","Sandbox","routes","path","exact","isChild","private","config","AppHeader","route","logInOut","hasStation","destroy","windowSize","innerWidth","activePath","tab","entireReduxStore","pos","mobileHeaderMenu","mode","faSignalStream","faClock","faMicrophone","faSignOut","rotation","isCreateSchedulePage","headStyle","faBars","checkIfActiveTab","paddingLeft","faAcorn","printStuff","VolumeSlider","myVolume","changeVolume","calculateVolumeHeight","orientation","tooltip","onChangeStart","startDrag","onChangeComplete","endDrag","MusicBar","localVolume","parseFloat","currentTime","previousVolume","showVolumeControl","dragging","isrc","checkIfVolumeSlider","updateTrackState","isSafari","currentTrackISRC","currentTrackUrl","promise","playerInfoWrapper","artistOverflow","trackOverflow","getCurrentTrack","songError","preload","togglePlay","newVolume","setVolume","toggleVolumeDrag","faVolumeMute","toggleMute","faVolumeUp","closePlayer","initialize","AmbiiRouter","getLock","initiateLogin","idToken","checkSession","mobileAuth","jwt","Routes","render","showMenu","RouterWithAuth","App","initAnalytics","siteSpeedSampleRate","testMode","hostname","RootContainer","store","stripePromise","loadStripe","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.9ec46ab7.chunk.js","sourcesContent":["export const categories = {\n  welcome: \"Welcome\",\n  discover: \"Discover\",\n  dashboard: \"Dashboard\",\n  schedule: \"Schedule\",\n  player: \"Player\",\n  general: \"General\",\n};\n\nexport const actions = {\n  // Welcome\n  login: \"Logged into web application\",\n  signup: \"Signed up for web application\",\n  failedLogin: \"Failed to login\",\n  timezone: \"Selected a new timezone\",\n\n  // Discover\n  stationPreview: \"Previewed a station\",\n  startStation: \"Started station\",\n  updatePreference: \"Updated station preference\",\n  advancedBrowse: \"Swapped to advance station browse\",\n  stationBrowse: \"Swapped to station browse\",\n  search: \"Search station\",\n\n  // Dashboard\n  startPlayer: \"Started web player\",\n  closePlayer: \"Closed web player\",\n  connect: \"Pressed connect button\",\n\n  // Scheduling\n  createSchedule: \"Created Schedule\",\n  saveSchedule: \"Saved Schedule\",\n  closeSchedule: \"Closed Schedule\",\n  backToDashboard: \"Back To Dashboard\",\n  changeScheduleName: \"Changed Schedule Name\",\n  viewedMobile: \"Viewed on Mobile Device\",\n\n  // General\n  button: \"Clicked a button\",\n  toggledFavorite: \"Toggled a station as favorite\",\n  signout: \"User signed out of web application\",\n\n  // Error\n};\n\nexport const labels = {\n  button: \"button\",\n  error: \"error\",\n};\n","export const genreColors = {\n  \"Electronica\": \"#44d474\",\n  \"Alternative & Punk\": \"#d9964a\",\n  \"Rock\": \"#d64b46\",\n  \"Pop\": \"#d04283\",\n  \"Classical\": \"#8046d6\",\n  \"Traditional\": \"#c178ff\",\n  \"Jazz\": \"#42c4d0\",\n  \"Soundtrack\": \"#E6DD5D\",\n  \"Urban\": \"#191919\",\n  \"Other\": \"#999999\",\n};\n","export const images = {\n  googleBtn: require(\"../common/assets/images/androidBtn.png\"),\n  iosBtn: require(\"../common/assets/images/appleBtn.png\"),\n  appLogo: require(\"../common/assets/images/appLogo.png\"),\n  bg1: require(\"../common/assets/images/bg1.png\"),\n  bg2: require(\"../common/assets/images/bg2.png\"),\n  bg3: require(\"../common/assets/images/bg3.png\"),\n  bg4: require(\"../common/assets/images/bg4.jpg\"),\n  bg5: require(\"../common/assets/images/bg5.jpg\"),\n  bg6: require(\"../common/assets/images/bg6.jpg\"),\n};\n","export const frequencies = [\r\n  { title: \"Inactive\", time: \"0\" },\r\n  { title: \"Every 15 Minutes\", time: \"15\" },\r\n  { title: \"Every 30 Minutes\", time: \"30\" },\r\n  { title: \"Every Hour\", time: \"60\" },\r\n  { title: \"Every Few Hours\", time: \"180\" },\r\n  // { title: \"Custom\", time: \"custom\" },\r\n];\r\n","export const supersetDescriptions = {\n  \"Popular Today\": \"The Top Hits of Today\",\n  \"Holiday Music\": \"Get into the spirit of the season!\",\n  \"Flattening the Curve\": \"Battling COVID-19, one song at a time.\",\n  \"Upbeat Energy\": \"Energetic songs to get the mood flowing.\",\n  \"Laid-back, Low-key.\": \"Songs for relaxation and chill-out times.\",\n  \"Learning to Grow\": \"A series for those looking to overcome rough times, through different genres of music.\",\n  \"Decades\": \"Your home for all decades of music.\",\n  \"Ahead of the Curve\": \"A series for those who are tomorrow's trendsetters.\",\n  \"Liquid Courage\": \"Beats for those that are bold and those that are beautiful.\",\n  \"Beats and Beers\": \"Cheer on your favorite team with these country hits!\",\n  \"Taproom Treasures\": \"Stripped-down music for the sophisticated drinker.\",\n  \"Flirtatious Friday Night\": \"She's sitting right there.\",\n  \"Settled-Down Speakeasy\": \"Jazzy tunes for a sparkilng night.\",\n  \"Dancin' Across the World\": \"Iresistable, international glimmers of firey fun.\",\n  \"Coffee Curiosity\": \"A perfect morning moodsetter.\",\n  \"Bookstore Barista\": \"Quiet jazz for newspapers and novelists.\",\n  \"Classical Cappuccino\": \"Upscale grandiose through caffine and classical.\",\n  \"Countryside Cafe\": \"For french toast, syrup, and kickin' up those boots in the morning.\",\n  \"Late Night Study \": \"Beats for the studious individual \",\n  \"Glitz At the Ritz\": \"Wonder and wow through jazzy band ballads.\",\n  \"Loungeside Lovers\": \"Ambiance for the low-key days and nights.\",\n  \"Hearthside Hip\": \"R&B treasures for the late-night bonfire vibes\",\n  \"Travelers Rest\": \"Soft stripped music to lay down to.\",\n  \"Elegant Entertainment\": \"Classical masterpieces for the sophisticated traveler.\",\n  \"Tropical Getaway\": \"A cabana soundtrack for pina coladas and the poolside.\",\n  \"Pep Rally Pop\": \"Let's get this bread.\",\n  \"Study Beats\": \"Lo-fi music for the late study nights.\",\n  \"Intelligence through Inspiration\": \"Ambiance for peaceful reflection and quiet times.\",\n  \"Classical Concentration\": \"Inspiration through piano, strings, and eras of talent\",\n  \"Developing Brains\": \"For the little ones.\",\n  \"Academy Alternative\": \"Alternative hits for those looking to get work done.\",\n  \"Boutique Beats\": \"Continuous flow and feel-good vibes.\",\n  \"Diamonds Are Forever\": \"Inspirational classical music for the sophisticated shopper.\",\n  \"Retail R&B\": \"R&B and pop hits for the casual customer.\",\n  \"Food Court Finds\": \"Grab a bite to eat with this easy-listening soundtrack!\",\n  \"Girls Night Out\": \"Empowering women through confident, feel-good beats.\",\n  \"Upscaled Grace\": \"Elegance through classical masterpieces.\",\n  \"Jukebox of the Ages\": \"Your home for all decades of music.\",\n  \"Wax and Relax\": \"Set the mood with the perfect ambiiance.\",\n  \"Hairdresser Hop\": \"R&B and hip hop hits for the trendsetter.\",\n  \"Nails, Hair, Hips, Heels\": \"Endless feel-good beats.\",\n  \"Pumpin Metal\": \"Rock and Metal soundtrack for the heavy lifter.\",\n  \"Persistence Pop\": \"Keep that grind up.\",\n  \"Pre-Game Pump Up\": \"Get in your head, get in the ring.\",\n  \"Fire Dancing Fiesta\": \"High-energy music for the dancers...and for that perfect body.\",\n  \"Heavy Lifting Hype\": \"Get turnt.\",\n  \"Hamburger Hits\": \"Quick beats for quick bites.\",\n  \"Barbecue Bash\": \"Perfect for the backyard and the beer.\",\n  \"Asian Eats\": \"You don't need a plane ticket.\",\n  \"Taco Truck Temposetter\": \"Are you going to finish all 10 of those tacos?\",\n  \"Boba Beats\": \"Passionfruit, peach stars, pearls, and perfection.\",\n  \"Royalty Dining\": \"Elegnat music for roses and candlelit dinners.\",\n  \"Ethereal Elegance\": \"Transcend within yourself.\",\n  \"Self-Care Classical\": \"Classical music to rejuvinate the brain.\",\n  \"Asian Getaway\": \"Sounds through Japaneese cherry blossoms and night-market eats.\",\n  \"Relaxin' R&B\": \"Good vibes only.\",\n  \"Hot Spring Hits\": \"Glimmering hits for feel-good moments.\",\n  \"Working From Home\": \"Chill beats for ultimate focus and productivity.\",\n  \"New Hobby, New Self\": \"Cooking, dancing, stretching, reading- with this time, anything is possible.\",\n  \"A Time For Reflection\": \"Rise above and let serenity flow in this time of unrest.\",\n  \"Go Hard or (Stay) Home\": \"Quarantine ain't stopping these muscle gains.\",\n  \"Treasured Throwbacks\": \"Remembering the days before this period of time.\",\n  \"Positive Vibes Only (Singing in the Shower)\": \"Sing your heart out to these songs of joy and jubilation!\",\n};\n","export const supersets = {\n  global: [\"Popular Today\"],\n  defaultIndividual: [\"Working From Home\", \"New Hobby, New Self\", \"A Time For Reflection\", \"Go Hard or (Stay) Home\", \"Treasured Throwbacks\", \"Positive Vibes Only (Singing in the Shower)\"],\n  bar: [\"Liquid Courage\", \"Beats and Beers\", \"Taproom Treasures\", \"Flirtatious Friday Night\", \"Settled-Down Speakeasy\", \"Dancin' Across the World\"],\n  cafe: [\"Coffee Curiosity\", \"Bookstore Barista\", \"Classical Cappuccino\", \"Boba Beats\", \"Countryside Cafe\", \"Late Night Study \"],\n  gym: [\"Pumpin Metal\", \"Persistence Pop\", \"Pre-Game Pump Up\", \"Fire Dancing Fiesta\", \"Heavy Lifting Hype\"],\n  hotel: [\"Glitz At the Ritz\", \"Loungeside Lovers\", \"Hearthside Hip\", \"Travelers Rest\", \"Elegant Entertainment\", \"Tropical Getaway\"],\n  other: [\"Flattening the Curve\", \"Upbeat Energy\", \"Laid-back, Low-key.\", \"Learning to Grow\", \"Decades\", \"Ahead of the Curve\"],\n  restaurant: [\"Hamburger Hits\", \"Barbecue Bash\", \"Asian Eats\", \"Taco Truck Temposetter\", \"Boba Beats\", \"Royalty Dining\"],\n  salon: [\"Girls Night Out\", \"Upscaled Grace\", \"Jukebox of the Ages\", \"Wax and Relax\", \"Hairdresser Hop\", \"Nails, Hair, Hips, Heels\"],\n  school: [\"Pep Rally Pop\", \"Study Beats\", \"Intelligence through Inspiration\", \"Classical Concentration\", \"Developing Brains\", \"Academy Alternative\"],\n  spa: [\"Ethereal Elegance\", \"Tropical Getaway\", \"Self-Care Classical\", \"Asian Getaway\", \"Relaxin' R&B\", \"Hot Spring Hits\"],\n  shop: [\"Boutique Beats\", \"Diamonds Are Forever\", \"Jukebox of the Ages\", \"Retail R&B\", \"Girls Night Out\", \"Food Court Finds\"],\n};\n","import { faSnooze, faTurtle, faSquirrel, faRabbitFast, faRocket } from \"@fortawesome/pro-regular-svg-icons\";\n\nexport const tempos = {\n  Slower: { title: \"Slower\", min: 0, max: 55, icon: faSnooze },\n  Slow: { title: \"Slow\", min: 55, max: 75, icon: faTurtle },\n  Moderate: { title: \"Moderate\", min: 75, max: 95, icon: faSquirrel },\n  Fast: { title: \"Fast\", min: 95, max: 115, icon: faRabbitFast },\n  Faster: { title: \"Faster\", min: 115, max: 900, icon: faRocket },\n};\n","export const timezones = {\n  \"America/Adak\": \"-09:00\",\n  \"America/Anchorage\": \"-08:00\",\n  \"America/Boise\": \"-06:00\",\n  \"America/Chicago\": \"-05:00\",\n  \"America/Denver\": \"-06:00\",\n  \"America/Detroit\": \"-04:00\",\n  \"America/Indiana/Indianapolis\": \"-04:00\",\n  \"America/Indiana/Knox\": \"-05:00\",\n  \"America/Indiana/Marengo\": \"-04:00\",\n  \"America/Indiana/Petersburg\": \"-04:00\",\n  \"America/Indiana/Tell_City\": \"- 05:00\",\n  \"America/Indiana/Vevay\": \"-04:00\",\n  \"America/Indiana/Vincennes\": \"-04:00\",\n  \"America/Indiana/Winamac\": \"-04:00\",\n  \"America/Juneau\": \"-08:00\",\n  \"America/Kentucky/Louisville\": \"-04:00\",\n  \"America/Kentucky/Monticello\": \"-04:00\",\n  \"America/Los_Angeles\": \"-07:00\",\n  \"America/Menominee\": \"-05:00\",\n  \"America/Metlakatla\": \"-08:00\",\n  \"America/New_York\": \"-04:00\",\n  \"America/Nome\": \"-08:00\",\n  \"America/North_Dakota/Beulah\": \"-05:00\",\n  \"America/North_Dakota/Center\": \"-05:00\",\n  \"America/North_Dakota/New_Salem\": \"-05:00\",\n  \"America/Phoenix\": \"-07:00\",\n  \"America/Sitka\": \"-08:00\",\n  \"America/Yakutat\": \"-08:00\",\n  \"Pacific/Honolulu\": \"-10:00\",\n};\n","export const states = {\r\n  \"Alabama\": \"AL\",\r\n  \"Alaska\": \"AK\",\r\n  \"Arizona\": \"AZ\",\r\n  \"Arkansas\": \"AR\",\r\n  \"California\": \"CA\",\r\n  \"Colorado\": \"CO\",\r\n  \"Connecticut\": \"CT\",\r\n  \"Delaware\": \"DE\",\r\n  \"Florida\": \"FL\",\r\n  \"Georgia\": \"GA\",\r\n  \"Hawaii\": \"HI\",\r\n  \"Idaho\": \"ID\",\r\n  \"Illinois\": \"IL\",\r\n  \"Indiana\": \"IN\",\r\n  \"Iowa\": \"IA\",\r\n  \"Kansas\": \"KS\",\r\n  \"Kentucky\": \"KY\",\r\n  \"Louisiana\": \"LA\",\r\n  \"Maine\": \"ME\",\r\n  \"Maryland\": \"MD\",\r\n  \"Massachusetts\": \"MA\",\r\n  \"Michigan\": \"MI\",\r\n  \"Minnesota\": \"MN\",\r\n  \"Mississippi\": \"MS\",\r\n  \"Missouri\": \"MO\",\r\n  \"Montana\": \"MT\",\r\n  \"Nebraska\": \"NE\",\r\n  \"Nevada\": \"NV\",\r\n  \"New Hampshire\": \"NH\",\r\n  \"New Jersey\": \"NJ\",\r\n  \"New Mexico\": \"NM\",\r\n  \"New York\": \"NY\",\r\n  \"North Carolina\": \"NC\",\r\n  \"North Dakota\": \"ND\",\r\n  \"Ohio\": \"OH\",\r\n  \"Oklahoma\": \"OK\",\r\n  \"Oregon\": \"OR\",\r\n  \"Pennsylvania\": \"PA\",\r\n  \"Rhode Island\": \"RI\",\r\n  \"South Carolina\": \"SC\",\r\n  \"South Dakota\": \"SD\",\r\n  \"Tennessee\": \"TN\",\r\n  \"Texas\": \"TX\",\r\n  \"Utah\": \"UT\",\r\n  \"Vermont\": \"VT\",\r\n  \"Virginia\": \"VA\",\r\n  \"Washington\": \"WA\",\r\n  \"West Virginia\": \"WV\",\r\n  \"Wisconsin\": \"WI\",\r\n  \"Wyoming\": \"WY\",\r\n};\r\n","export const full_language_names = {\n  \"ar-XA\": \"Arabic\",\n  \"bn-IN\": \"Bengali (India)\",\n  \"cmn-CN\": \"Mandarin Chinese\",\n  \"cmn-TW\": \"Mandarin Chinese\",\n  \"cs-CZ\": \"Czech (Czech Republic)\",\n  \"da-DK\": \"Danish (Denmark)\",\n  \"de-DE\": \"German (Germany)\",\n  \"el-GR\": \"Greek (Greece)\",\n  \"en-AU\": \"English (Australia)\",\n  \"en-GB\": \"English (UK)\",\n  \"en-IN\": \"English (India)\",\n  \"en-US\": \"English (US)\",\n  \"es-ES\": \"Spanish (Spain)\",\n  \"fi-FI\": \"Finnish (Finland)\",\n  \"fil-PH\": \"Filipino (Philippines)\",\n  \"fr-CA\": \"French (Canada)\",\n  \"fr-FR\": \"French (France)\",\n  \"gu-IN\": \"Gujarati (India)\",\n  \"hi-IN\": \"Hindi (India)\",\n  \"hu-HU\": \"Hungarian (Hungary)\",\n  \"id-ID\": \"Indonesian (Indonesia)\",\n  \"it-IT\": \"Italian (Italy)\",\n  \"ja-JP\": \"Japanese (Japan)\",\n  \"kn-IN\": \"Kannada (India)\",\n  \"ko-KR\": \"Korean (South Korea)\",\n  \"ml-IN\": \"Malayalam (India)\",\n  \"nb-NO\": \"Norwegian (Norway)\",\n  \"nl-NL\": \"Dutch (Netherlands)\",\n  \"pl-PL\": \"Polish (Poland)\",\n  \"pt-BR\": \"Portuguese (Brazil)\",\n  \"pt-PT\": \"Portuguese (Portugal)\",\n  \"ru-RU\": \"Russian (Russia)\",\n  \"sk-SK\": \"Slovak (Slovakia)\",\n  \"sv-SE\": \"Swedish (Sweden)\",\n  \"ta-IN\": \"Tamil (India)\",\n  \"te-IN\": \"Telugu (India)\",\n  \"th-TH\": \"Thai (Thailand)\",\n  \"tr-TR\": \"Turkish (Turkey)\",\n  \"uk-UA\": \"Ukrainian (Ukraine)\",\n  \"vi-VN\": \"Vietnamese (Vietnam)\",\n  \"yue-HK\": \"Chinese (Hong Kong)\",\n};\n\nexport const proper_voice_name = {\n  \"Female A\": \"Amazing Female\",\n  \"Female B\": \"Awesome Female\",\n  \"Female C\": \"Charming Female\",\n  \"Female D\": \"Excellent Female\",\n  \"Female E\": \"Fabulous Female\",\n  \"Female F\": \"Fantastic Female\",\n  \"Female G\": \"Outstanding Female\",\n  \"Female H\": \"Remarkable Female\",\n  \"Female I\": \"Spectacular Female\",\n  \"Female J\": \"Splendid Female\",\n  \"Female K\": \"Stellar Female\",\n  \"Female L\": \"Strong Female\",\n  \"Male A\": \"Amazing Male\",\n  \"Male B\": \"Awesome Male\",\n  \"Male C\": \"Charming Male\",\n  \"Male D\": \"Excellent Male\",\n  \"Male E\": \"Fabulous Male\",\n  \"Male F\": \"Fantastic Male\",\n  \"Male G\": \"Outstanding Male\",\n  \"Male H\": \"Remarkable Male\",\n  \"Male I\": \"Spectacular Male\",\n  \"Male J\": \"Splendid Male\",\n  \"Male K\": \"Stellar Male\",\n  \"Male L\": \"Strong Male\",\n};\n","export * from \"./actionTypes\";\r\nexport * from \"./analytics\";\r\nexport * from \"./genreColors\";\r\nexport * from \"./genreProperNames\";\r\nexport * from \"./images\";\r\nexport * from \"./inStoreMessaging.js\";\r\nexport * from \"./supersetDescriptions\";\r\nexport * from \"./supersets\";\r\nexport * from \"./tempos\";\r\nexport * from \"./timezones\";\r\nexport * from \"./states\";\r\nexport * from \"./voices\";\r\n\r\nexport const envTypes = {\r\n  local: \"local\",\r\n  dev: \"dev\",\r\n  prod: \"production\",\r\n};\r\n\r\nexport const userTypes = {\r\n  Owner: \"Owner\",\r\n  Individual: \"Individual\",\r\n};\r\n\r\nexport const defaultStationCount = 12;\r\n","let initialState = {\r\n  auth: {\r\n    user: null,\r\n    location: {},\r\n    isApple: false,\r\n    inApp: false,\r\n  },\r\n  loader: {\r\n    requestInProgress: 0,\r\n  },\r\n  locations: {\r\n    data: [],\r\n    count: 0,\r\n    limit: 0,\r\n    skip: 0,\r\n  },\r\n  playlists: {\r\n    schedules: [],\r\n  },\r\n  stations: {\r\n    topTrack: [],\r\n    artists: [],\r\n    tracks: [],\r\n    playlistList: [],\r\n    genreList: [],\r\n    eraList: [],\r\n    moodList: [],\r\n    data: [],\r\n    count: 0,\r\n    skip: 0,\r\n    limit: 10,\r\n  },\r\n  stationPreviews: {\r\n    genre: [],\r\n    era: [],\r\n    mood: [],\r\n    activeStationPreview: [],\r\n  },\r\n  selectedPreviews: {\r\n    ID: \"\",\r\n    track: [],\r\n  },\r\n  zones: {\r\n    data: [],\r\n    count: 0,\r\n    limit: 0,\r\n    skip: 0,\r\n  },\r\n  schedules: {\r\n    activeSchedule: null,\r\n    schedules: [],\r\n  },\r\n  player: {\r\n    showPlayer: false,\r\n    isPlaying: false,\r\n    skipDisabled: false,\r\n    trackNumber: 0,\r\n    trackMap: {},\r\n    playerError: {},\r\n  },\r\n  inStoreMessaging: {\r\n    messages: [],\r\n  },\r\n};\r\n\r\nexport default initialState;\r\n","import { get } from \"lodash\";\r\nimport { tempos } from \"../constants\";\r\n\r\nexport const tagTypes = {\r\n  explicit: { name: \"Explicit\", color: \"#EA526F\" },\r\n};\r\n\r\nexport const capitolizeFirstLetter = (str) => {\r\n  if (!str) return \"\";\r\n  return str.charAt(0).toUpperCase() + str.substring(1, str.length);\r\n};\r\n\r\nexport const generateRandomString = (length) => {\r\n  let result = \"\";\r\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  const charactersLength = characters.length;\r\n  for (let i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  }\r\n  return result.toUpperCase();\r\n};\r\n\r\n/**\r\n * Converts an object-array to map\r\n * @param {*} arr - Array to convert\r\n * @param {*} key - Object key\r\n */\r\nexport const objArrayToMap = (arr, key) => {\r\n  if (!arr || !key) return [];\r\n  let map = [];\r\n  arr.map((item) => {\r\n    return (map[get(item, key, null)] = item);\r\n  });\r\n  return map;\r\n};\r\n\r\n// Convert array to map\r\nexport const arrayToMap = (arr) => {\r\n  if (!arr) return [];\r\n  let map = [];\r\n  arr.map((item) => {\r\n    return (map[item] = true);\r\n  });\r\n  return map;\r\n};\r\n\r\nexport const hashCode = (s) => {\r\n  if (!s) return \"\";\r\n  return \"https://random-station-artwork.s3-us-west-2.amazonaws.com/\" + (Math.abs(s.split(\"\").reduce((a, b) => ((a << 5) - a + b.charCodeAt(0)) | 0, 0)) % 101) + \".jpg\";\r\n};\r\n\r\n// Check screen width for mobile dimensions\r\nexport const checkForMobile = () => {\r\n  let width = window.outerWidth;\r\n  if (width <= 650) return true;\r\n  return false;\r\n};\r\n\r\n// Converts seconds into \"0:13\" time format\r\nexport const getTime = (time) => {\r\n  if (!isNaN(time)) return Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\r\n  else return \"0:00\";\r\n};\r\n\r\n// Gets the BPM info\r\nexport const getBPMInfo = (bpm) => {\r\n  if (bpm >= 0 && bpm <= 55) return tempos[\"Slower\"];\r\n  else if (bpm >= 55 && bpm <= 75) return tempos[\"Slow\"];\r\n  else if (bpm >= 75 && bpm <= 95) return tempos[\"Moderate\"];\r\n  else if (bpm >= 95 && bpm <= 115) return tempos[\"Fast\"];\r\n  else if (bpm >= 115 && bpm <= 900) return tempos[\"Faster\"];\r\n  else return tempos[\"Moderate\"];\r\n};\r\n\r\n// Creates, sets, and returns a deviceId\r\nexport const getDeviceId = () => {\r\n  let deviceId = localStorage.getItem(\"deviceId\"); // Get previously generated deviceId (if any)\r\n  if (!deviceId) {\r\n    deviceId = \"web-\" + generateRandomString(10); // If no deviceId, create one\r\n    localStorage.setItem(\"deviceId\", deviceId); // Store deviceId\r\n  }\r\n  return deviceId;\r\n};\r\n\r\nexport const getTrackNumberByTrack = (track, arr) => {\r\n  try {\r\n    const advertisement = get(track, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\r\n    const ism = get(track, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\r\n\r\n    if (advertisement || ism) return false;\r\n\r\n    for (let i = 0; i < arr.length; i++) if (get(arr[i], \"isrc\", \"\") === get(track, \"isrc\", track)) return i;\r\n\r\n    return 0;\r\n  } catch (err) {\r\n    console.log(\"caught getTrackNumberByTrack err: \", err);\r\n    return false;\r\n  }\r\n};\r\n","import { SET_SUBSCRIPTION, SET_TRACK_NUMBER, SET_SCHEDULE, SET_INAPP, SET_IS_APPLE, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_EXPLICIT, SET_TRACK_SCHEDULE, SET_USER, LOGIN_SUCCESS, SET_LOCATION, SET_STATION, SET_CURRENT_TRACK, SET_FAVORITES } from \"./../constants\";\r\nimport initialState from \"../redux-store/initialState\";\r\nimport { get } from \"lodash\";\r\nimport { objArrayToMap } from \"../util\";\r\n\r\nconst auth_reducer = (state = initialState.auth, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_SUCCESS:\r\n      return Object.assign({}, state, { ...action.data });\r\n    case SET_USER:\r\n      return Object.assign({}, state, { user: action.data });\r\n    case SET_LOCATION:\r\n      return Object.assign({}, state, { location: { ...action.data, favoritesMap: objArrayToMap(get(action, \"data.favorites\", []), \"_id\") } });\r\n    case SET_STATION:\r\n      return Object.assign({}, state, { location: { ...state.location, station: action.data } });\r\n    case SET_CURRENT_TRACK:\r\n      return Object.assign({}, state, { location: { ...state.location, currentTrack: action.data } });\r\n    case SET_FAVORITES:\r\n      return Object.assign({}, state, { location: { ...state.location, favorites: action.data, favoritesMap: objArrayToMap(get(action, \"data\", []), \"_id\") } });\r\n    case SET_EXPLICIT:\r\n      return Object.assign({}, state, { location: { ...state.location, explicitAllowed: action.data } });\r\n    case SET_PAIRED_DEVICE:\r\n      return Object.assign({}, state, { location: { ...state.location, pairedDevice: action.data } });\r\n    case SET_LAST_TRACK:\r\n      return Object.assign({}, state, { location: { ...state.location, lastTrack: action.data } });\r\n    case SET_TRACK_NUMBER:\r\n      return Object.assign({}, state, { location: { ...state.location, currentTrackNumber: action.data } });\r\n    case SET_TRACK_SCHEDULE:\r\n      return Object.assign({}, state, { location: { ...state.location, trackSchedule: action.data } });\r\n    case SET_SCHEDULE:\r\n      return Object.assign({}, state, { location: { ...state.location, schedule: action.data } });\r\n    case SET_SUBSCRIPTION:\r\n      return Object.assign({}, state, { location: { ...state.location, subscription: action.data } });\r\n    case SET_IS_APPLE: // This is an action for APPLE review\r\n      return Object.assign({}, state, { isApple: action.data });\r\n    case SET_INAPP: // Is the user viewing the webapp via our mobile app\r\n      if (get(action, \"data\", false)) {\r\n        localStorage.setItem(\"inApp\", true); // Store in local storage. Needed because when app user does login/out, we refresh the page, which removes an inApp reference\r\n        window.inApp = true;\r\n      }\r\n      return Object.assign({}, state, { inApp: action.data });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth_reducer;\r\n","// Auth\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const SET_LOCATION = \"SET_LOCATION\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const SET_FAVORITES = \"SET_FAVORITES\";\r\nexport const SET_PAIRED_DEVICE = \"SET_PAIRED_DEVICE\";\r\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\r\nexport const SIGNUP_FAILED = \"SIGNUP_FAILED\";\r\nexport const SET_IS_APPLE = \"SET_IS_APPLE\";\r\nexport const SET_INAPP = \"SET_INAPP\";\r\nexport const SET_SCHEDULE = \"SET_SCHEDULE\";\r\nexport const SET_STATION = \"SET_STATION\";\r\nexport const SET_CURRENT_TRACK = \"SET_CURRENT_TRACK\";\r\nexport const SET_SUBSCRIPTION = \"SET_SUBSCRIPTION\";\r\n\r\n// Loader\r\nexport const LOADER_SHOW = \"LOADER_SHOW\";\r\nexport const LOADER_HIDE = \"LOADER_HIDE\";\r\n\r\n// Player\r\nexport const SET_TRACK_SCHEDULE = \"SET_TRACK_SCHEDULE\";\r\nexport const SET_EXPLICIT = \"SET_EXPLICIT\";\r\nexport const SET_LAST_TRACK = \"SET_LAST_TRACK\";\r\nexport const SET_TRACK_MAP = \"SET_TRACK_MAP\";\r\nexport const SET_TRACK_NUMBER = \"SET_TRACK_NUMBER\";\r\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\r\nexport const SET_SHOW_PLAYER = \"SET_SHOW_PLAYER\";\r\nexport const PLAYER_ERROR = \"PLAYER_ERROR\";\r\nexport const SET_SKIP_DISABLED = \"SET_SKIP_DISABLED\";\r\n\r\n// Playlist\r\nexport const SET_SCHEDULES = \"SET_SCHEDULES\";\r\n\r\n// Stations\r\nexport const GET_STATIONS = \"GET_STATIONS\";\r\n\r\n// Create Schedule\r\nexport const ADD_SCHEDULE = \"ADD_SCHEDULE\";\r\nexport const ACTIVE_SCHEDULE = \"ACTIVE_SCHEDULE\";\r\n\r\n// In-Store Messaging\r\nexport const SET_INSTORE_MESSAGES = \"SET_INSTORE_MESSAGES\";\r\n","import { SET_INSTORE_MESSAGES } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst inStoreMessaging_reducer = (state = initialState.inStoreMessaging, action) => {\n  switch (action.type) {\n    case SET_INSTORE_MESSAGES:\n      return Object.assign({}, state, { messages: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default inStoreMessaging_reducer;\n","import { SET_SKIP_DISABLED, PLAYER_ERROR, SET_TRACK_MAP, SET_TRACK_NUMBER, SET_IS_PLAYING, SET_SHOW_PLAYER } from \"./../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst player_reducer = (state = initialState.player, action) => {\n  switch (action.type) {\n    case SET_TRACK_MAP:\n      return Object.assign({}, state, { trackMap: action.data });\n    case SET_TRACK_NUMBER:\n      return Object.assign({}, state, { trackNumber: action.data });\n    case SET_IS_PLAYING:\n      return Object.assign({}, state, { isPlaying: action.data });\n    case SET_SKIP_DISABLED:\n      return Object.assign({}, state, { skipDisabled: action.data });\n    case SET_SHOW_PLAYER:\n      return Object.assign({}, state, { showPlayer: action.data });\n    case PLAYER_ERROR:\n      return Object.assign({}, state, { playerError: action.data });\n    default:\n      return state;\n  }\n};\n\nexport default player_reducer;\n","import { SET_SCHEDULES } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst playlists_reducer = (state = initialState.playlists, action) => {\n  switch (action.type) {\n    case SET_SCHEDULES:\n      return Object.assign([], state, { schedules: action.data });\n    default:\n      return state;\n  }\n};\nexport default playlists_reducer;\n","import { ADD_SCHEDULE, ACTIVE_SCHEDULE } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst selected_stations_preview_reducer = (state = initialState.selectedPreviews, action) => {\n  switch (action.type) {\n    case ADD_SCHEDULE:\n      return Object.assign(\n        {},\n        { ...state },\n        {\n          data: null,\n        }\n      );\n    case ACTIVE_SCHEDULE:\n      return Object.assign({}, state, {\n        activeSchedule: action.data,\n      });\n    default:\n      return state;\n  }\n};\nexport default selected_stations_preview_reducer;\n","import { GET_STATIONS } from \"../constants\";\nimport initialState from \"../redux-store/initialState\";\n\nconst stations_reducer = (state = initialState.stations, action) => {\n  switch (action.type) {\n    case GET_STATIONS:\n      return Object.assign({}, state, {\n        playlistList: action.data.playlistList,\n        genreList: action.data.genreList,\n        eraList: action.data.eraList,\n        moodList: action.data.moodList,\n      });\n    default:\n      return state;\n  }\n};\nexport default stations_reducer;\n","import { combineReducers } from \"redux\";\r\nimport auth from \"./auth\";\r\nimport inStoreMessaging from \"./inStoreMessaging\";\r\nimport player from \"./player\";\r\nimport playlists from \"./playlists\";\r\nimport schedules from \"./schedules\";\r\nimport stations from \"./stations\";\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  inStoreMessaging,\r\n  player,\r\n  playlists,\r\n  schedules,\r\n  stations,\r\n});\r\n","/* eslint-disable no-undef */\n\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport reduxImmutableStateInvariant from \"redux-immutable-state-invariant\";\nimport thunk from \"redux-thunk\";\nimport { createBrowserHistory } from \"history\";\n// 'routerMiddleware': the new way of storing route changes with redux middleware since rrV4.\n// import { routerMiddleware } from 'react-router-redux';\nimport rootReducer from \"../reducers\";\nexport const history = createBrowserHistory();\n\nfunction configureStoreProd(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  return createStore(rootReducer, initialState, compose(applyMiddleware(...middlewares)));\n}\n\nfunction configureStoreDev(initialState) {\n  //   const reactRouterMiddleware = routerMiddleware(history);\n  const middlewares = [\n    // Add other middleware on this line...\n\n    // Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n    reduxImmutableStateInvariant(),\n\n    // thunk middleware can also accept an extra argument to be passed to each thunk action\n    // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n    thunk,\n    //  reactRouterMiddleware,\n  ];\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\n  const store = createStore(rootReducer, initialState, composeEnhancers(applyMiddleware(...middlewares)));\n\n  if (module.hot) {\n    // Enable Webpack hot module replacement for reducers\n    module.hot.accept(\"../reducers\", () => {\n      const nextReducer = require(\"../reducers\").default; // eslint-disable-line global-require\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n\nconst configureStore = process.env.NODE_ENV === \"production\" ? configureStoreProd : configureStoreDev;\n\nexport default configureStore;\n","import axios from \"axios\";\r\nimport { API_URL, AMBII_API_KEY } from \"./index\";\r\nimport { get } from \"lodash\";\r\n\r\nexport async function HTTP(method, uri, data, headers = null, params = null) {\r\n  const url = `${API_URL}${uri}`.trim();\r\n  let query = { method, url, headers: {} };\r\n\r\n  if (headers !== null) query.headers = headers;\r\n  if (params !== null) query.params = params;\r\n  if (method === \"post\" || method === \"put\" || method === \"delete\" || method === \"patch\") query.data = data;\r\n\r\n  // Ambii keys\r\n  const ambii_auth_jwt = localStorage.getItem(\"ambii_auth_jwt\");\r\n  const ambii_player_jwt = localStorage.getItem(\"ambii_player_jwt\");\r\n\r\n  if (AMBII_API_KEY) query.headers[\"ambii_api_key\"] = AMBII_API_KEY;\r\n  if (ambii_auth_jwt) query.headers[\"Authorization\"] = \"Bearer \" + localStorage.getItem(\"ambii_auth_jwt\");\r\n  if (ambii_player_jwt) query.headers[\"ambii_player_jwt\"] = localStorage.getItem(\"ambii_player_jwt\");\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    axios(query)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Caught api error: \", err);\r\n\r\n        if (err.message === \"Network Error\") {\r\n          window.alert(err.message);\r\n        } else if (get(err, \"response.data.message\", null) === \"The token has expired, please login again!\") {\r\n          // Used to catch if another device connects while web player is connected\r\n          resolve(false);\r\n        } else if (err.response && err.response.status === 401) {\r\n          localStorage.removeItem(\"ambii_auth_jwt\");\r\n          // window.location.reload(true);\r\n        } else {\r\n          reject(err);\r\n        }\r\n      });\r\n  });\r\n}\r\n","import ReactGA from \"react-ga\";\n\n// Initializes analytics\nexport const startGoogleAnalytics = () => {\n  ReactGA.initialize(\"UA-167385126-1\", {\n    siteSpeedSampleRate: 100,\n    testMode: document.location.hostname.includes(\"business.ambii.io\") ? false : true,\n  });\n};\n\n/**\n * @param {category} - Category of action\n * @param {action} - Action user performed\n * @param {value} - (optional) any potential value\n * @param {label} - Item which was interacted with\n */\nexport const logEvent = ({ category, action, value, label }) => {\n  // console.log(\"hit event: \", { category, action, value, label });\n  ReactGA.event({\n    category,\n    action,\n    value: value ? parseInt(value) : null,\n    label,\n  });\n};\n\n// Tracks screen based on url\nexport const trackScreen = () => {\n  // console.log(\"hit screen: \", window.location.pathname + window.location.search)\n  ReactGA.pageview(window.location.pathname + window.location.search);\n};\n\n// Tracks modals when page does not reload\nexport const trackModal = (modal) => {\n  // console.log(\"hit modal: \", modal)\n  ReactGA.modalview(modal);\n};\n","/* eslint-disable no-undef */\r\nimport io from \"socket.io-client\";\r\n\r\n// Should read from ./configs, but this file is reading first somehow so we get an initialization error?\r\nconst isDev = process.env.REACT_APP_STAGE === \"dev\" ? true : false;\r\nconst SOCKET_URL = isDev ? process.env.REACT_APP_SOCKET_URL_DEV : process.env.REACT_APP_SOCKET_URL_PROD;\r\n\r\nexport const socket = io(SOCKET_URL);\r\n\r\nexport const socketChannels = {\r\n  //default socket client function\r\n  connect: \"connect-web\",\r\n  //default socket client function\r\n  disconnect: \"disconnect\",\r\n  //default socket client function\r\n  reconnect: \"reconnect\",\r\n  //server will fire to user when player connects with station\r\n  playerPaired: \"player-paired\",\r\n  //server will fire to user when player unpaired itself with station\r\n  playerUnPaired: \"player-un-paired\",\r\n  //server will fire to user when player disconnects only (goes offline)\r\n  playerDisconnected: \"player-disconnected\",\r\n  //server will fire to user, when player starts playing a song\r\n  playerPlayed: \"player-played\",\r\n  //server will fire to user, when player gets paused\r\n  playerPaused: \"player-paused\",\r\n  //server will fire to user and player when a playable songs adds into a station\r\n  stationUpdated: \"station-updated\",\r\n  //server will fire to user, when player call play next song\r\n  onPlayNext: \"player-called-next\",\r\n};\r\n","/* eslint-disable no-undef */\r\nimport { envTypes } from \"../constants\";\r\nconst env = process.env.REACT_APP_STAGE;\r\n\r\n// Export config variables\r\nexport const STRIPE_KEY = env === envTypes.prod ? process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY_PROD : process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY_DEV;\r\nexport const AUTH0_KEY = env === envTypes.prod ? process.env.REACT_APP_AUTH0HELPER_KEY_PROD : process.env.REACT_APP_AUTH0HELPER_KEY_DEV;\r\nexport const API_URL = env === envTypes.prod ? process.env.REACT_APP_API_URL_PROD : env === envTypes.dev ? process.env.REACT_APP_API_URL_DEV : process.env.REACT_APP_API_URL_LOCAL;\r\nexport const SOCKET_URL = env === envTypes.prod ? process.env.REACT_APP_SOCKET_URL_PROD : env === envTypes.dev ? process.env.REACT_APP_SOCKET_URL_DEV : process.env.REACT_APP_SOCKET_URL_LOCAL;\r\nexport const APP_TITLE = env === envTypes.prod ? process.env.REACT_APP_APP_TITLE_PROD : env === envTypes.dev ? process.env.REACT_APP_APP_TITLE_DEV : process.env.REACT_APP_APP_TITLE_LOCAL;\r\nexport const AMBII_API_KEY = env === envTypes.prod ? process.env.REACT_APP_AMBII_API_KEY_PROD : process.env.REACT_APP_AMBII_API_KEY_DEV;\r\n\r\n// Export variables from other config files\r\nexport * from \"./api\";\r\nexport * from \"./google-analytics\";\r\nexport * from \"./socket\";\r\n","import { SET_INAPP, SET_IS_APPLE, SET_INSTORE_MESSAGES, GET_STATIONS, ACTIVE_SCHEDULE, SET_SCHEDULE, SET_SCHEDULES, SET_FAVORITES, LOGIN_SUCCESS, SET_USER, PLAYER_ERROR, SET_LOCATION, SET_TRACK_NUMBER, SET_SHOW_PLAYER, SET_IS_PLAYING, SET_TRACK_SCHEDULE, SET_EXPLICIT, SET_PAIRED_DEVICE, SET_LAST_TRACK, SET_TRACK_MAP, SET_STATION, SET_CURRENT_TRACK, SET_SKIP_DISABLED, SIGNUP_SUCCESS, SIGNUP_FAILED, LOADER_SHOW, LOADER_HIDE, SET_SUBSCRIPTION } from \"../constants\";\r\n\r\nexport const setInApp = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_INAPP,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setIsApple = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_IS_APPLE,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setFavorites = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_FAVORITES,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setTrackSchedule = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_TRACK_SCHEDULE,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setExplicit = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_EXPLICIT,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setPairedDevice = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_PAIRED_DEVICE,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setLastTrack = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_LAST_TRACK,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setTrackMap = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_TRACK_MAP,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setLocation = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_LOCATION,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setStation = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_STATION,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setCurrentTrack = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_CURRENT_TRACK,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const playerError = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: PLAYER_ERROR,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const showPlayer = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_SHOW_PLAYER,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setIsPlaying = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_IS_PLAYING,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setDisableSkip = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_SKIP_DISABLED,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setTrackNumber = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_TRACK_NUMBER,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const loginSuccess = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: LOGIN_SUCCESS,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setUser = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_USER,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setActiveSchedule = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: ACTIVE_SCHEDULE,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setSchedule = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_SCHEDULE,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setLocationSchedules = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_SCHEDULES,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setPublicStationList = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_STATIONS,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const setInStoreMessages = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_INSTORE_MESSAGES,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const signUpSuccess = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SIGNUP_SUCCESS,\r\n    data,\r\n  });\r\n};\r\n\r\nexport const signUpFailed = (error) => (dispatch) => {\r\n  dispatch({\r\n    type: SIGNUP_FAILED,\r\n    error,\r\n  });\r\n};\r\n\r\nexport const showLoader = () => (dispatch) => {\r\n  dispatch({\r\n    type: LOADER_SHOW,\r\n  });\r\n};\r\n\r\nexport const hideLoader = () => (dispatch) => {\r\n  dispatch({\r\n    type: LOADER_HIDE,\r\n  });\r\n};\r\n\r\nexport const setSubscription = (data) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_SUBSCRIPTION,\r\n    data\r\n  });\r\n};\r\n","import { HTTP, socket, socketChannels } from \"../configs\";\r\nimport { setPairedDevice, showPlayer, setLastTrack, setDisableSkip, setTrackNumber, setTrackMap, setLocation, setTrackSchedule, setStation, setCurrentTrack, disconnectPlayerSuccess, setIsPlaying } from \"./dispatch\";\r\nimport { get } from \"lodash\";\r\nimport { objArrayToMap, getDeviceId, getTrackNumberByTrack } from \"../util\";\r\n\r\nexport const addPlayerListeners = () => (dispatch) => {\r\n  playerPaired(dispatch);\r\n  playerUnPaired(dispatch);\r\n  playerDisconnected(dispatch);\r\n  playerPlayed(dispatch);\r\n  playerPaused(dispatch);\r\n};\r\n\r\nexport function disconnectPlayer() {\r\n  return function (dispatch) {\r\n    return new Promise(async (resolve, reject) => {\r\n      HTTP(\"post\", \"/api/player/disconnect\", { deviceId: getDeviceId() })\r\n        .then(async (response) => {\r\n          try {\r\n            dispatch(setPairedDevice(get(response, \"data.data.pairedDevice\", {}))); // Set the paired device to incoming. Important for changing UI\r\n            dispatch(showPlayer(false));\r\n            localStorage.removeItem(\"ambii_player_jwt\");\r\n          } catch (err) {\r\n            console.log(\"Caught error on disconnectPlayer: \", err);\r\n          }\r\n          resolve(get(response, \"data.data\", null));\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"disconnectPlayer error: \", error);\r\n          reject(error.response);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function connectPlayer(data) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!data) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/api/player/connect\", data)\r\n        .then(async (response) => {\r\n          const res = get(response, \"data.data\", null);\r\n          if (get(res, \"data\", null) === \"DEVICE_ALREADY_PAIRED\") return resolve(\"DEVICE_ALREADY_PAIRED\");\r\n          // Location already connected to\r\n          else {\r\n            // Location not connected to\r\n            localStorage.setItem(\"ambii_player_jwt\", get(res, \"ambii_player_jwt\", null)); // Save player jwt to local storage\r\n\r\n            let location = get(res, \"location\", {});\r\n            let trackSchedule = get(location, \"trackSchedule\", {});\r\n            let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\r\n            let currentTrack = get(location, \"currentTrack\", null); // Get the currentTrackNumber from server\r\n            let currentTrackNumber = get(location, \"currentTrackNumber\", 0); // Get the currentTrackNumber from server\r\n            let currentTrackByNumber = get(trackSchedule, \"queue[\" + currentTrackNumber + \"]\", currentTrack); // Get the currentTrack by number\r\n            console.log(\"connectPlayer : \", { response, res });\r\n\r\n            // Dispatch parent data first\r\n            dispatch(setLocation(location)); // Save location updates\r\n            dispatch(setTrackMap(trackMap)); // Save track map\r\n            dispatch(setTrackNumber(currentTrackNumber)); // Save track map\r\n            dispatch(setCurrentTrack(currentTrackByNumber));\r\n\r\n            // Dispatch specific data into parent\r\n            dispatch(setTrackSchedule(trackSchedule)); // Set Track Schedule\r\n            dispatch(showPlayer(true));\r\n\r\n            resolve(res);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"connectPlayer error: \", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function finishedTrack({ data }) {\r\n  return function (dispatch, getState) {\r\n    return new Promise(async (resolve) => {\r\n      try {\r\n        // Return if required data missing\r\n        if (!data) return resolve(false);\r\n\r\n        HTTP(\"post\", \"/api/player/finishedTrack\", data)\r\n          .then(async (response) => {\r\n            if (response) {\r\n              let data = get(response, \"data.data\", {});\r\n              console.log(\"finishedTrack res: \", data);\r\n              const newStation = get(data, \"newStation\", false);\r\n              const newTrackSchedule = get(data, \"newTrackSchedule\", false);\r\n              const newUrls = get(data, \"newUrls\", false);\r\n              let currentTrack = get(getState(), \"auth.location.currentTrack\", get(data, \"track\", null));\r\n              let trackNumber = get(getState(), \"player.trackNumber\", 0);\r\n\r\n              // Check for DEVICE_ALREADY_PAIRED warning\r\n              if (get(data, \"data\", \"\") === \"DEVICE_ALREADY_PAIRED\") return resolve(get(data, \"data\", \"\"));\r\n\r\n              // If the station has changed in the background\r\n              if (newStation) {\r\n                let station = get(data, \"station\", {});\r\n                dispatch(setStation(station)); // Set location updates\r\n              }\r\n\r\n              // If the track schedule has changed\r\n              if (newTrackSchedule || newUrls) {\r\n                let trackSchedule = get(data, \"trackSchedule\", {});\r\n                let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\r\n\r\n                // Dispatch parent data first\r\n                dispatch(setTrackMap(trackMap)); // Set track map\r\n\r\n                // May be needed, as change in track schedule may shift things around\r\n                let newTrackNumber = newStation ? 0 : getTrackNumberByTrack(currentTrack, get(trackSchedule, \"queue\", []));\r\n                if (trackNumber !== newTrackNumber) {\r\n                  if (newTrackNumber || newTrackNumber === 0) dispatch(setTrackNumber(newTrackNumber));\r\n                  else {\r\n                    // Current track was not in the new queue\r\n                    let lastTrack = get(getState(), \"auth.location.lastTrack\", \"\"); // Get 'lastTrack'\r\n                    newTrackNumber = getTrackNumberByTrack(lastTrack, get(trackSchedule, \"queue\", [])); // Get 'lastTrack' position in new queue\r\n\r\n                    // Set track number\r\n                    dispatch(setTrackNumber(newTrackNumber ? newTrackNumber : trackNumber));\r\n                  }\r\n                }\r\n\r\n                // Dispatch specific data into parent\r\n                dispatch(setTrackSchedule(trackSchedule)); // Set Filtered Track Schedule\r\n              }\r\n              resolve(true);\r\n            } else resolve(false);\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"error: \", error);\r\n            resolve(false);\r\n          });\r\n      } catch (err) {\r\n        console.log(\"finishedTrack err: \", err);\r\n        resolve(false);\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport function skipSong({ songCompletion }) {\r\n  return function (dispatch, getState) {\r\n    return new Promise(async (resolve) => {\r\n      try {\r\n        if (!songCompletion) songCompletion = \"0\";\r\n\r\n        let location = get(getState(), \"auth.location\", {});\r\n        let player = get(getState(), \"player\", {});\r\n\r\n        dispatch(setDisableSkip(true));\r\n        let trackSchedule = get(location, \"trackSchedule\", \"\");\r\n        let trackScheduleLength = get(trackSchedule, \"queue\", []).length - 1;\r\n        let queue = get(trackSchedule, \"queue\", []);\r\n        let queueHash = get(trackSchedule, \"queueHash\", \"\");\r\n        let lastTrack = get(location, \"currentTrack\", {});\r\n        let trackNumber = get(player, \"trackNumber\", 0);\r\n        let nextTrack = null;\r\n\r\n        // Get the next track / track number\r\n        if (trackNumber + 1 <= trackScheduleLength) {\r\n          nextTrack = queue[trackNumber + 1] || \"\";\r\n          trackNumber += 1;\r\n        } else {\r\n          nextTrack = get(location, \"trackSchedule.queue[\" + 0 + \"]\", \"\");\r\n          trackNumber = 0;\r\n        }\r\n\r\n        dispatch(setLastTrack(lastTrack)); // Reset last track\r\n        dispatch(setCurrentTrack(nextTrack));\r\n        dispatch(setTrackNumber(trackNumber));\r\n\r\n        let playNextRes = await dispatch(\r\n          finishedTrack({\r\n            data: {\r\n              locationId: get(location, \"_id\", null),\r\n              stationId: get(location, \"station._id\", null),\r\n              nextTrack,\r\n              lastTrack,\r\n              deviceId: getDeviceId(),\r\n              songCompletion,\r\n              currentTrackNumber: trackNumber.toString(),\r\n              queueHash,\r\n            },\r\n          })\r\n        );\r\n\r\n        if (playNextRes) {\r\n          console.log(\"music bar props: \", getState());\r\n          if (playNextRes === \"DEVICE_ALREADY_PAIRED\") {\r\n            dispatch(setIsPlaying(false));\r\n            dispatch(setDisableSkip(false));\r\n            await dispatch(disconnectPlayer());\r\n            return resolve(playNextRes);\r\n          }\r\n        } else return resolve(false);\r\n\r\n        resolve(true);\r\n      } catch (err) {\r\n        dispatch(setDisableSkip(false));\r\n        console.log(\"caught callPlayNext err: \", err);\r\n        resolve(false);\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\n// Checks to see if we need to disable skip on the current song\r\nexport function checkIfAdvertisement(currentTrack) {\r\n  return function (dispatch) {\r\n    let isAdvertisement = get(currentTrack, \"isrc\", \"\").substring(0, 7) === \"ADVERT_\";\r\n    let isInStoreMessage = get(currentTrack, \"isrc\", \"\").substring(0, 4) === \"ISM_\";\r\n\r\n    if (isAdvertisement || isInStoreMessage) dispatch(setDisableSkip(true));\r\n    else {\r\n      let skipTimer = setTimeout(() => {\r\n        clearTimeout(skipTimer);\r\n        dispatch(setDisableSkip(false));\r\n      }, 1000); // How long to disable skip for\r\n    }\r\n  };\r\n}\r\n\r\nexport const removePlayerListeners = () => (dispatch) => {\r\n  socket.removeEventListener(socketChannels.playerPaired);\r\n  socket.removeEventListener(socketChannels.playerUnPaired);\r\n  socket.removeEventListener(socketChannels.playerDisconnected);\r\n  socket.removeEventListener(socketChannels.playerPlayed);\r\n  socket.removeEventListener(socketChannels.playerPaused);\r\n};\r\n\r\nexport const updateStationListener = () => (dispatch) => {\r\n  socket.on(socketChannels.stationUpdated, (data) => {\r\n    dispatch(setStation(data));\r\n  });\r\n};\r\n\r\nexport const updateCurrentTrackListener = () => (dispatch) => {\r\n  socket.on(socketChannels.onPlayNext, (data) => {\r\n    dispatch(setCurrentTrack(get(data, \"track\", {})));\r\n  });\r\n};\r\n\r\nexport const removeStationListener = () => (dispatch) => {\r\n  socket.removeEventListener(socketChannels.stationUpdated);\r\n};\r\n\r\nconst playerPaired = (dispatch) => {\r\n  socket.on(socketChannels.playerPaired, (data) => {\r\n    console.log(\"Player Paired\", data);\r\n  });\r\n};\r\n\r\nconst playerUnPaired = (dispatch) => {\r\n  socket.on(socketChannels.playerUnPaired, (data) => {\r\n    console.log(\"Player UnPaired\", data);\r\n  });\r\n};\r\n\r\nconst playerDisconnected = (dispatch) => {\r\n  socket.on(socketChannels.playerDisconnected, (data) => {\r\n    console.log(\"Player Disconnected\", data);\r\n  });\r\n};\r\n\r\nconst playerPlayed = (dispatch) => {\r\n  socket.on(socketChannels.playerPlayed, (data) => {\r\n    console.log(\"Player playerPlayed\", data);\r\n  });\r\n};\r\n\r\nconst playerPaused = (dispatch) => {\r\n  socket.on(socketChannels.playerPaused, (data) => {\r\n    console.log(\"Player playerPaused\");\r\n  });\r\n};\r\n","import { HTTP } from \"../configs\";\r\nimport { setIsApple, loginSuccess, setUser, setLocation, hideLoader, showLoader, signUpFailed, signUpSuccess } from \"./dispatch\";\r\nimport { get } from \"lodash\";\r\nimport { getDeviceId } from \"../util\";\r\nimport { connectPlayer } from \"./player\";\r\n\r\nexport function auth0setLogin() {\r\n  return function (dispatch) {\r\n    return new Promise(async (resolve) => {\r\n      try {\r\n        let getUser = HTTP(\"get\", \"/auth/getUser\");\r\n        let getLocation = HTTP(\"get\", \"/auth/getLocation\");\r\n\r\n        let res = await Promise.all([getUser, getLocation]);\r\n\r\n        let user = get(res[0], \"data.data\", null);\r\n        let location = get(res[1], \"data.data\", null);\r\n\r\n        // console.log(\"auth0setLogin res: \", { res, user, location });\r\n        // The fact this line (and any subsequent code) exists is reltih\r\n        if (get(user, \"email\", \"\").toLowerCase() === \"apple@ambii.io\") dispatch(setIsApple(true));\r\n\r\n        // Dispatch\r\n        dispatch(loginSuccess({ location, user }));\r\n        dispatch(setUser(user));\r\n        dispatch(setLocation(location));\r\n        getDeviceId();\r\n\r\n        // Auto-connects player\r\n        if (get(location, \"pairedDevice.uniqueId\", null) === getDeviceId()) {\r\n          let obj = { storeCode: get(location, \"storeCode\", \"\"), deviceName: \"web\", uniqueId: getDeviceId(), deviceBrand: \"web\", override: false };\r\n          dispatch(connectPlayer(obj));\r\n        }\r\n\r\n        resolve(true);\r\n      } catch (err) {\r\n        console.log(\"err: \", err);\r\n        resolve(false);\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport function signUp(data) {\r\n  return function (dispatch) {\r\n    return new Promise(function (resolve, reject) {\r\n      dispatch(showLoader());\r\n      HTTP(\"post\", \"/auth/complete-user-setup\", data)\r\n        .then((response) => {\r\n          let data = get(response, \"data.data\");\r\n\r\n          if (get(response, \"data.success\", false)) {\r\n            dispatch(signUpSuccess(data));\r\n            dispatch(setUser(get(data, \"user\", {})));\r\n            dispatch(setLocation(get(data, \"location\", {})));\r\n          }\r\n          resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          let message = get(error, \"response\", \"\");\r\n          dispatch(signUpFailed(message));\r\n          reject(message);\r\n        })\r\n        .finally(() => {\r\n          dispatch(hideLoader());\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function auth0clearLogin() {\r\n  return function (dispatch) {\r\n    dispatch(setUser({}));\r\n    dispatch(setLocation({}));\r\n  };\r\n}\r\n\r\nexport function mixMaxRegister({ id, email, name }) {\r\n  return function (dispatch) {\r\n    HTTP(\"post\", \"/public/create-new-mix-max-contact\", { id, email, name, groupName: \"Signed Up Users\" });\r\n  };\r\n}\r\n","import { HTTP } from \"../configs\";\r\nimport { setExplicit, setFavorites } from \"./dispatch\";\r\nimport { get } from \"lodash\";\r\nimport { notification } from \"antd\";\r\n\r\n// Toggle Station Favorite\r\nexport function toggleFavorite({ stationId, favorites }) {\r\n  return function (dispatch) {\r\n    return new Promise(function (resolve) {\r\n      // Return if required data missing\r\n      if (!stationId || !favorites) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/toggleFavorite/\", { stationId })\r\n        .then((response) => {\r\n          let station = get(response, \"data.data.station\", {});\r\n          let type = get(response, \"data.data.type\", {});\r\n          let newFavorites = [...favorites];\r\n\r\n          if (type === \"remove\") {\r\n            for (let i = 0; i < newFavorites.length; i++) if (newFavorites[i]._id === station) newFavorites.splice(i, 1);\r\n            notification.success({ message: \"Removed Favorite\", placement: \"bottomLeft\" });\r\n          } else {\r\n            newFavorites.push(station);\r\n            notification.success({ message: \"Added Favorite\", placement: \"bottomLeft\" });\r\n          }\r\n\r\n          // Set favorites\r\n          dispatch(setFavorites(newFavorites));\r\n\r\n          resolve(true);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Caught toggleFavorite error: \", error);\r\n          resolve(true);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// Toggle Explicit\r\nexport function toggleExplicit({ currentTrack }) {\r\n  return function (dispatch, getState) {\r\n    return new Promise(function (resolve) {\r\n      // Return if required data missing\r\n      if (!currentTrack) return resolve(false);\r\n\r\n      let previousExplicitState = get(getState(), \"auth.location.explicitAllowed\", false);\r\n      HTTP(\"post\", \"/auth/toggleExplicit/\", { currentTrack })\r\n        .then((response) => {\r\n          let data = get(response, \"data.data\", {});\r\n          let explicitAllowed = get(data, \"explicitAllowed\", false);\r\n          explicitAllowed === true ? notification.success({ message: \"Explicit Filter On\", description: \"Ambii will prevent explicit songs from streaming\", placement: \"bottomLeft\" }) : notification.success({ message: \"Explicit Filter Off\", description: \"Ambii will not prevent explicit songs from streaming\", placement: \"bottomLeft\" });\r\n          dispatch(setExplicit(explicitAllowed)); // Set location data\r\n          resolve(true);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Caught toggleFavorite error: \", error);\r\n          resolve(previousExplicitState);\r\n        });\r\n    });\r\n  };\r\n}\r\n","import { HTTP } from \"../configs\";\r\nimport { setStation, setCurrentTrack, setTrackNumber, setPublicStationList, setTrackSchedule, setTrackMap, setSchedule } from \"./dispatch\";\r\nimport { get } from \"lodash\";\r\nimport { objArrayToMap } from \"../util\";\r\nimport { notification } from \"antd\";\r\n\r\nexport function getStations() {\r\n  return function (dispatch) {\r\n    return new Promise((resolve, reject) => {\r\n      HTTP(\"get\", \"/api/getStations\")\r\n        .then((res) => {\r\n          let data = get(res, \"data.data\", {});\r\n          let filteredData = { eraList: [], genreList: [], moodList: [], tempoList: [], playlistList: [] };\r\n          get(data, \"playlistList\", []).forEach((station) => {\r\n            filteredData.playlistList.push(station);\r\n          });\r\n          dispatch(setPublicStationList(filteredData));\r\n          resolve(filteredData);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"getStations error in action \", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function getStationDetails(stationId) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!stationId) return resolve(false);\r\n      HTTP(\"get\", \"/api/getStation/\" + stationId)\r\n        .then((res) => {\r\n          resolve(get(res, \"data.data\", {}));\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"getStationDetails error: \", err.response);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function assignStation(stationId) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve, reject) => {\r\n      // Return if required data missing\r\n      if (!stationId) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/assignStation/\" + stationId)\r\n        .then((response) => {\r\n          console.log(\"assignStation: \", response);\r\n          let data = get(response, \"data.data\", false);\r\n          let station = get(data, \"station\", false);\r\n          let trackSchedule = get(data, \"trackSchedule\", false);\r\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\r\n          let currentTrack = get(data, \"currentTrack\", false);\r\n          let currentTrackNumber = get(data, \"currentTrackNumber\", false);\r\n\r\n          dispatch(setSchedule(null)); // Set schedule to null, since we've assigned a single station\r\n          if (station) dispatch(setStation(station));\r\n          if (trackSchedule) dispatch(setTrackSchedule(trackSchedule));\r\n          if (trackMap) dispatch(setTrackMap(trackMap));\r\n          if (currentTrack) dispatch(setCurrentTrack(currentTrack));\r\n          if (currentTrackNumber) dispatch(setTrackNumber(currentTrackNumber));\r\n\r\n          notification.success({ message: \"Station Assigned\", placement: \"bottomLeft\" });\r\n          resolve(data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"Error :\", err);\r\n          reject(err.response);\r\n        });\r\n    });\r\n  };\r\n}\r\n","import { HTTP } from \"../configs\";\r\nimport { notification } from \"antd\";\r\nimport { setSchedule, setActiveSchedule, setLocationSchedules, setStation, setTrackMap, setTrackSchedule, setCurrentTrack, setTrackNumber } from \"./dispatch\";\r\nimport { get } from \"lodash\";\r\nimport { objArrayToMap } from \"../util\";\r\n\r\n// Creates a new schedule\r\nexport function createSchedule() {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      HTTP(\"post\", \"/auth/createSchedule\")\r\n        .then((response) => {\r\n          console.log(\"Create Schedule Res!\", response);\r\n          resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"createSchedule error\", error.response);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not create schedule!\"), placement: \"bottomLeft\" });\r\n          // message.error();\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// Gets a specific schedule\r\nexport function getSchedule(scheduleId) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      console.log(\"hit getschedule: \", scheduleId);\r\n      HTTP(\"post\", \"/auth/getSchedule/\" + scheduleId)\r\n        .then((response) => {\r\n          console.log(\"Get Schedule Res!\", response);\r\n          resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"getSchedule error\", error.response);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not find schedule!\"), placement: \"bottomLeft\" });\r\n          // message.error(get(error, \"response.message\", \"Could not find schedule!\"));\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// Sets a schedule as the active schedule to edit\r\nexport function editSchedule(scheduleId) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      dispatch(setActiveSchedule(scheduleId));\r\n      resolve(true);\r\n    });\r\n  };\r\n}\r\n\r\n// Save's a user's schedule\r\nexport function saveSchedule({ scheduleId, name, stations }) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!name || !stations) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/saveSchedule\", { scheduleId, name, stations })\r\n        .then((response) => {\r\n          let schedule = get(response, \"data\", {});\r\n          console.log(\"create playlist res in action \", response);\r\n          dispatch(setSchedule(schedule));\r\n          resolve(schedule);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"setSchedule error\", error.response);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not save schedule\"), placement: \"bottomLeft\" });\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// Gets user's schedules\r\nexport function getSchedules() {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      HTTP(\"get\", \"/auth/getSchedules\")\r\n        .then((res) => {\r\n          console.log(\"getSchedules res: \", res);\r\n          let data = get(res, \"data.data.schedules\", []);\r\n          dispatch(setLocationSchedules(data));\r\n          resolve(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"getSchedules error\", err.response);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// Assigns a schedule (sets schedule & station)\r\nexport function assignSchedule(scheduleId) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      if (!scheduleId) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/assignSchedule/\" + scheduleId)\r\n        .then((response) => {\r\n          console.log(\"assignSchedule: \", response);\r\n          let data = get(response, \"data.data\", false);\r\n          let schedule = get(data, \"schedule\", false);\r\n          let station = get(data, \"station\", false);\r\n          let trackSchedule = get(data, \"trackSchedule\", false);\r\n          let trackMap = objArrayToMap(get(trackSchedule, \"queue\", []), \"isrc\");\r\n          let currentTrack = get(data, \"currentTrack\", false);\r\n          let currentTrackNumber = get(data, \"currentTrackNumber\", false);\r\n\r\n          if (data) {\r\n            if (schedule) dispatch(setSchedule(schedule));\r\n            if (station) dispatch(setStation(station));\r\n            if (trackSchedule) dispatch(setTrackSchedule(trackSchedule));\r\n            if (trackMap) dispatch(setTrackMap(trackMap));\r\n            if (currentTrack) dispatch(setCurrentTrack(currentTrack));\r\n            if (currentTrackNumber) dispatch(setTrackNumber(currentTrackNumber));\r\n            notification.success({ message: \"Schedule Assigned\", placement: \"bottomLeft\" });\r\n          } else notification.info({ message: \"Schedule is already active!\", placement: \"bottomLeft\" });\r\n          resolve(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"assignSchedule error:\", err);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// Deletes a schedule\r\nexport function deleteSchedule({ scheduleId }) {\r\n  return function (dispatch, getState) {\r\n    return new Promise((resolve) => {\r\n      if (!scheduleId) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/deleteSchedule/\" + scheduleId)\r\n        .then((response) => {\r\n          let deletedSchedule = get(response, \"data.data._id\", null);\r\n          if (deletedSchedule) {\r\n            let schedules = [...get(getState(), \"playlists.schedules\", [])];\r\n\r\n            // Remove deleted schedule from client\r\n            for (let i = 0; i < schedules.length; i++) if (get(schedules[i], \"_id\", \"\") === deletedSchedule) schedules.splice(i, 1);\r\n\r\n            dispatch(setLocationSchedules(schedules));\r\n            notification.success({ message: \"Schedule Deleted\", placement: \"bottomLeft\" });\r\n          }\r\n          resolve(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"deleteSchedule error:\", err);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n","import { HTTP } from \"../configs\";\r\nimport { setInStoreMessages } from \"./dispatch\";\r\nimport { get } from \"lodash\";\r\nimport { notification } from \"antd\";\r\n\r\nexport function getMessages() {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      HTTP(\"post\", \"/auth/listMessages\")\r\n        .then((response) => {\r\n          console.log(\"getMessages res\", response);\r\n          dispatch(setInStoreMessages(get(response, \"data.data\", [])));\r\n          resolve(true);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"getMessages error\", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// API request for creating a message preview\r\nexport function createPreviewMessage({ voice, language, message, speed, hash, messageId }) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!hash) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/createPreviewMessage\", { voice, language, message, speed, hash, messageId })\r\n        .then((response) => {\r\n          resolve(get(response, \"data\", false));\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"createPreviewMessage error: \", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// API request for creating a message\r\nexport function createMessage({ title, voice, language, message, speed, frequency, savedPreviews, hash }) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!title || !message) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/createMessage\", { title, voice, language, message, speed, frequency, savedPreviews, hash })\r\n        .then((response) => {\r\n          resolve(get(response, \"data\", false));\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"createMessage error: \", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// API request for editing an existing message\r\nexport function editMessage({ messageId, title, voice, language, message, speed, frequency, savedPreviews, hash }) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!title || !message) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/editMessage\", { messageId, title, voice, language, message, speed, frequency, savedPreviews, hash })\r\n        .then((response) => {\r\n          resolve(get(response, \"data\", false));\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"editMessage error: \", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// API request for deleting a message\r\nexport function deleteMessage(id) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!id) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/deleteMessagingFile\", { id })\r\n        .then((response) => {\r\n          resolve(get(response, \"data\", false));\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"deleteMessage error: \", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// API request for updating a message's frequency\r\nexport function updateFrequency({ id, frequency }) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      if (!id || !frequency) return resolve(false);\r\n\r\n      HTTP(\"post\", \"/auth/changeMessagingFileFrequency\", { id, frequency })\r\n        .then((response) => {\r\n          resolve(get(response, \"data\", false));\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"updateFrequency error: \", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\n// API request for retrieving Google text-to-speech voice options\r\nexport function getVoiceOptions() {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      // Return if required data missing\r\n      HTTP(\"get\", \"/api/listVoices\", null)\r\n        .then((response) => {\r\n          resolve(get(response, \"data.data\", []));\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"getVoiceData error: \", error);\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function updateTheUploadedISM(data) {\r\n  return function (dispatch) {\r\n    return new Promise((resolve) => {\r\n      HTTP(\"post\", \"/auth/updateUploadedISM\", data)\r\n        .then((response) => {\r\n          return resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          notification.error({ message: \"Update Failed\", placement: \"bottomLeft\" });\r\n        });\r\n    });\r\n  };\r\n}\r\n","import { socket, socketChannels } from \"../configs\";\r\nimport { notification } from \"antd\";\r\n\r\nexport function startSockets() {\r\n  return function (dispatch) {\r\n    dispatch(onSocketConnect());\r\n    dispatch(onSocketDisconnect());\r\n    dispatch(onSocketReconnect());\r\n  };\r\n}\r\n\r\nexport function onSocketConnect() {\r\n  return function (dispatch) {\r\n    socket.on(\"connect\", function () {\r\n      console.log(\"Socket Connected\");\r\n    });\r\n  };\r\n}\r\n\r\nexport function onSocketDisconnect() {\r\n  return function (dispatch) {\r\n    socket.on(socketChannels.disconnect, function () {\r\n      console.log(\"Socket Disconnected\");\r\n      notification.warn({ message: \"Connection Lost\", placement: \"bottomLeft\" });\r\n    });\r\n  };\r\n}\r\n\r\nexport function onSocketReconnect() {\r\n  return function (dispatch) {\r\n    socket.on(socketChannels.reconnect, function () {\r\n      console.log(\"Socket Reconnected\");\r\n      notification.success({ message: \"Reconnected\", placement: \"bottomLeft\" });\r\n    });\r\n  };\r\n}\r\n","import React from \"react\";\nimport { Icon } from \"antd\";\n\nconst AntSpinner = <Icon type=\"loading\" style={{ fontSize: 24, color: \"#D04283\" }} spin />;\n\nexport default AntSpinner;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Spin } from \"antd\";\nimport AntSpinner from \"../../components/antSpinner\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport \"./index.scss\";\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    if (this.props.auth0.isAuthenticated && this.props.auth.user) {\n      this.props.history.push(\"/nowPlaying\");\n    }\n    return (\n      <div style={{ width: \"100%\", height: \"100%\", position: \"fixed\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <Spin indicator={AntSpinner} spinning={true} />\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToPropsRouter(state) {\n  return {\n    auth: state.auth,\n  };\n}\n\nexport default connect(mapStateToPropsRouter, mapDispatchToProps)(withRouter(withAuth0(Main)));\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Geosuggest from \"react-geosuggest\";\r\nimport { Form, message, notification } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport \"../index.scss\";\r\n\r\nconst FormItem = Form.Item;\r\nconst google = window.google;\r\n\r\nclass AutoSearchForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      address: \"\",\r\n      userData: {\r\n        businessName: \"\",\r\n        addressLineOne: \"\",\r\n        addressLineTwo: \"\",\r\n        city: \"\",\r\n        state: \"\",\r\n        postalCode: \"\",\r\n        cords: [],\r\n      },\r\n      myLocation: { lng: 0, lat: 0 },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getLocation();\r\n  }\r\n\r\n  getLocation = async () => {\r\n    const currentLocation = await navigator.geolocation;\r\n    currentLocation.getCurrentPosition((res) => {\r\n      if (res.coords) {\r\n        this.setState({\r\n          myLocation: {\r\n            lng: res.coords.longitude,\r\n            lat: res.coords.latitude,\r\n          },\r\n        });\r\n      } else {\r\n        notification.info({ message: \"location permission not granted\", placement: \"bottomLeft\" });\r\n      }\r\n    });\r\n  };\r\n\r\n  onSuggestSelect = async (suggest) => {\r\n    let addressLineOne, addressLineTwo, city, state, postalCode, country;\r\n    if (suggest && suggest.gmaps) {\r\n      let address = suggest.gmaps.address_components;\r\n      address.forEach((component) => {\r\n        let types = component.types;\r\n        if (types.indexOf(\"locality\") > -1) city = component.long_name;\r\n        if (types.indexOf(\"sublocality_level_1\") > -1 || types.indexOf(\"route\") > -1 || types.indexOf(\"administrative_area_level_2\") > -1) addressLineOne = component.long_name;\r\n        if (types.indexOf(\"sublocality_level_2\") > -1) addressLineTwo = component.long_name;\r\n        if (types.indexOf(\"administrative_area_level_1\") > -1) state = component.long_name;\r\n        if (types.indexOf(\"postal_code\") > -1) postalCode = component.long_name;\r\n        if (types.indexOf(\"country\") > -1 || types.indexOf(\"political\") > -1) country = component.long_name;\r\n      });\r\n\r\n      let timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n      let lng = get(suggest, \"location.lng\", \"\");\r\n      let lat = get(suggest, \"location.lat\", \"\");\r\n\r\n      let userData = {\r\n        ...this.props.userData,\r\n        businessName: get(suggest, \"gmaps.name\", suggest.label),\r\n        addressLineOne,\r\n        addressLineTwo,\r\n        city,\r\n        state,\r\n        postalCode,\r\n        country,\r\n        timezone,\r\n        cords: [lng, lat],\r\n        companySearch: true,\r\n      };\r\n\r\n      this.setState({ userData }, () => {\r\n        if (get(this.state, \"userData.addressLineOne\", false) && get(this.state, \"userData.postalCode\", false) && get(this.state, \"userData.city\", false) && get(this.state, \"userData.state\", false) && get(this.state, \"userData.timezone\", false)) {\r\n          this.props.onSumbit(userData);\r\n        } else {\r\n          userData.missingData = true;\r\n          this.setState({ userData }, () => {\r\n            notification.error({ message: \"Some required data is missing. Please fill out the below fields.\", placement: \"bottomLeft\", duration: 5 });\r\n            this.props.onSumbit(userData);\r\n          });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { myLocation } = this.state;\r\n\r\n    return (\r\n      <Form className=\"auto-complete-form\">\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"userData\", {\r\n            rules: [{ required: true, message: \"Please input Company name or address.\" }],\r\n          })(<Geosuggest ref={(el) => (this._geoSuggest = el)} onChange={(e) => console.log(e)} placeholder=\"Ambii Inc. 123 Main St\" onSuggestSelect={this.onSuggestSelect} location={new google.maps.LatLng(myLocation.lat, myLocation.lng)} radius={20} country={\"us\"} />)}\r\n        </FormItem>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({}, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nconst WrappedApp = Form.create()(AutoSearchForm);\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Form, Input, Button, message, AutoComplete, notification } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { timezones, states } from \"../../../constants\";\r\nimport \"../index.scss\";\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass AddressForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      address: \"\",\r\n      dropdownError: false,\r\n      selectedTimezone: \"\",\r\n      timezoneData: {}, // Map to search through\r\n      timezones: [], // Masterlist of data\r\n      timezoneRes: [], // Results to show\r\n      selectedState: \"\",\r\n      states: [],\r\n      stateData: {},\r\n      statesRes: [],\r\n      userData: {\r\n        businessName: get(this.props, \"userData.businessName\", \"\"),\r\n        addressLineOne: get(this.props, \"userData.addressLineOne\", \"\"),\r\n        addressLineTwo: get(this.props, \"userData.addressLineTwo\", \"\"),\r\n        city: get(this.props, \"userData.city\", \"\"),\r\n        country: get(this.props, \"userData.country\", \"United States\"),\r\n        state: get(this.props, \"userData.state\", \"\"),\r\n        cords: get(this.props, \"userData.cords\", []),\r\n        postalCode: get(this.props, \"userData.postalCode\", \"\"),\r\n        timezone: get(this.props, \"userData.timezone\", \"\"),\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let timezoneRes = [];\r\n    let statesRes = [];\r\n    let keys = Object.keys(timezones);\r\n    keys.forEach((timezone) => {\r\n      timezoneRes.push(timezone);\r\n    });\r\n    let stateKeys = Object.keys(states);\r\n\r\n    stateKeys.forEach((state) => {\r\n      statesRes.push(state);\r\n    });\r\n    let timezoneRecommendation = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n    let selectedTimezone = timezoneRecommendation;\r\n    this.setState({ timezoneRes, selectedTimezone, statesRes });\r\n  }\r\n\r\n  checkIfValidTimezone(timezone) {\r\n    if (!timezone) return false;\r\n    else {\r\n      if (timezones[timezone]) return true;\r\n      else return false;\r\n    }\r\n  }\r\n  checkIfValidState(state) {\r\n    if (!state) return false;\r\n    else {\r\n      if (states[state]) return true;\r\n      else return false;\r\n    }\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    console.log(e);\r\n    //e.preventDefault();\r\n    this.props.form.validateFieldsAndScroll((err, values) => {\r\n      console.log(\"vals: \", values);\r\n      let validTimezone = this.checkIfValidTimezone(get(values, \"timezone\", \"\"));\r\n      let validState = this.checkIfValidState(get(values, \"state\", \"\"));\r\n      if (!err && validTimezone && validState) {\r\n        this.setState({ isLoading: true }, () => {\r\n          let userData = {\r\n            ...this.props.userData,\r\n            ...this.state.userData,\r\n            businessName: get(values, \"businessName\", \"\").toString(),\r\n            addressLineOne: get(values, \"addressLineOne\", \"\").toString(),\r\n            addressLineTwo: get(values, \"addressLineTwo\", \"\").toString(),\r\n            city: get(values, \"city\", \"\").toString(),\r\n            state: get(values, \"state\", \"\").toString(),\r\n            postalCode: get(values, \"postalCode\", \"\").toString(),\r\n            country: get(values, \"country\", \"United States\").toString(),\r\n            cords: get(values, \"cords\", []),\r\n            timezone: get(values, \"timezone\", Intl.DateTimeFormat().resolvedOptions().timeZone),\r\n          };\r\n\r\n          this.props.onSumbit(userData);\r\n        });\r\n      } else {\r\n        if (!validTimezone) notification.error({ message: \"Invalid timezone selection\", placement: \"bottomLeft\" });\r\n        if (!validState) notification.error({ message: \"Invalid state selection\", placement: \"bottomLeft\" });\r\n        else if (err) notification.error({ message: \"One or more fields has an error\", placement: \"bottomLeft\" });\r\n        else {\r\n          notification.error({ message: \"An error occurred\", placement: \"bottomLeft\" });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  onSearch = (searchText) => {\r\n    let keys = Object.keys(timezones);\r\n    let timezoneRes = keys.filter((s) => s.toLowerCase().includes(searchText.toLowerCase()));\r\n    this.setState({ selectedTimezone: searchText, timezoneRes: searchText.length <= 0 ? keys : timezoneRes });\r\n  };\r\n\r\n  onSearchState = (searchStateText) => {\r\n    let keys = Object.keys(states);\r\n    let statesRes = keys.filter((s) => s.toLowerCase().includes(searchStateText.toLowerCase()));\r\n    this.setState({ selectedState: searchStateText, statesRes: searchStateText.length <= 0 ? keys : statesRes });\r\n  };\r\n\r\n  onSelect = (value) => {\r\n    this.setState({ selectedTimezone: value });\r\n  };\r\n\r\n  onSelectState = (value) => {\r\n    this.setState({ state: value });\r\n  };\r\n\r\n  render() {\r\n    const { timezoneRes, selectedTimezone } = this.state;\r\n    const { getFieldDecorator } = this.props.form;\r\n\r\n    return (\r\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit}>\r\n        <p style={{ float: \"right\" }}>* Indicates a required field </p>\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"businessName\", {\r\n            rules: [{ required: true, message: \"Please input your company name\" }],\r\n            initialValue: this.state.userData.businessName,\r\n          })(\r\n            <Input\r\n              onPressEnter={() => {\r\n                this.onSubmit();\r\n              }}\r\n              placeholder=\"* Enter Company Name\"\r\n            />\r\n          )}\r\n        </FormItem>\r\n\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"addressLineOne\", {\r\n            rules: [{ required: true, message: \"Please input your Address\" }],\r\n            initialValue: this.state.userData.addressLineOne,\r\n          })(\r\n            <Input\r\n              onPressEnter={() => {\r\n                this.onSubmit();\r\n              }}\r\n              placeholder=\"* Enter Address Line 1\"\r\n            />\r\n          )}\r\n        </FormItem>\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"addressLineTwo\", {\r\n            initialValue: this.state.userData.addressLineTwo,\r\n          })(\r\n            <Input\r\n              onPressEnter={() => {\r\n                this.onSubmit();\r\n              }}\r\n              placeholder=\"Enter Address Line 2\"\r\n            />\r\n          )}\r\n        </FormItem>\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"city\", {\r\n            rules: [{ required: true, message: \"Please input City\" }],\r\n            initialValue: this.state.userData.city,\r\n          })(\r\n            <Input\r\n              onPressEnter={() => {\r\n                this.onSubmit();\r\n              }}\r\n              placeholder=\"* Enter City\"\r\n            />\r\n          )}\r\n        </FormItem>\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"state\", {\r\n            rules: [{ required: true, message: \"Please input your state\" }],\r\n            initialValue: this.state.userData.state,\r\n          })(<AutoComplete placeholder={\"* Enter State\"} value={this.state?.state} dataSource={this.state.statesRes} onSelect={(e) => this.onSelectState(e)} onSearch={(e) => this.onSearchState(e)} />)}\r\n        </FormItem>\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"postalCode\", {\r\n            rules: [{ required: true, message: \"Please input your Postal Code\" }],\r\n            initialValue: this.state.userData.postalCode,\r\n          })(\r\n            <Input\r\n              type=\"number\"\r\n              onPressEnter={() => {\r\n                this.onSubmit();\r\n              }}\r\n              placeholder=\"* Enter Postal Code\"\r\n            />\r\n          )}\r\n        </FormItem>\r\n        <FormItem className=\"form-item\">\r\n          {getFieldDecorator(\"timezone\", {\r\n            rules: [{ required: true, message: \"Please input your location's timezone\" }],\r\n            initialValue: selectedTimezone,\r\n          })(<AutoComplete placeholder={\"* Enter Location Timezone\"} dataSource={timezoneRes} style={{ width: \"100%\" }} onSelect={(e) => this.onSelect(e)} onSearch={(e) => this.onSearch(e)} />)}\r\n        </FormItem>\r\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={() => this.onSubmit()}>\r\n          Confirm Address\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({}, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nconst WrappedApp = Form.create()(AddressForm);\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\r\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Form, Input, Button, Select, Dropdown, Menu } from \"antd\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/pro-regular-svg-icons\";\nimport { get } from \"lodash\";\nimport \"antd/dist/antd.css\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\n\nclass CompanyInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businessType: \"Select Business Type\",\n      dropdownError: false,\n      countryCode: \"1\",\n    };\n  }\n\n  menu() {\n    return (\n      <Menu onClick={(e) => this.handleMenuClick(e)} id={\"company-info-dropdown-menu\"}>\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\n        <Menu.Item key=\"other\">Other</Menu.Item>\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\n        <Menu.Item key=\"school\">School</Menu.Item>\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\n      </Menu>\n    );\n  }\n\n  handleMenuClick(e) {\n    this.setState({ businessType: e.key, dropdownError: false });\n  }\n\n  // Standardizes the phone number\n  parsePhoneNumber(phoneNumber) {\n    return phoneNumber.replace(/\\D/g, \"\");\n  }\n\n  onSubmit = (e) => {\n    const { countryCode, businessType } = this.state;\n    e.preventDefault();\n    let businessSelected = businessType.toLowerCase() !== \"Select Business Type\".toLowerCase();\n    let userType = get(this.props, \"userData.userType\", \"company\");\n\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      let errors = Object.keys(err || []);\n      if (errors.length <= 0 && (userType === \"company\" ? businessSelected : true)) {\n        let userData = {\n          ...this.props.userData,\n          firstName: values.firstName ?? \"\",\n          lastName: values.lastName ?? \"\",\n          phoneNumber: countryCode.concat(this.parsePhoneNumber(get(values, \"phone\", \"234567890\"))),\n          businessType: userType === \"individual\" ? \"other\" : businessType,\n        };\n\n        if (userType === \"individual\") {\n          if (!get(this.props, \"userData.name\", null)) userData.name = \"Individual\";\n          if (!get(this.props, \"userData.addressLineOne\", null)) userData.addressLineOne = \"\";\n          if (!get(this.props, \"userData.addressLineTwo\", null)) userData.addressLineTwo = \"\";\n          if (!get(this.props, \"userData.city\", null)) userData.city = \"\";\n          if (!get(this.props, \"userData.state\", null)) userData.state = \"\";\n          if (!get(this.props, \"userData.postalCode\", null)) userData.postalCode = \"\";\n          if (!get(this.props, \"userData.timezone\", null)) userData.timezone = \"\";\n          if (!get(this.props, \"userData.cords\", null)) userData.cords = [];\n        }\n\n        this.props.onSumbit(userData);\n      } else {\n        if (!businessSelected) this.setState({ dropdownError: true });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { businessType, dropdownError, countryCode } = this.state;\n\n    const prefixSelector = getFieldDecorator(\"prefix\", { initialValue: countryCode })(\n      <Select style={{ width: 70, borderRight: \"1px solid #d9d9d9\" }}>\n        <Option value=\"1\">+1</Option>\n      </Select>\n    );\n\n    return (\n      <Form hideRequiredMark={true} onSubmit={this.onSubmit} className={\"company-info-form\"}>\n        {get(this.props, \"userData.userType\", \"company\") === \"company\" && (\n          <>\n            <Form.Item className=\"form-item no-margin\" label={\"First Name:\"}>\n              {getFieldDecorator(\"firstName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your first name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter First Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item className=\"form-item no-margin\" label={\"Last Name:\"}>\n              {getFieldDecorator(\"lastName\", {\n                rules: [\n                  {\n                    type: \"string\",\n                    message: \"The input is invalid!\",\n                  },\n                  {\n                    required: true,\n                    message: \"Please input your last name!\",\n                  },\n                ],\n              })(\n                <Input\n                  onPressEnter={(e) => {\n                    this.onSubmit(e);\n                  }}\n                  placeholder=\"* Enter Last Name\"\n                />\n              )}\n            </Form.Item>\n\n            <Form.Item label={\"Phone\"}>\n              {getFieldDecorator(\"phone\", {\n                rules: [{ required: true, message: \"Please input your phone number!\", min: 10, pattern: /^[0-9 ()-]*$/ }],\n              })(<Input addonBefore={prefixSelector} placeholder={\"Phone Number\"} />)}\n            </Form.Item>\n\n            <Form.Item label={\"Type\"}>\n              <Dropdown overlay={this.menu()} trigger={[\"click\"]} className={dropdownError ? \"button-error\" : \"\"}>\n                <Button style={{ textTransform: \"capitalize\" }}>\n                  {businessType} <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"5px\" }} />\n                </Button>\n              </Dropdown>\n            </Form.Item>\n          </>\n        )}\n\n        <Button style={{ float: \"right\" }} type=\"primary\" onClick={(e) => this.onSubmit(e)}>\n          Continue\n        </Button>\n      </Form>\n    );\n  }\n}\n\n/* Map Actions to Props */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({}, dispatch),\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nconst WrappedApp = Form.create()(CompanyInfo);\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { signUp, mixMaxRegister } from \"../../../actions\";\r\nimport AutoSearchForm from \"../autoComplete\";\r\nimport AddressForm from \"../addressForm\";\r\nimport CompanyDetails from \"../companyInfo\";\r\nimport { Form, Steps, Button, message, Spin, notification } from \"antd\";\r\nimport { API_URL, trackScreen, logEvent } from \"../../../configs\";\r\nimport { get } from \"lodash\";\r\nimport { categories, actions, labels } from \"../../../constants\";\r\nimport AntSpinner from \"../../../components/antSpinner\";\r\nimport \"../index.scss\";\r\n\r\nconst { Step } = Steps;\r\nlet companySteps = [{ key: \"Company\" }, { key: \"Contact Info\" }];\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      current: 0,\r\n      companySearch: true,\r\n      steps: companySteps,\r\n      userData: {},\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    trackScreen();\r\n  }\r\n\r\n  next = (userData) => {\r\n    if (userData) {\r\n      let missingData = get(userData, \"missingData\", false);\r\n      if (missingData) delete userData[\"missingData\"];\r\n\r\n      this.setState({ current: missingData ? this.state.current : this.state.current + 1, userData, steps: companySteps, companySearch: missingData ? false : this.state.companySearch });\r\n    }\r\n\r\n    if (this.state.current === this.state.steps.length - 1) {\r\n      this.signUpSubmit(userData);\r\n    }\r\n  };\r\n\r\n  signUpSubmit = (userData) => {\r\n    this.setState({ isLoading: true }, () => {\r\n      if (userData) {\r\n        delete userData[\"missingData\"]; // Remove from final object\r\n        delete userData[\"companySearch\"]; // Remove from final object\r\n\r\n        this.props.actions\r\n          .signUp(userData)\r\n          .then((res) => {\r\n            this.props.actions.mixMaxRegister({ id: get(res, \"data.user._id\", \"\"), email: get(userData, \"email\", \"\"), name: get(userData, \"firstName\", \"Ambii\") + \" \" + get(userData, \"lastName\", \"User\") });\r\n            this.setState({ isLoading: false });\r\n            if (res.success) {\r\n              logEvent({ category: categories.welcome, action: actions.signup, value: get(userData, \"email\", \"\") });\r\n              this.props.history.push(\"/\");\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            logEvent({ category: categories.welcome, action: actions.signup, value: err, label: labels.error });\r\n            this.setState({ isLoading: false, current: 0 });\r\n            // message.error(get(err, \"userData.message\", \"Something went wrong. Please try again\"));\r\n            notification.error({ message: get(err, \"userData.message\", \"Something went wrong. Please try again\"), placement: \"bottomLeft\" });\r\n          });\r\n      } else {\r\n        this.setState({ isLoading: false });\r\n        // message.error(\"Fields are missing\");\r\n        notification.error({ message: \"Fields are missing\", placement: \"bottomLeft\" });\r\n      }\r\n    });\r\n  };\r\n\r\n  prev = () => {\r\n    this.setState({ current: this.state.current - 1 });\r\n  };\r\n\r\n  // Quick way for devs to signup w/o needing to fill PaymentForm\r\n  quickDevSignup() {\r\n    let userdata = { businessName: \"Some Test Location\", addressLineOne: \"Santa Clara County\", city: \"Mountain View\", state: \"California\", postalCode: \"94043\", country: \"United States\", timezone: \"America/Los_Angeles\", cords: [-122.096419, 37.4218], firstName: \"Test\", lastName: \"User\", phoneNumber: \"1234567890\", businessType: \"restaurant\" };\r\n    this.signUpSubmit(userdata);\r\n  }\r\n\r\n  render() {\r\n    const { current, steps, userData, isLoading, companySearch } = this.state;\r\n    let devMode = API_URL.includes(\"localhost\") || API_URL.includes(\"-dev\");\r\n\r\n    return (\r\n      <Spin indicator={AntSpinner} spinning={isLoading}>\r\n        <div className={\"signup-modal-subtitle\"}>{\"Let's set up your first location!\"}</div>\r\n        <div className=\"signUp-container\">\r\n          {current >= 0 && (\r\n            <Steps className=\"steps\" progressDot current={current} style={{ textAlign: \"justify\" }}>\r\n              {steps.map((item) => (\r\n                <Step key={item.key} title={item.key} />\r\n              ))}\r\n            </Steps>\r\n          )}\r\n          {\r\n            {\r\n              0: companySearch ? <div className={\"signup-modal-subsubtitle\"}>{\"Please enter business name or address\"}</div> : null,\r\n              1: <div className={\"signup-modal-subsubtitle\"}>{\"Please enter your contact information\"}</div>,\r\n            }[current]\r\n          }\r\n          <div className=\"form_container\">\r\n            {\r\n              {\r\n                0: companySearch ? <AutoSearchForm onSumbit={this.next} userData={userData} /> : <AddressForm onSumbit={this.next} userData={userData} />,\r\n                1: <CompanyDetails onSumbit={this.next} userData={userData} />,\r\n              }[current]\r\n            }\r\n            <div className={\"button_row\"} style={{ float: \"right\" }}>\r\n              {!isLoading && current > 0 && (\r\n                <Button onClick={() => this.prev()} style={{ marginRight: \"10px\" }}>\r\n                  Previous\r\n                </Button>\r\n              )}\r\n              {devMode ? <Button onClick={() => this.quickDevSignup()}>Dev Signup</Button> : null}\r\n              {companySearch && current === 0 ? <Button onClick={() => this.setState({ companySearch: false })}>Manually Enter Company</Button> : null}\r\n              {!companySearch && current === 0 ? (\r\n                <Button onClick={() => this.setState({ companySearch: true })} style={{ marginRight: \"10px\" }}>\r\n                  Search Company\r\n                </Button>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({ signUp, mixMaxRegister }, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nconst WrappedApp = Form.create()(Login);\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WrappedApp));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Form, Input, Spin, Button, notification } from \"antd\";\r\nimport { trackScreen } from \"../../configs\";\r\nimport AntSpinner from \"../../components/antSpinner\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport \"./index.scss\";\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      isLogin: false,\r\n      userData: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    trackScreen();\r\n    if (localStorage.getItem(\"ambii_auth_jwt\")) this.props.history.push(\"/nowPlaying\");\r\n  }\r\n\r\n  _onLogin = () => {\r\n    this.props.form.validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n        this.setState({ isLoading: true }, () => {\r\n          let userData = {\r\n            email: values.email,\r\n            password: values.password,\r\n          };\r\n          // this.props.actions\r\n          //   .login(userData)\r\n          //   .then(() => {\r\n          //     logEvent({ category: categories.welcome, action: actions.login });\r\n          //     this.setState({ isLoading: false });\r\n          //     this.props.history.push(\"/nowPlaying\");\r\n          //   })\r\n          //   .catch((err) => {\r\n          //     logEvent({ category: categories.welcome, action: actions.failedLogin });\r\n          //     message.error(get(err, \"message\", \"invalid email password\"));\r\n          //     this.setState({ isLoading: false });\r\n          //   });\r\n        });\r\n      } else {\r\n        notification.error({ message: \"Fields Required\", placement: \"bottomLeft\" });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n\r\n    return (\r\n      <Spin indicator={AntSpinner} spinning={this.state.isLoading}>\r\n        <div className=\"form-container\">\r\n          <Form className=\"form-wrapper\" hideRequiredMark={true} onSubmit={this._onLogin}>\r\n            <FormItem className=\"form-item no-margin\">\r\n              {getFieldDecorator(\"email\", {\r\n                rules: [\r\n                  { type: \"email\", message: \"The input is not a valid Email!\" },\r\n                  { required: true, message: \"Please input your Email!\" },\r\n                ],\r\n              })(\r\n                <Input\r\n                  onPressEnter={() => {\r\n                    this._onLogin();\r\n                  }}\r\n                  placeholder=\"Email\"\r\n                />\r\n              )}\r\n            </FormItem>\r\n\r\n            <FormItem\r\n              // label=\"Password\"\r\n              className=\"form-item\"\r\n            >\r\n              {getFieldDecorator(\"password\", {\r\n                rules: [{ required: true, message: \"Please input your password!\" }],\r\n              })(\r\n                <Input.Password\r\n                  onPressEnter={() => {\r\n                    this._onLogin();\r\n                  }}\r\n                  placeholder=\"Password\"\r\n                />\r\n              )}\r\n            </FormItem>\r\n            <Button className=\"login-btn\" block type=\"primary\" onClick={() => this.props.auth0.loginWithRedirect()}>\r\n              Login\r\n            </Button>\r\n          </Form>\r\n        </div>\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({}, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nconst WrappedApp = Form.create()(Login);\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(WrappedApp)));\r\n","var _style, _linearGradient, _path, _linearGradient2, _path2, _linearGradient3, _path3, _linearGradient4, _path4;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgGooglePlayStore = function SvgGooglePlayStore(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    viewBox: \"0 0 408 466.9\",\n    width: 2185,\n    height: 2500,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", null, \".st0{fill:url(#SVGID_1_)}.st1{fill:url(#SVGID_2_)}.st2{fill:url(#SVGID_3_)}.st3{fill:url(#SVGID_4_)}\")), _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_1_\",\n    gradientUnits: \"userSpaceOnUse\",\n    y1: 112.094,\n    x2: 261.746,\n    y2: 112.094\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#63be6b\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.506,\n    stopColor: \"#5bbc6a\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#4ab96a\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M261.7 142.3L15 1.3C11.9-.5 8-.4 5 1.4c-3.1 1.8-5 5-5 8.6 0 0 .1 13 .2 34.4l179.7 179.7 81.8-81.8z\"\n  })), _linearGradient2 || (_linearGradient2 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_2_\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 0.152,\n    y1: 223.393,\n    x2: 179.896,\n    y2: 223.393\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#3ec6f2\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#45afe3\"\n  }))), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M.2 44.4C.5 121.6 1.4 309 1.8 402.3L180 224.1.2 44.4z\"\n  })), _linearGradient3 || (_linearGradient3 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_3_\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 179.896,\n    y1: 229.464,\n    x2: 407.976,\n    y2: 229.464\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#faa51a\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.387,\n    stopColor: \"#fab716\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.741,\n    stopColor: \"#fac412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#fac80f\"\n  }))), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st2\",\n    d: \"M402.9 223l-141.2-80.7-81.9 81.8 92.4 92.4L403 240.3c3.1-1.8 5-5.1 5-8.6 0-3.6-2-6.9-5.1-8.7z\"\n  })), _linearGradient4 || (_linearGradient4 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"SVGID_4_\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 1.744,\n    y1: 345.521,\n    x2: 272.296,\n    y2: 345.521\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#ec3b50\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#e7515b\"\n  }))), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st3\",\n    d: \"M1.7 402.3c.2 33.3.3 54.6.3 54.6 0 3.6 1.9 6.9 5 8.6 3.1 1.8 6.9 1.8 10 0l255.3-148.9-92.4-92.4L1.7 402.3z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGooglePlayStore, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/google-play-store.6fec8523.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport \"./index.scss\";\r\n\r\nconst PairCode = ({ storeCode, fontSize }) => (\r\n  <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n    {storeCode\r\n      ? storeCode.split(\"\").map((char, index) => {\r\n          return (\r\n            <div key={index} className={\"storeCode-character\"}>\r\n              <p style={{ fontWeight: \"bold\", color: \"#2A2A2A\", fontSize: fontSize || \"28px\", margin: \"0\" }}>{char}</p>\r\n            </div>\r\n          );\r\n        })\r\n      : null}\r\n  </div>\r\n);\r\n\r\nexport default PairCode;\r\n","import Auth0Lock from \"auth0-lock\";\r\nimport { AUTH0_KEY } from \"../configs\";\r\n\r\nexport default class Auth0Helper {\r\n  static initialize() {\r\n    window.lock = new Auth0Lock(AUTH0_KEY, \"auth.ambii.io\", {\r\n      configurationBaseUrl: \"https://ambii.us.auth0.com\",\r\n      autoclose: true,\r\n      autofocus: true,\r\n      closable: true,\r\n      allowShowPassword: true,\r\n      auth: {\r\n        redirectUrl: window.location.origin,\r\n        responseType: \"id_token\",\r\n        sso: true,\r\n      },\r\n      theme: {\r\n        logo: `${window.location.origin}/icon.png`,\r\n        primaryColor: \"#d04283\",\r\n      },\r\n      languageDictionary: {\r\n        title: \"\",\r\n        signUpTitle: \"\",\r\n        forgotPasswordTitle: \"\",\r\n      },\r\n      additionalSignUpFields: [\r\n        // Save this in case we need it later.\r\n        //\r\n        // {\r\n        //   name: \"given_name\",\r\n        //   icon: iconToDataURI(faIdBadge),\r\n        //   placeholder: \"First Name\",\r\n        //   storage: \"root\",\r\n        //   validator: function (txt) {\r\n        //     return {\r\n        //       valid: txt.length > 0 && txt.length < 100,\r\n        //       hint: \"The first name field is required\", // optional\r\n        //     };\r\n        //   },\r\n        // },\r\n      ],\r\n    });\r\n  }\r\n\r\n  static getLock() {\r\n    return window.lock;\r\n  }\r\n\r\n  static isLoggedIn() {\r\n    return localStorage.getItem(\"ambii_auth_jwt\");\r\n  }\r\n\r\n  static login() {\r\n    window.lock.show();\r\n  }\r\n\r\n  static signUp() {\r\n    window.lock.show({ initialScreen: \"signUp\" });\r\n  }\r\n\r\n  static logout() {\r\n    localStorage.removeItem(\"ambii_auth_jwt\");\r\n    window.lock.logout();\r\n  }\r\n}\r\n","export default class MobileAppCommunicator {\n  static inApp() {\n    return window.inApp;\n  }\n\n  static send(endpoint, data) {\n    if (window.ReactNativeWebView) {\n      window.ReactNativeWebView.postMessage(\n        JSON.stringify({\n          data: data,\n          endpoint: endpoint,\n        })\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\r\nimport { Layout, Spin, Button, notification } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { getStationDetails, assignStation, toggleFavorite } from \"../../actions\";\r\nimport { logEvent } from \"../../configs\";\r\nimport { categories, actions } from \"../../constants\";\r\nimport { hashCode, checkForMobile } from \"../../util\";\r\nimport { get, isEqual } from \"lodash\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlayCircle } from \"@fortawesome/pro-regular-svg-icons\";\r\nimport { faHeart } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport AntSpinner from \"../antSpinner\";\r\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\r\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\r\nimport { message } from \"antd\";\r\n\r\nconst { Content } = Layout;\r\n\r\nlet resizeListener = null;\r\n\r\nclass StationDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      station: {},\r\n      isBackgroundImage: false,\r\n      explicit: false,\r\n      startStationDisabled: false,\r\n      favoriteDisabled: false,\r\n      isMobile: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.checkForMobile();\r\n\r\n    // Scrolls us to top of page when page loads\r\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\r\n    // Listens for window resize\r\n    resizeListener = window.addEventListener(\"resize\", () => {\r\n      this.checkForMobile();\r\n    });\r\n\r\n    this.setStationDetails();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    try {\r\n      window.removeEventListener(\"resize\", resizeListener);\r\n      resizeListener = null;\r\n    } catch (err) {\r\n      console.log(\"error while unmounting header: \", err);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(get(this.props, \"playlistId\", null), get(prevProps, \"playlistId\", null))) {\r\n      this.setStationDetails();\r\n    }\r\n  }\r\n\r\n  async setStationDetails() {\r\n    this.setState({ isLoading: true }, async () => {\r\n      const stationId = get(this.props, \"match.params.id\", null) || get(this.props, \"playlistId\", null);\r\n      if (stationId) {\r\n        let result = await this.props.actions.getStationDetails(stationId);\r\n        let explicit = get(result, \"explicit\", false);\r\n        this.setState({ isLoading: false, explicit, station: result });\r\n      } else this.setState({ isLoading: false });\r\n    });\r\n  }\r\n\r\n  assignStation = () => {\r\n    const { location, close, history, actions, inApp } = this.props;\r\n    const { station } = this.state;\r\n\r\n    if (!Auth0Helper.isLoggedIn()) {\r\n      Auth0Helper.signUp();\r\n      return;\r\n    }\r\n\r\n    this.setState({ startStationDisabled: true }, () => {\r\n      actions\r\n        .assignStation(station._id)\r\n        .then((res) => {\r\n          this.setState({ startStationDisabled: false }, () => {\r\n            logEvent({ category: categories.discover, action: actions.startStation, value: get(station, \"_id\", \"Error\") });\r\n\r\n            if (inApp) {\r\n              // Things to do if we're using Mobile App\r\n              let myLocation = get(this.props, \"myLocation\", null);\r\n              let trackSchedule = get(res, \"trackSchedule.queue\", null); // Grab data directly from the server res, so no async issues\r\n\r\n              close(); // close the modal\r\n\r\n              // Sends needed data to player for instant station swap\r\n              if (myLocation && trackSchedule) MobileAppCommunicator.send(\"newStation\", { location: myLocation, trackSchedule });\r\n              else MobileAppCommunicator.send(\"newStation\", null);\r\n            }\r\n\r\n            if (get(location, \"pathname\", \"\").toLowerCase().includes(\"nowplaying\")) close();\r\n            else {\r\n              if (inApp) history.push(\"/discover\");\r\n              // If we're in-app, put user back to discover page\r\n              else history.push(\"/nowPlaying\", { isBack: true }); // If we're in web, put user to dashboard\r\n            }\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"assignStation err: \", err);\r\n          notification.error({ message: \"Error\", description: \"There was an error when assigning the station. Please refresh and try again.\", placement: \"bottomLeft\" });\r\n          this.setState({ startStationDisabled: false });\r\n        });\r\n    });\r\n  };\r\n\r\n  favoriteStation = () => {\r\n    if (!Auth0Helper.isLoggedIn()) {\r\n      Auth0Helper.signUp();\r\n      return;\r\n    }\r\n    this.setState({ favoriteDisabled: true }, () => {\r\n      let stationId = get(this.state, \"station._id\", \"\");\r\n      let favorites = get(this.props, \"myLocation.favorites\", []);\r\n\r\n      this.props.actions.toggleFavorite({ stationId, favorites }).then(() => {\r\n        logEvent({ category: categories.general, action: actions.toggledFavorite, value: stationId });\r\n        this.setState({ favoriteDisabled: false });\r\n      });\r\n    });\r\n  };\r\n\r\n  checkForMobile() {\r\n    const { isBackgroundImage } = this.state;\r\n    this.setState({ isMobile: checkForMobile() }, () => {\r\n      if (this.state.isMobile && !isBackgroundImage) this.setStationBackgroundImage();\r\n      if (!this.state.isMobile && isBackgroundImage) this.removeStationBackgroundImage();\r\n    });\r\n  }\r\n\r\n  setStationBackgroundImage() {\r\n    let { station } = this.state;\r\n    let waitHeader = setInterval(() => {\r\n      let stationHeader = document.getElementById(\"station-header\");\r\n      if (stationHeader) {\r\n        stationHeader.style.backgroundImage = \"url('\" + station.cover + \"')\";\r\n        if (station.cover) this.setState({ isBackgroundImage: true });\r\n        clearInterval(waitHeader);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  removeStationBackgroundImage() {\r\n    let waitHeader = setInterval(() => {\r\n      let stationHeader = document.getElementById(\"station-header\");\r\n      if (stationHeader) {\r\n        stationHeader.style.backgroundImage = null;\r\n        this.setState({ isBackgroundImage: false });\r\n        clearInterval(waitHeader);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  checkIfFavorited(station) {\r\n    let favorites = get(this.props, \"myLocation.favoritesMap\", []);\r\n    if (favorites[station]) return true;\r\n    else return false;\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, station, explicit, startStationDisabled, favoriteDisabled, isMobile, source } = this.state;\r\n    let thisStationId = get(station, \"_id\", \"\");\r\n    let stationQueue = get(station, \"track\", []);\r\n    let stationFavorited = this.checkIfFavorited(thisStationId);\r\n    let hasSchedule = get(this.props, \"myLocation.schedule._id\", \"\");\r\n    let isActiveStation = hasSchedule ? false : get(this.props, \"myLocation.station._id\", \"\") === thisStationId;\r\n\r\n    return (\r\n      <Layout className=\"create-layout\">\r\n        <Content className=\"create-body\">\r\n          <Spin indicator={AntSpinner} spinning={isLoading}>\r\n            <div id=\"station-header\" className=\"cover-content-wrapper\" style={{ backgroundColor: station.hex !== undefined ? station.hex : \"#aa4e9f\" }}>\r\n              <div className=\"headerLeft\">\r\n                <div className=\"station-head-wrapper\">\r\n                  <h1 className=\"cover-heading\">{station.name}</h1>\r\n                </div>\r\n\r\n                <div className=\"cover-btn-div\">\r\n                  <Button size=\"large\" loading={startStationDisabled} className={\"cover-btn\".concat(isActiveStation ? \" disabledButton\" : \"\")} disabled={isActiveStation || startStationDisabled} onClick={this.assignStation}>\r\n                    {isActiveStation ? null : <FontAwesomeIcon icon={faPlayCircle} className={\"cover-icon\"} />}\r\n                    <div> {isActiveStation ? \"Now Playing\" : \"Start\"} </div>\r\n                  </Button>\r\n                  <Button size=\"large\" loading={favoriteDisabled} className=\"cover-btn\" disabled={favoriteDisabled} onClick={this.favoriteStation}>\r\n                    <FontAwesomeIcon icon={faHeart} className={\"cover-icon\".concat(stationFavorited ? \" favorited\" : \"\")} />\r\n                    <div> {stationFavorited ? \"Favorited\" : \"Favorite\"} </div>\r\n                  </Button>\r\n                </div>\r\n                <div className=\"description\">{station.description}</div>\r\n              </div>\r\n\r\n              <div className=\"headerRight\">\r\n                <img src={!station.cover && station.name ? hashCode(station.name) : station.cover} className=\"stationImage\" alt={\"\"} />\r\n              </div>\r\n            </div>\r\n            <div className={\"station-table-wrapper\"}>\r\n              <div className={\"station-table-item station-table-header\"}>\r\n                <div className={\"station-table-track title\"}>\r\n                  <h1>Track</h1>\r\n                </div>\r\n                <div className={\"station-table-artist title\"}>\r\n                  <h1>Artist/Album</h1>\r\n                </div>\r\n              </div>\r\n              {stationQueue.map((track, i) => (\r\n                <div className={\"station-table-item\"} key={track._id} style={{ opacity: i > stationQueue.length * 0.5 ? (stationQueue.length + 1 - i) / stationQueue.length : 1 }}>\r\n                  <div className={\"station-table-track\"}>{track.title}</div>\r\n                  <div className={\"station-table-artist\"}>\r\n                    {track.artist[0]}, {track.album}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Spin>\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({ getStationDetails, assignStation, toggleFavorite }, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n    user: state.auth.user,\r\n    stations: state.stations.data,\r\n    count: state.stations.count,\r\n    myLocation: state.auth.location,\r\n    inApp: state.auth.inApp,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationDetails));\r\n","import React from \"react\";\nimport \"./index.scss\";\n\n/**\n * @param {bool} animate - Should bpm be animated\n * @param {number} speed - Animation speed\n * @param {number} value - Value to display next to '<value> BPM'\n * @param {string} display - [\"column\", \"row\"] - Styling of the bpm div\n * @param {bool} hideText - Display the bpm\n * @param {object} style - React in-line styling\n */\n\nconst BPM = ({ animate, speed, value, display, hideText, style }) => (\n  <div className={\"bpm-container\".concat(display === \"column\" ? \" column\" : \" row\")} style={style}>\n    <div className={\"beat-container\"} style={{ animation: animate ? `bpm ${speed}s linear infinite` : \"none\" }} />\n    {!hideText && value && <div className={\"bpm-text\"}>{`${parseInt(value).toFixed(0)} BPM`}</div>}\n  </div>\n);\n\nexport default BPM;\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./index.scss\";\r\n\r\n/**\r\n * @param {string} title - Big text to display\r\n * @param {string} subtitle - Small text below title\r\n * @param {object} style - React in-line styling\r\n * @param {bool} backArrow - Show back arrow\r\n * @param {function} backArrowPress - Action to take when back arrow pressed\r\n */\r\n\r\nconst PageTitle = ({ title, subtitle, style, backArrow, backArrowPress }) => {\r\n  return (\r\n    <div className={\"title-container\"} style={style}>\r\n      {backArrow && (\r\n        <div className=\"backArrow\" onClick={backArrowPress}>\r\n          <FontAwesomeIcon icon={faArrowLeft} />\r\n        </div>\r\n      )}\r\n      <div className={\"flexCol\"}>\r\n        <div className={\"create-list-view-title\"}> {title} </div>\r\n        <div className={\"create-list-view-subtitle\"}> {subtitle} </div>\r\n      </div>\r\n      {backArrow && <div className=\"backArrow\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageTitle;\r\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./index.scss\";\n\nclass DashboardModule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { title, content, icon, style } = this.props;\n    let contentArray = Array.isArray(content);\n\n    return (\n      <div className=\"dashboard-module\" style={style}>\n        <div className=\"dashboard-header\">\n          <div className=\"dashboard-icon\">{icon && <FontAwesomeIcon icon={icon} style={{ fontSize: \"24px\" }} />}</div>\n          <div className=\"dashboard-title\">{title}</div>\n          <div className=\"dashboard-icon\"></div>\n        </div>\n        <div className=\"dashboard-content\">{contentArray ? React.Children.map(content, (child) => React.cloneElement(child)) : content}</div>\n      </div>\n    );\n  }\n}\n\nexport default DashboardModule;\n","import { Modal } from \"antd\";\r\nimport React from \"react\";\r\nimport phoneImage from \"../../common/assets/images/ios.png\";\r\nimport { withRouter } from \"react-router\";\r\nimport ambiiLogo from \"../../common/assets/images/playstore.png\";\r\nimport { ReactComponent as GooglePlay } from \"../../images/google-play-store.svg\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faApple } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./index.scss\";\r\n\r\nconst InstructionModal = ({ visible, onOk, onCancel, history, myLocation, playStation, isApple }) => {\r\n  const arrayOfCode = myLocation?.storeCode?.split(\"\");\r\n  const openLink = (link) => {\r\n    window.open(link, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      centered\r\n      className={\"instructionModalContainer\"}\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={() => {\r\n        onCancel();\r\n      }}\r\n      closable={true}\r\n      footer={null}\r\n    >\r\n      <div className=\"instructionModalWrapper\">\r\n        <div className=\"contentWrapper\">\r\n          <div className=\"content\">\r\n            <h1 className=\"headerText\">Connect Player</h1>\r\n            <div className=\"contentInfo\">\r\n              <h3>\r\n                Download the <span style={{ color: \"#D04283\", fontWeight: \"bold\" }}> Ambii - Music for Business</span> app on your phone/tablet and enter the code\r\n              </h3>\r\n              <div className=\"storeCodeWrapper\">\r\n                <h2 className=\"headerText\">Store Code</h2>\r\n                <div className=\"storeCodes\">\r\n                  {arrayOfCode !== undefined\r\n                    ? arrayOfCode.map((code) => (\r\n                        <div key={code} className=\"codeBox\">\r\n                          {code}\r\n                        </div>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </div>\r\n              <div className=\"logos\">\r\n                <div className=\"ambiiLogo\">\r\n                  <img src={ambiiLogo} height=\"100%\" width=\"100%\" alt=\"...\" />\r\n                </div>\r\n                <div className=\"store-button-wrapper\" onClick={() => openLink(\"https://play.google.com/store/apps/details?id=com.ambii_business_music\")}>\r\n                  {!isApple && (\r\n                    <div className=\"store-button\">\r\n                      <GooglePlay className={\"connect-music-icon brand-icon\"} style={{ width: 24, height: 48 }} />\r\n                      <div className=\"store-button-text\">\r\n                        <div className=\"store-button-subtitle\">Download on</div>\r\n                        <div className=\"store-button-title\"> Google Play </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"store-button\" onClick={() => openLink(\"https://apps.apple.com/us/app/ambii-music-for-business/id1501666271\")}>\r\n                    <FontAwesomeIcon icon={faApple} className={\"connect-music-icon brand-icon\"} style={{ fontSize: \"32px\" }} />\r\n                    <div className=\"store-button-text\">\r\n                      <div className=\"store-button-subtitle\">Download on</div>\r\n                      <div className=\"store-button-title\"> App Store </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p\r\n                className=\"playOnWeb\"\r\n                onClick={() => {\r\n                  onOk();\r\n                  playStation();\r\n                }}\r\n              >\r\n                or play on the web instead\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"imageWrapper\">\r\n          <img src={phoneImage} alt=\"...\" height=\"100%\" width=\"100%\" />\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    myLocation: state.auth.location,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(InstructionModal));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { disconnectPlayer, setIsPlaying, skipSong, setDisableSkip, addPlayerListeners, removePlayerListeners, updateStationListener, updateCurrentTrackListener, removeStationListener, connectPlayer, playerError, assignStation, toggleExplicit } from \"../../actions\";\r\nimport { socket, socketChannels, trackScreen, logEvent, trackModal } from \"../../configs\";\r\nimport PairCode from \"../../components/pairCode\";\r\nimport { get, isEqual, stubTrue } from \"lodash\";\r\nimport { Button, Modal, Spin, Switch } from \"antd\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMobile, faSpeaker, faTvMusic, faTv, faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\r\nimport { faCommentMusic, faMusic, faHeartbeat, faKey, faCog, faPause, faPlay, faStepForward } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport { faApple } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { checkForMobile, getDeviceId } from \"../../util\";\r\nimport { ReactComponent as GooglePlay } from \"../../images/google-play-store.svg\";\r\nimport AmbiiLogo from \"../../images/ambii_logo_inverse.png\";\r\nimport AdBlockDetect from \"react-ad-block-detect\";\r\nimport StationDetails from \"../../components/stationDetails\";\r\nimport MobileAppCommunicator from \"../../helpers/MobileAppCommunicator\";\r\nimport BPM from \"../../components/bpm\";\r\nimport PageTitle from \"../../components/page-title\";\r\nimport { categories, actions, labels } from \"../../constants\";\r\nimport DashboardModule from \"../../components/dashboardModule\";\r\nimport AntSpinner from \"../../components/antSpinner\";\r\nimport \"./index.scss\";\r\nimport InstructionModal from \"../../components/instruction-modal\";\r\n\r\nlet errorTimer = null;\r\nlet testInterval = null;\r\n\r\nclass CreateSoundTrack extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMobile: checkForMobile(),\r\n      isLoading: false,\r\n      loadingPlayer: false,\r\n      artistName: \"\",\r\n      searchText: undefined,\r\n      isFixHeader: false,\r\n      pageHeight: 0,\r\n      showStationSearch: false,\r\n      showAppModal: false,\r\n      showConnectModal: false,\r\n      showErrorModal: false,\r\n      playlistModalId: false,\r\n      playButtonDisabled: false,\r\n      userName: \"\",\r\n      errorTitle: \"\",\r\n      errorMessage: \"\",\r\n      errorIcon: \"\",\r\n      errorButton: \"\",\r\n      playerInfo: {\r\n        storeCode: get(this.props, \"myLocation.storeCode\", \"\"),\r\n        deviceName: \"web\",\r\n        uniqueId: getDeviceId(),\r\n        deviceBrand: \"web\",\r\n        override: false,\r\n      },\r\n      loadingExplicit: false,\r\n      currentSongTime: \"0:00\",\r\n      currentSongDuration: \"0:00\",\r\n      controllerStyle: false,\r\n      showInstructions: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { myLocation, user, actions, inApp } = this.props;\r\n    if (myLocation?.isDevicePaired === false && myLocation?.stationHistory?.length < 2) {\r\n      this.setState({ showInstructions: true });\r\n    }\r\n\r\n    trackScreen();\r\n    if (inApp) MobileAppCommunicator.send(\"player\", \"player/\" + get(myLocation, \"storeCode\", \"\"));\r\n\r\n    this.checkPlayerState();\r\n\r\n    this.setState({ isMobile: checkForMobile(), userName: this.createUserName() }, () => {\r\n      if (this.state.isMobile) logEvent({ category: categories.dashboard, action: actions.viewedMobile });\r\n    });\r\n\r\n    // Connect sockets\r\n    if (get(user, \"_id\", null)) {\r\n      socket.emit(socketChannels.connect, { userId: user._id });\r\n      actions.addPlayerListeners();\r\n      actions.updateStationListener();\r\n      actions.updateCurrentTrackListener();\r\n    }\r\n  }\r\n\r\n  checkPlayerState = () => {\r\n    let { myLocation, player } = this.props;\r\n\r\n    let deviceBrand = get(myLocation, \"pairedDevice.deviceBrand\", \"\");\r\n    let isThisDevicePlaying = deviceBrand && get(this.state, \"playerInfo.uniqueId\", \"\") === get(myLocation, \"pairedDevice.uniqueId\", \"\");\r\n\r\n    let playerInfo = { ...this.state.playerInfo };\r\n    playerInfo.storeCode = get(myLocation, \"storeCode\", \"\");\r\n\r\n    // FALSE - NO DEVICE IS PLAYING\r\n    // WEB - THIS DEVICE IS PLAYING MUSIC\r\n    // OTHER - ANOTHER WEB DEVICE IS PLAYING MUSIC\r\n    // MOBILE - A MOBILE DEVICE IS PLAYING MUSIC\r\n\r\n    this.setState({ playerInfo, isLoading: !get(myLocation, \"station\", null) ? true : false, explicitAllowed: get(myLocation, \"explicitAllowed\", false), controllerStyle: !deviceBrand ? false : isThisDevicePlaying ? \"WEB\" : !isThisDevicePlaying ? \"OTHER\" : \"MOBILE\" }, () => {\r\n      // If player is visible\r\n      if (get(player, \"showPlayer\", null)) {\r\n        this.getSongTime(); // Grab song times at start\r\n\r\n        // If player is playing\r\n        if (get(player, \"isPlaying\", null)) {\r\n          clearInterval(testInterval);\r\n          testInterval = setInterval(() => {\r\n            this.getSongTime(); // Grab song times at start\r\n          }, 100);\r\n        }\r\n      } else {\r\n        clearInterval(testInterval);\r\n      }\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    try {\r\n      this.props.actions.removePlayerListeners();\r\n      this.props.actions.removeStationListener();\r\n      clearInterval(testInterval);\r\n      clearTimeout(errorTimer);\r\n    } catch (err) {\r\n      console.log(\"caught error when unmounting 'nowPlaying' page: \", err);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // If paired device or station is updated (and is not null)\r\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null)) && get(this.props, \"myLocation\", null)) {\r\n      if (!get(this.props, \"myLocation.station\", null)) this.props.history.push(\"/discover\");\r\n      this.checkPlayerState();\r\n    }\r\n\r\n    if (!isEqual(get(this.props, \"player.playerError\", null), get(prevProps, \"player.playerError\", null)) && get(this.props, \"player.playerError.error\", null)) {\r\n      console.log(\"got player error!\", get(this.props, \"player.playerError\", {}));\r\n\r\n      let errorTitle = get(this.props, \"player.playerError.title\", \"\");\r\n      let errorMessage = get(this.props, \"player.playerError.message\", \"\");\r\n      let errorIcon = get(this.props, \"player.playerError.icon\", \"\");\r\n      let errorButton = get(this.props, \"player.playerError.button\", \"\");\r\n\r\n      this.setState({ showErrorModal: true, errorTitle, errorMessage, errorIcon, errorButton }); // Open the error modal\r\n      this.props.actions.playerError({}); // Reset player error in redux\r\n      trackModal(\"Error Modal\"); // Track Error Modal\r\n      logEvent({ category: categories.dashboard, value: errorMessage, label: labels.error });\r\n\r\n      errorTimer = setTimeout(() => {\r\n        this.closeErrorMessage();\r\n        clearTimeout(errorTimer);\r\n        errorTimer = null;\r\n      }, 300 * 1000);\r\n    }\r\n\r\n    if (!isEqual(get(this.props, \"player.isPlaying\", null), get(prevProps, \"player.isPlaying\", null)) || !isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\r\n      clearInterval(testInterval);\r\n      testInterval = setInterval(() => {\r\n        if (get(this.props, \"player.isPlaying\", null)) this.getSongTime();\r\n        else this.getSongTime();\r\n      }, 100);\r\n    }\r\n\r\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\r\n      this.checkPlayerState();\r\n    }\r\n\r\n    // If playback device has changed\r\n    if (!isEqual(get(this.props, \"myLocation.pairedDevice.deviceName\", null), get(prevProps, \"myLocation.pairedDevice.deviceName\", null))) {\r\n      console.log(\"Changed playback device\");\r\n    }\r\n  }\r\n\r\n  // Gets the song time / duration from the music bar\r\n  getSongTime() {\r\n    try {\r\n      let currentSongTime = document.getElementById(\"current-song-time\").innerHTML;\r\n      let currentSongDuration = document.getElementById(\"current-song-duration\").innerHTML;\r\n      let songCompletion = document.getElementById(\"invis-current-song-time\").innerHTML;\r\n      this.setState({ currentSongTime, currentSongDuration, songCompletion });\r\n    } catch (err) {\r\n      console.log(\"getSongTime err: \", err);\r\n    }\r\n  }\r\n\r\n  // Creates a username based on user's first / last name\r\n  createUserName() {\r\n    let firstName = get(this.props, \"user.firstName\", \"\");\r\n    let lastName = get(this.props, \"user.lastName\", \"\");\r\n\r\n    firstName = firstName.substring(0, 1).toUpperCase() + firstName.substring(1, firstName.length);\r\n    lastName = lastName.substring(0, 1).toUpperCase() + lastName.substring(1, lastName.length);\r\n\r\n    return firstName + \" \" + lastName;\r\n  }\r\n\r\n  scrollIntoView = (id) => {\r\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  showPlaylistModal = (playlistId) => {\r\n    this.setState({ playlistModalId: playlistId });\r\n    trackModal(\"Playlist Modal\");\r\n    logEvent({ category: categories.dashboard, action: actions.stationPreview, value: playlistId, label: labels.button });\r\n  };\r\n\r\n  afterCreateStaion = () => {\r\n    this.setState({ showStationSearch: false });\r\n  };\r\n\r\n  toggleStationSearch = () => {\r\n    const showStationSearch = !this.state.showStationSearch;\r\n    this.setState({ showStationSearch });\r\n    if (showStationSearch) {\r\n      setTimeout(() => {\r\n        const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\r\n        if (collapse && collapse.length) {\r\n          collapse[0].scrollIntoView();\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  parseLocationName = (myLocation) => {\r\n    if (!myLocation) return;\r\n    return myLocation.split(\",\")[0];\r\n  };\r\n\r\n  // Gets track data from our station\r\n  getTrackData(currentTrack) {\r\n    const { myLocation } = this.props;\r\n    let useTrack = currentTrack;\r\n    if (!useTrack) useTrack = get(myLocation, \"station.track[\" + 0 + \"]\", null);\r\n    let obj = {\r\n      songImage: get(useTrack, \"picture\", null),\r\n      locationName: get(myLocation, \"name\", null),\r\n      songTrack: get(useTrack, \"title\", null),\r\n      bpm: get(useTrack, \"bpm\", null),\r\n      songArtist: get(useTrack, \"artist\", null),\r\n      storeCode: get(myLocation, \"storeCode\", null),\r\n      stationName: get(myLocation, \"station.name\", null),\r\n    };\r\n\r\n    if (Array.isArray(obj.songArtist)) obj.songArtist = obj.songArtist[0];\r\n\r\n    return obj;\r\n  }\r\n\r\n  // Actions when user presses Connect\r\n  connectPress = () => {\r\n    this.setState({ showAppModal: true });\r\n    trackModal(\"Connect Modal\"); // Track Connect Modal\r\n    logEvent({ category: categories.dashboard, action: actions.connect, label: labels.button });\r\n  };\r\n\r\n  loadPlayer = ({ override }) => {\r\n    let data = { ...this.state.playerInfo, override };\r\n    this.setState({ loadingPlayer: true }, () => {\r\n      this.props.actions.connectPlayer(data).then(() => {\r\n        this.setState({ showConnectModal: false, loadingPlayer: false });\r\n      });\r\n    });\r\n  };\r\n\r\n  playStation = () => {\r\n    const { playButtonDisabled } = this.state;\r\n    if (!playButtonDisabled) {\r\n      this.setState({ playButtonDisabled: true }, () => {\r\n        this.props.actions\r\n          .connectPlayer(this.state.playerInfo)\r\n          .then((res) => {\r\n            this.setState({ playButtonDisabled: false }, () => {\r\n              if (res === \"DEVICE_ALREADY_PAIRED\") {\r\n                trackModal(\"Device Already Connected Modal\");\r\n                this.setState({ showConnectModal: true });\r\n              }\r\n              logEvent({ category: categories.dashboard, action: actions.startPlayer, label: labels.button });\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            this.setState({ playButtonDisabled: false });\r\n            console.log(\"caught err: \", err);\r\n          });\r\n      });\r\n    }\r\n  };\r\n\r\n  openLink(link) {\r\n    window.open(link, \"_blank\");\r\n  }\r\n\r\n  closeErrorMessage() {\r\n    this.setState({ showErrorModal: false, errorTitle: \"\", errorMessage: \"\", errorIcon: \"\", errorButton: \"\" });\r\n  }\r\n\r\n  openAdBlockMessage() {\r\n    this.setState({\r\n      showErrorModal: true,\r\n      errorTitle: \"Please Disable Ad-Block\",\r\n      errorMessage: \"All of our advertisements help fund small business relief programs. Please help us help them by disabling your ad-blocker.\",\r\n      errorIcon: <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} style={{ color: \"#d04283\" }} />,\r\n      errorButton: \"Ok, Got It\",\r\n    });\r\n  }\r\n\r\n  toggleExplicit = () => {\r\n    this.setState({ loadingExplicit: true }, () => {\r\n      this.props.actions.toggleExplicit({ currentTrack: get(this.props, \"currentTrack\", null) }).then(() => {\r\n        this.setState({ loadingExplicit: false });\r\n      });\r\n    });\r\n  };\r\n\r\n  // Things to do for mobile\r\n  sendToMobileDevice(storeCode) {\r\n    const { inApp } = this.props;\r\n    if (inApp) MobileAppCommunicator.send(\"player\", \"player/\" + storeCode);\r\n    else this.openLink(\"https://ambii.app.link/OpenMobile\");\r\n  }\r\n\r\n  // Skip Song functionality\r\n  skipSong(songCompletion) {\r\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\r\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\r\n        this.props.actions.playerError({\r\n          error: true,\r\n          title: \"Another Device Has Connected!\",\r\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\r\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isApple, myLocation } = this.props;\r\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\r\n    const { isLoading, loadingExplicit, songCompletion, controllerStyle, showAppModal, showConnectModal, showErrorModal, loadingPlayer, errorTitle, errorMessage, errorIcon, errorButton, playlistModalId, userName, isMobile, playButtonDisabled, currentSongTime, currentSongDuration } = this.state;\r\n    let songData = this.getTrackData(get(myLocation, \"currentTrack\", null));\r\n    let { songImage, locationName, songTrack, songArtist, storeCode, stationName } = songData;\r\n    let isIndividual = get(myLocation, \"company.isIndividual\", get(myLocation, \"name\", \"\").toLowerCase() === \"individual\");\r\n    let locationInUse = get(myLocation, \"isPlaying\", false); // Is this location playing music anywhere (any device)\r\n    let activeStation = get(myLocation, \"station._id\", null);\r\n    let explicitAllowed = get(myLocation, \"explicitAllowed\", false);\r\n    let scheduleName = get(myLocation, \"schedule.name\", false);\r\n    let scheduleId = get(myLocation, \"schedule._id\", \"\");\r\n    let modalWidth = checkForMobile() ? \"90%\" : \"80%\";\r\n\r\n    let hasTrackOverflow = false;\r\n    let hasArtistOverflow = false;\r\n    let bpm = get(songData, \"bpm\", 100);\r\n    if (!bpm) bpm = 100; // If no bpm, default it to 100bpm\r\n\r\n    let nowPlayingInfoWrapper = document.getElementById(\"now-playing-info-wrapper\") || null;\r\n    let nowPlayingTrack = document.getElementById(\"now-playing-track\") || null;\r\n    let nowPlayingArtist = document.getElementById(\"now-playing-artist\") || null;\r\n\r\n    if (nowPlayingInfoWrapper && nowPlayingTrack && nowPlayingArtist) {\r\n      nowPlayingInfoWrapper = nowPlayingInfoWrapper.getBoundingClientRect().width - (checkForMobile() ? 0 : 310);\r\n      nowPlayingTrack = nowPlayingTrack.getBoundingClientRect().width;\r\n      nowPlayingArtist = nowPlayingArtist.getBoundingClientRect().width;\r\n\r\n      if (nowPlayingInfoWrapper < nowPlayingTrack) hasTrackOverflow = true;\r\n      if (nowPlayingInfoWrapper < nowPlayingArtist) hasArtistOverflow = true;\r\n    }\r\n\r\n    return (\r\n      <div className={\"dashboard-page-wrapper\"}>\r\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={modalWidth} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\r\n          <StationDetails playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} source={\"dashboard\"} />\r\n        </Modal>\r\n        <PageTitle\r\n          title={\r\n            <span>\r\n              Welcome <span style={{ color: \"#D04283\" }}>Back</span>\r\n            </span>\r\n          }\r\n          subtitle={isIndividual ? userName : locationName}\r\n        />\r\n\r\n        <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\", maxHeight: \"100%\" }}>\r\n          <div className=\"dashboard-content-wrapper\">\r\n            <div className=\"nowPlayingContainer\">\r\n              <div className=\"imgAndInfo\" id={\"now-playing-info-wrapper\"}>\r\n                <div className=\"songImageContainer\">\r\n                  <img className=\"songImage noselect\" src={songImage} alt={\"\"} />\r\n                </div>\r\n                <div className=\"infoContainer\">\r\n                  <div className=\"nowPlayingTitle\">\r\n                    Now Playing\r\n                    {locationInUse && bpm && <BPM animate={true} speed={60 / bpm} value={bpm} hideText={true} style={{ marginLeft: \"12px\", justifyContent: \"flex-start\" }} />}\r\n                  </div>\r\n                  <div className=\"songTitle\" style={{ justifyContent: isMobile && !hasTrackOverflow ? \"center\" : \"flex-start\" }}>\r\n                    <span id={\"now-playing-track\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\r\n                      {songTrack}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"songArtist\" style={{ justifyContent: isMobile && !hasArtistOverflow ? \"center\" : \"flex-start\" }}>\r\n                    <span id={\"now-playing-artist\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\r\n                      {songArtist}\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    Station:\r\n                    <span className={\"now-playing-station\"} onClick={() => this.showPlaylistModal(activeStation)}>\r\n                      {stationName}\r\n                    </span>\r\n                  </div>\r\n                  {scheduleName && (\r\n                    <div>\r\n                      Schedule:\r\n                      <span className={\"now-playing-station\"} onClick={() => this.props.history.push(`/createSchedule/${scheduleId}`)}>\r\n                        {scheduleName}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className={\"adblock-div\"} onClick={() => this.openAdBlockMessage()}>\r\n                  <AdBlockDetect>\r\n                    <FontAwesomeIcon icon={faHeartbeat} className={\"connect-icon\"} />\r\n                  </AdBlockDetect>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={\"module-row\"}>\r\n              {controllerStyle === \"MOBILE\" ? (\r\n                <DashboardModule\r\n                  title={\"Playing on Mobile\"}\r\n                  icon={faMobile}\r\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\r\n                  content={[\r\n                    <div className={\"dashboard-play-button-wrapper\"}>\r\n                      {/* Music Controller Stuff */}\r\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\r\n                        <div className=\"dashboard-mobile-info-option\">\r\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\r\n                        </div>\r\n                        <div className=\"dashboard-mobile-info-option\">\r\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Web Button */}\r\n                      {!isMobile && (\r\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\r\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\r\n                            <div className={\"dashboard-play-button-left\"}>\r\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\r\n                            </div>\r\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\r\n                          </div>\r\n                        </Spin>\r\n                      )}\r\n                    </div>,\r\n                  ]}\r\n                />\r\n              ) : controllerStyle === \"OTHER\" ? (\r\n                <DashboardModule\r\n                  title={\"Playing on Another Device\"}\r\n                  icon={faTv}\r\n                  style={{ borderColor: \"#D04283\", color: \"#2a2a2a\" }}\r\n                  content={[\r\n                    <div className={\"dashboard-play-button-wrapper\"}>\r\n                      {/* Music Controller Stuff */}\r\n                      <div className={\"dashboard-mobile-info-wrapper\"}>\r\n                        <div className=\"dashboard-mobile-info-option\">\r\n                          <span className={\"dashboard-mobile-info-title\"}>Brand:</span> {get(this.props, \"myLocation.pairedDevice.deviceBrand\", \"\")}\r\n                        </div>\r\n                        <div className=\"dashboard-mobile-info-option\">\r\n                          <span className={\"dashboard-mobile-info-title\"}>Name:</span> {get(this.props, \"myLocation.pairedDevice.deviceName\", \"\")}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Web Button */}\r\n                      {!isMobile && (\r\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\r\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginTop: \"10px\" }} onClick={() => this.playStation()}>\r\n                            <div className={\"dashboard-play-button-left\"}>\r\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\r\n                            </div>\r\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\r\n                          </div>\r\n                        </Spin>\r\n                      )}\r\n                    </div>,\r\n                  ]}\r\n                />\r\n              ) : controllerStyle === \"WEB\" ? (\r\n                <DashboardModule\r\n                  title={\"Playing on Web\"}\r\n                  icon={faTv}\r\n                  style={{ backgroundColor: \"#D04283\", borderColor: \"#FFF\", color: \"#FFF\" }}\r\n                  content={[\r\n                    <div className={\"dashboard-play-button-wrapper\"}>\r\n                      {/* Music Controller Stuff */}\r\n                      <div className={\"dashboard-music-controller\"}>\r\n                        <div className=\"dashboard-music-time\">\r\n                          {currentSongTime} / {currentSongDuration}\r\n                        </div>\r\n                        <div className=\"dashboard-music-controls\">\r\n                          {/* Play/Pause Button */}\r\n                          {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(false)} /> : <FontAwesomeIcon icon={faPlay} className={\"music-controller-icon\"} onClick={() => this.props.actions.setIsPlaying(stubTrue)} />}\r\n\r\n                          {/* Skip Button */}\r\n                          {<FontAwesomeIcon icon={faStepForward} className={\"music-controller-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\r\n\r\n                          {/* Close Button */}\r\n                          <FontAwesomeIcon icon={faTimes} className={\"music-controller-icon close-icon\"} onClick={() => this.props.actions.disconnectPlayer()} />\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Mobile Button */}\r\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\", marginTop: \"10px\" }} onClick={() => (isMobile ? this.sendToMobileDevice(storeCode) : this.connectPress())}>\r\n                        <div className={\"dashboard-play-button-left\"}>\r\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\r\n                        </div>\r\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\r\n                      </div>\r\n                    </div>,\r\n                  ]}\r\n                />\r\n              ) : (\r\n                <DashboardModule\r\n                  title={\"Play Music\"}\r\n                  icon={faMusic}\r\n                  content={[\r\n                    <div className={\"dashboard-play-button-wrapper\"}>\r\n                      {!isMobile && (\r\n                        <Spin indicator={AntSpinner} spinning={playButtonDisabled}>\r\n                          <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#d04283\", color: \"#FFF\", borderColor: \"#FFF\", marginBottom: \"15px\" }} onClick={() => this.playStation()}>\r\n                            <div className={\"dashboard-play-button-left\"}>\r\n                              <FontAwesomeIcon icon={faTv} className={\"dashboard-play-button-icon\"} style={{ color: \"#FFF\" }} />\r\n                            </div>\r\n                            <div className={\"dashboard-play-button-right\"}>Play on Web</div>\r\n                          </div>\r\n                        </Spin>\r\n                      )}\r\n\r\n                      <div className=\"dashboard-play-button\" style={{ backgroundColor: \"#FFF\", color: \"#D04283\", borderColor: \"#D04283\" }} onClick={() => (isMobile ? this.sendToMobileDevice(storeCode) : this.connectPress())}>\r\n                        <div className={\"dashboard-play-button-left\"}>\r\n                          <FontAwesomeIcon icon={faMobile} className={\"dashboard-play-button-icon\"} style={{ color: \"#D04283\", fontSize: \"32px\" }} />\r\n                        </div>\r\n                        <div className={\"dashboard-play-button-right\"}>{isMobile ? \"Open App\" : \"Play on Mobile\"}</div>\r\n                      </div>\r\n                    </div>,\r\n                  ]}\r\n                />\r\n              )}\r\n\r\n              <div className={\"flexCol\"} style={{ justifyContent: \"space-evenly\" }}>\r\n                <DashboardModule title={\"Store Code\"} icon={faKey} content={[<PairCode storeCode={storeCode} fontSize={\"22px\"} />]} />\r\n\r\n                <DashboardModule\r\n                  title={\"Settings\"}\r\n                  icon={faCog}\r\n                  content={\r\n                    <div className={\"dashboard-setting-wrapper\"}>\r\n                      <div className={\"dashboard-setting-text\"}>Allow Explicit</div>\r\n                      <div className={\"dashboard-setting-option\"}>\r\n                        <Switch style={{ width: \"30px\" }} checked={explicitAllowed} disabled={explicitAllowed === null} loading={loadingExplicit} onClick={() => this.toggleExplicit()} />\r\n                      </div>\r\n                    </div>\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Spin>\r\n\r\n        {/* CONNECTION INSTRUCTIONS */}\r\n        <InstructionModal visible={showAppModal} onOk={() => this.setState({ showAppModal: false })} onCancel={() => this.setState({ showAppModal: false })} playStation={this.playStation} isApple={isApple} />\r\n        {/* <Modal visible={showAppModal} onOk={() => this.setState({ showAppModal: false })} onCancel={() => this.setState({ showAppModal: false })} width={modalWidth} footer={[]} className=\"app-modal\">\r\n          <div className=\"connect-wrapper\">\r\n            <div className=\"connect-header\">Connect Device</div>\r\n\r\n            <div className=\"connect-display rowItem\">\r\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\r\n              <div className=\"connect-dashes\"> - - - - - - </div>\r\n              <div className={\"mobile-phone\"}>\r\n                <FontAwesomeIcon icon={faMobile} className={\"connect-icon\"} />\r\n                <FontAwesomeIcon icon={faMusic} className={\"special-music-icon\"} />\r\n              </div>\r\n              <div className=\"connect-dashes\"> - - - - - - </div>\r\n              <div className={\"speaker-group\"}>\r\n                <FontAwesomeIcon icon={faSpeaker} className={\"connect-icon\"} />\r\n                <FontAwesomeIcon icon={faCommentMusic} className={\"connect-music-icon\"} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"connect-text rowItem\">\r\n              {isApple ? (\r\n                <>\r\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on the App Store.\r\n                </>\r\n              ) : (\r\n                <>\r\n                  1. Download the <span style={{ color: \"#d04283\", fontWeight: \"bold\" }}>Ambii - Music for Business</span> app on Google Play or the App Store onto your mobile device\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"store-wrapper rowItem\">\r\n              <img src={AmbiiLogo} className={\"connect-music-icon ambii-logo\"} alt={\"\"} />\r\n              <div className=\"store-button-wrapper\" onClick={() => this.openLink(\"https://play.google.com/store/apps/details?id=com.ambii_business_music\")}>\r\n                {!isApple && (\r\n                  <div className=\"store-button\">\r\n                    <GooglePlay className={\"connect-music-icon brand-icon\"} style={{ width: 24, height: 48 }} />\r\n                    <div className=\"store-button-text\">\r\n                      <div className=\"store-button-subtitle\">Download on</div>\r\n                      <div className=\"store-button-title\"> Google Play </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"store-button\" onClick={() => this.openLink(\"https://apps.apple.com/us/app/ambii-music-for-business/id1501666271\")}>\r\n                  <FontAwesomeIcon icon={faApple} className={\"connect-music-icon brand-icon\"} style={{ fontSize: \"32px\" }} />\r\n                  <div className=\"store-button-text\">\r\n                    <div className=\"store-button-subtitle\">Download on</div>\r\n                    <div className=\"store-button-title\"> App Store </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"connect-text rowItem\">2. Once downloaded, enter your Store Code</div>\r\n\r\n            <div className=\"connect-text\" style={{ marginTop: \"25px\", fontSize: \"24px\" }}>\r\n              Store Code: <span className=\"connect-storeCode\">{storeCode}</span>\r\n            </div>\r\n          </div>\r\n        </Modal> */}\r\n\r\n        {/* DEVICE ALREADY CONNECTED */}\r\n        <Modal visible={showConnectModal} onOk={() => this.setState({ showConnectModal: false })} onCancel={() => this.setState({ showConnectModal: false })} width={modalWidth} footer={[]} className=\"app-modal\">\r\n          <div className=\"connect-wrapper\">\r\n            <div className=\"connect-header\">Device Already Connected!</div>\r\n            <div className=\"connect-text\">Another device is already connected to this account. Would you like to play music on this device instead?</div>\r\n\r\n            <div className=\"connect-display rowItem\">\r\n              <FontAwesomeIcon icon={faTvMusic} className={\"connect-icon\"} />\r\n            </div>\r\n\r\n            <div className=\"connect-button-group\">\r\n              <Button className={\"optionButton\"} loading={loadingPlayer} disabled={loadingPlayer} onClick={() => this.loadPlayer({ override: true })}>\r\n                Yes, Connect\r\n              </Button>\r\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.setState({ showConnectModal: false })}>\r\n                No, Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n\r\n        {/* WEB PLAYER OVERRIDEN */}\r\n        <Modal visible={showErrorModal} onOk={() => this.closeErrorMessage()} onCancel={() => this.closeErrorMessage()} width={modalWidth} footer={[]} className=\"app-modal\">\r\n          <div className=\"connect-wrapper\">\r\n            <div className=\"connect-header\">{errorTitle}</div>\r\n\r\n            <div className=\"connect-text\">{errorMessage}</div>\r\n\r\n            <div className=\"connect-display rowItem\">{errorIcon}</div>\r\n\r\n            <div className=\"connect-button-group\">\r\n              <Button className={\"optionButton mobile-padding\"} onClick={() => this.closeErrorMessage()}>\r\n                {errorButton ? errorButton : \"Ok\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n\r\n        <InstructionModal\r\n          visible={this.state.showInstructions}\r\n          onOk={() => this.setState({ showInstructions: false })}\r\n          playStation={this.playStation}\r\n          isApple={isApple}\r\n          onCancel={() => {\r\n            this.setState({ showInstructions: false });\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        addPlayerListeners,\r\n        removePlayerListeners,\r\n        updateStationListener,\r\n        updateCurrentTrackListener,\r\n        removeStationListener,\r\n        connectPlayer,\r\n        playerError,\r\n        assignStation,\r\n        toggleExplicit,\r\n        setDisableSkip,\r\n        skipSong,\r\n        setIsPlaying,\r\n        disconnectPlayer,\r\n      },\r\n      dispatch\r\n    ),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n    stations: state.stations,\r\n    playlistList: state.stations.playlistList,\r\n    genreList: state.stations.genreList,\r\n    eraList: state.stations.eraList,\r\n    moodList: state.stations.moodList,\r\n    player: state.player,\r\n    currentTrack: state.auth.location.currentTrack,\r\n    isApple: state.auth.isApple,\r\n    inApp: state.auth.inApp,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\r\n","import React, { Component } from \"react\";\nimport \"./index.scss\";\n\nexport default class MoodTag extends Component {\n  state = {\n    isHovered: false,\n  };\n\n  onMouseOver = () => {\n    this.setState({ isHovered: true });\n  };\n  onMouseOut = () => {\n    this.setState({ isHovered: false });\n  };\n\n  render() {\n    const { performSelect, text } = this.props;\n    return (\n      <div className=\"mood_tag\" onMouseEnter={this.onMouseOver} onMouseLeave={this.onMouseOut} onClick={performSelect}>\n        <span style={{ marginLeft: 8 }}>{text}</span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ReactResizeDetector from \"react-resize-detector\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport MoodTag from \"./mood_tag\";\nimport \"./index.scss\";\n\nexport default class MoodTagSearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: this.props.items,\n      search: \"\",\n      isSearchFocused: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClick, false);\n  }\n\n  removeTag = (mood) => () => {\n    this.props.performSelect(mood);\n  };\n\n  onChangeText = (e) => {\n    this.setState({ search: e.target.value }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  performSelect = (mood) => () => {\n    this.props.performSelect(mood);\n    this.setState({ search: \"\" }, () => {\n      const tags = [...this.props.items];\n      const searchTags = tags.filter((tag) => tag.toLowerCase().includes(this.state.search));\n      this.setState({ tags: searchTags });\n    });\n  };\n\n  filterTagArray = () => {\n    const second = new Set(this.props.selectedTags);\n    const difference = [...this.state.tags].filter((x) => !second.has(x));\n    return difference;\n  };\n\n  handleClick = (e) => {\n    if (this.node.contains(e.target)) {\n      return;\n    }\n\n    this.setState({ isSearchFocused: false });\n  };\n\n  render() {\n    const { search, isSearchFocused } = this.state;\n\n    return (\n      <ReactResizeDetector handleHeight>\n        {({ height }) => (\n          <div className=\"mood_container\" ref={(node) => (this.node = node)}>\n            <div className={`input-tag ${isSearchFocused ? \"red-focus\" : \"\"}`}>\n              <ul className=\"input-tag__tags\" ref={(tagListRef) => (this.tagListRef = tagListRef)}>\n                {this.props.selectedTags.map((tag, i) => (\n                  <li key={tag}>\n                    {tag}\n                    <button type=\"button\" className=\"remove_btn\" onClick={this.removeTag(tag)}>\n                      +\n                    </button>\n                  </li>\n                ))}\n                <li className=\"input-tag__tags__input\">\n                  <textarea\n                    className=\"mood_searchBar\"\n                    type=\"text\"\n                    placeholder=\"Search for Moods\"\n                    onFocus={() => this.setState({ isSearchFocused: true })}\n                    value={search}\n                    onChange={this.onChangeText}\n                    ref={(c) => {\n                      this.tagInput = c;\n                    }}\n                  />\n                  <FontAwesomeIcon icon={faSearch} color=\"rgba(95, 95, 95, 0.4)\" />\n                </li>\n              </ul>\n            </div>\n            {isSearchFocused ? (\n              <div className=\"tag-result\" style={{ position: \"absolute\", top: height }}>\n                {this.filterTagArray().map((mood, i) => (\n                  <MoodTag key={i} text={mood} performSelect={this.performSelect(mood)} />\n                ))}\n              </div>\n            ) : null}\n          </div>\n        )}\n      </ReactResizeDetector>\n    );\n  }\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { tempos } from \"../../constants\";\nimport \"./index.scss\";\n\nexport default function TempoSelection(props) {\n  const performSelectTempo = (tempo, index) => () => {\n    if (index !== props.currentSelectedTempo) {\n      props.selectTempo(tempo, index);\n    } else {\n      props.deSelectTempo();\n    }\n  };\n\n  const renderTempos = () => {\n    let tempoKeys = Object.keys(tempos);\n    return tempoKeys.map((tempo, i) => (\n      <div key={i} className=\"wrapper\">\n        <div\n          className=\"energy\"\n          onClick={performSelectTempo([tempos[tempo].min, tempos[tempo].max], i)}\n          style={{\n            backgroundColor: i === props.currentSelectedTempo ? \"rgba(95, 95, 95, 0.1)\" : \"white\",\n          }}\n        >\n          <div className=\"content\">\n            <div className=\"inner\">\n              <FontAwesomeIcon icon={tempos[tempo].icon} className=\"tempo_icon\" />\n              <span>{tempos[tempo].title}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    ));\n  };\n\n  return <div className=\"tempo_container\">{renderTempos()}</div>;\n}\n","import React from \"react\";\nimport { Range } from \"rc-slider\";\nimport \"./index.scss\";\n\nconst LABEL = [`10's`, `00's`, `90's`, `80's`, `70's`, `60's`].reverse();\n\nexport default function EraSelection(props) {\n  const renderLabel = () => {\n    return LABEL.map((label, i) => (\n      <div id={i} className=\"label_container\">\n        <span className=\"label\">{label}</span>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"era_container\">\n      <Range\n        step={10}\n        min={1950}\n        max={2020}\n        defaultValue={props.defaultValue}\n        dots\n        onAfterChange={props.selectEra}\n        trackStyle={[{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }]}\n        railStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\n        dotStyle={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\", border: \"none\" }}\n        handleStyle={[\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n          {\n            backgroundColor: \"white\",\n            borderColor: \"rgb(208, 66, 131)\",\n          },\n        ]}\n      />\n      <div className=\"labels\">\n        <div id=\"oldies\">Oldies</div>\n        <div className=\"label_body\">{renderLabel()}</div>\n        <div id=\"modern\">Modern</div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport MoodTagSearchBar from \"../../mood_tag_search_bar\";\nimport TempoSelection from \"../../tempo_selection\";\nimport EraSelection from \"../../era_selection\";\n\nconst AdvanceFilter = ({ browseMoods, currentSelectedTempo, onSelectTempo, onDeselectTempo, browseEraRange, onSelectEra, onSelectMood }) => (\n  <div>\n    <div className=\"moodWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Tags</div>\n      <div className=\"browseSelectionsContainer\">\n        <MoodTagSearchBar items={Object.keys(browseMoods)} selectedTags={Object.keys(browseMoods).filter((mood) => browseMoods[mood] === true)} performSelect={onSelectMood} />\n      </div>\n    </div>\n\n    <div className=\"tempoWrapper\" style={{ margin: \"auto\" }}>\n      <div className=\"browseSettingsTitle\">Energy</div>\n      <div className=\"browseSelectionsContainer\">\n        <TempoSelection currentSelectedTempo={currentSelectedTempo} selectTempo={onSelectTempo} deSelectTempo={onDeselectTempo} />\n      </div>\n    </div>\n\n    {/* <div className=\"eraWrapper\" style={{ margin: 'auto' }}>\n          <div className=\"browseSettingsTitle\">{'Era'}</div>\n          <div className=\"browseSelectionsContainer\">\n            <EraSelection\n              defaultValue={[browseEraRange.from, browseEraRange.to]}\n              selectEra={onSelectEra}\n            />\n          </div>\n        </div> */}\n  </div>\n);\n\nexport default AdvanceFilter;\n","import React from \"react\";\nimport { Modal, Avatar } from \"antd\";\nimport \"./index.scss\";\n\nconst TracksModal = ({ visible, onCancel, tracks, title }) => (\n  <Modal title={title} visible={visible} onCancel={onCancel} footer={[]}>\n    {tracks.map((track, key) => (\n      <div className=\"track-container\" key={key}>\n        {track.albumCover ? <Avatar shape=\"square\" size={50} src={track.albumCover} /> : <Avatar shape=\"square\" size={50} icon=\"user\" />}\n        <div>\n          <p style={{ marginLeft: 10 }} className=\"heading-regular margin-0\">\n            {track.title}\n          </p>\n          <p style={{ marginLeft: 10 }} className=\"margin-0\">\n            {track.artist}\n          </p>\n        </div>\n      </div>\n    ))}\n  </Modal>\n);\n\nexport default TracksModal;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { genreColors } from \"../../constants\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\n/**\n * @param {array} genres - Array of genres\n * @param {bool} showStats - Display of text % (such as '72%', 26%', ...)\n * @param {object} style - React in-line styling\n * @param {object} simple - Show only the genre color bar (no bpm info)\n */\n\nconst GenreColorBar = ({ genres, roundBottom, bpm, simple }) => {\n  const data = Object.entries(genres || [])\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n\n  let dataA,\n    dataB,\n    dataC = 0;\n\n  try {\n    dataA = data[0][1];\n    dataB = data[1][1];\n    dataC = data[2][1];\n  } catch (err) {\n    console.log(\"Not all genre fields available\");\n  }\n\n  const totalPercentage = (dataA && dataA > 0.1 ? dataA : 0) + (dataB && dataB > 0.1 ? dataB : 0) + (dataC && dataC > 0.1 ? dataC : 0);\n\n  const calculateEachPercentage = (percent) => {\n    return percent / totalPercentage;\n  };\n\n  let bpmInfo = getBPMInfo(bpm);\n\n  return (\n    <div className=\"genre-container\">\n      <div className=\"genre-color-bar\">\n        {data.map((music, i) => {\n          const genre = music[0];\n          const percent = calculateEachPercentage(music[1]);\n\n          return (\n            <div className={\"genre-wrapper\"} style={{ width: `${percent * 100}%`, display: percent > 0.1 ? \"flex\" : \"none\" }} key={genre}>\n              <div\n                className={\"genre-chunk\"}\n                style={{\n                  backgroundColor: genreColors[genre],\n                  borderBottomLeftRadius: i === 0 && roundBottom ? \"8px\" : null,\n                  borderBottomRightRadius: i === genres.length - 1 && roundBottom ? \"8px\" : null,\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n\n      {!simple && (\n        <div className={\"genre-tile-info-wrapper\"}>\n          <div className={\"genre-tile-genre-wrapper\"}>\n            {data.map((music, i) => {\n              const genre = music[0];\n              const percent = calculateEachPercentage(music[1]);\n\n              if (percent > 0.1) {\n                return (\n                  <div className={\"flexRow\"} key={genre}>\n                    <div className={\"genre-color-dot\"} style={{ backgroundColor: genreColors[genre] }} />\n                    <span style={{ position: \"relative\", bottom: 4, left: 4, fontWeight: i === 0 ? \"bold\" : \"normal\" }}>{genre}</span>\n                  </div>\n                );\n              }\n            })}\n          </div>\n          <div className={\"genre-bpm\"}>\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} className={\"bpm-icon\"} />\n            <div>{get(bpmInfo, \"title\", \"\")}</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GenreColorBar;\n","import React from \"react\";\r\nimport TracksModal from \"../tracksModal\";\r\nimport { logEvent } from \"../../../configs\";\r\nimport { categories, actions, labels } from \"../../../constants\";\r\nimport { hashCode } from \"../../../util\";\r\nimport GenreColorBar from \"../../genre-color-bar\";\r\nimport { get } from \"lodash\";\r\nimport \"./index.scss\";\r\n\r\nclass PublicStation extends React.PureComponent {\r\n  state = {\r\n    modalVisible: false,\r\n    hovered: false,\r\n  };\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      modalVisible: true,\r\n    });\r\n  };\r\n\r\n  hideModal = () => {\r\n    this.setState({\r\n      modalVisible: false,\r\n    });\r\n  };\r\n\r\n  stationPress = (id, name) => {\r\n    const { history } = this.props;\r\n    if (id) {\r\n      logEvent({ category: categories.discover, action: actions.button, value: name, label: labels.button });\r\n      history.push(`/station/${id}`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modalVisible } = this.state;\r\n    const { bpm, genres, _id, hex, track, title, type, rowIndex, browse, showPlaylistModal, isApple, explicit } = this.props;\r\n\r\n    let tileStyle = type === \"advanced\" ? \"advanced-station-preview\" : \"public-station noselect\";\r\n    let previewCardStyle = (_id ? \"item-container pointer\" : \"item-container-preview item-container pointer\").concat(rowIndex === 0 ? \" first-row\" : \"\");\r\n    let name = get(this.props, \"name\", \"\");\r\n    let bpmMean = get(bpm, \"mean\", 1);\r\n\r\n    return (\r\n      <div className={tileStyle} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })} style={browse ? { margin: \"0px 0px 10px 0px\", border: \"2px solid white\" } : { border: \"2px solid white\" }} onClick={() => showPlaylistModal(_id)}>\r\n        <div className={previewCardStyle} style={{ backgroundColor: hex, backgroundImage: `url(${hashCode(this.props.name)})` }}>\r\n          <div className={\"station-tile-header\"}>\r\n            {type !== \"advanced\" && (\r\n              <div style={_id ? {} : { fontSize: 14 }} className=\"name\">\r\n                {name ? name.replace(\" (Explicit)\", \"\") : title}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {track && track.length ? <TracksModal title={name} visible={modalVisible} onCancel={this.hideModal} tracks={track} /> : null}\r\n        <div className={\"info-container\"}>\r\n          <GenreColorBar genres={genres} showStats={isApple ? false : true} bpm={bpmMean || 100} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PublicStation;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ScrollContainer from \"react-indiana-drag-scroll\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Button } from \"antd\";\r\nimport PublicStation from \"../public_stations/publicStation\";\r\nimport { assignStation } from \"../../actions\";\r\nimport { logEvent } from \"../../configs\";\r\nimport { get } from \"lodash\";\r\nimport { supersetDescriptions, categories, actions, labels } from \"../../constants\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronLeft, faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./index.scss\";\r\n\r\nclass StationSection extends Component {\r\n  state = {\r\n    showArrows: false,\r\n    showLeftArrow: false,\r\n    showRightArrow: true,\r\n    diff: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const outer = this.scrollView.getElement().clientWidth;\r\n    const inner = this.scrollWrapper.clientWidth;\r\n    const preMargin = Math.round((outer * 5) / 100);\r\n    this.setState({ diff: inner - outer + preMargin });\r\n    if (inner > outer) {\r\n      this.setState({ showArrows: true });\r\n    } else {\r\n      this.setState({ showArrows: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { id, title, type, showViewAll, rowIndex, isApple } = this.props;\r\n    let data = get(this.props, \"data\", []);\r\n\r\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\r\n\r\n    return (\r\n      <section className=\"feature-section\" id={id} style={!showViewAll ? { padding: \"25px 0px\" } : {}}>\r\n        <div className=\"feature-section-head-wrapper\">\r\n          <div className=\"feature-section-title-wrapper\">\r\n            <div className=\"preMargin\" />\r\n            <div className=\"heading heading-large\"> {title} </div>\r\n            {!showViewAll && (\r\n              <Button type=\"primary\" onClick={() => buttonPress(0, type, this.props.history)}>\r\n                <FontAwesomeIcon icon={faChevronLeft} />\r\n                Go back\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"description\">{supersetDescriptions[title]}</div>\r\n\r\n        <div className=\"blurredWrapper\">\r\n          <div\r\n            className=\"blurredEdgeStart\"\r\n            onMouseEnter={() => {\r\n              this.rightMoveSpeed = 2;\r\n              this.scrollRight = setInterval(() => {\r\n                this.rightMoveSpeed = Math.min(12, this.rightMoveSpeed + 0.1);\r\n                this.scrollView.getElement().scrollBy({\r\n                  left: -this.rightMoveSpeed,\r\n                });\r\n                this.forceUpdate();\r\n              }, 10);\r\n            }}\r\n            onMouseLeave={() => {\r\n              clearInterval(this.scrollRight);\r\n            }}\r\n          >\r\n            {showArrows && showLeftArrow ? <FontAwesomeIcon icon={faCaretLeft} /> : null}\r\n          </div>\r\n          <ScrollContainer\r\n            className=\"stationPreviewWrapper\"\r\n            ref={(me) => (this.scrollView = me)}\r\n            onScroll={(e) => {\r\n              if (e === 0) {\r\n                this.setState({ showLeftArrow: false });\r\n              } else {\r\n                this.setState({ showLeftArrow: true });\r\n              }\r\n              if (e === diff) {\r\n                this.setState({ showRightArrow: false });\r\n              } else {\r\n                this.setState({ showRightArrow: true });\r\n              }\r\n            }}\r\n          >\r\n            <div className=\"preMargin\" />\r\n            <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\r\n              {data.map((item, index) => (\r\n                <PublicStation assignStation={this.props.actions.assignStation} showPlaylistModal={this.props.showPlaylistModal} company={this.props.company} history={this.props.history} key={index} rowIndex={rowIndex} isApple={isApple} {...item} />\r\n              ))}\r\n            </div>\r\n          </ScrollContainer>\r\n          <div\r\n            className=\"blurredEdgeEnd\"\r\n            onMouseEnter={() => {\r\n              this.leftMoveSpeed = 2;\r\n              this.scrollLeft = setInterval(() => {\r\n                this.leftMoveSpeed = Math.min(12, this.leftMoveSpeed + 0.1);\r\n                this.scrollView.getElement().scrollBy({\r\n                  left: this.leftMoveSpeed,\r\n                });\r\n                this.forceUpdate();\r\n              }, 10);\r\n            }}\r\n            onMouseLeave={() => {\r\n              clearInterval(this.scrollLeft);\r\n            }}\r\n          >\r\n            {showArrows && showRightArrow ? <FontAwesomeIcon icon={faCaretRight} /> : null}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\n// Button Press actions\r\nconst buttonPress = (clicked, type, history) => {\r\n  if (clicked === 0) {\r\n    history.push(\"/discover\", { isBack: true });\r\n  }\r\n  if (clicked === 1) {\r\n    logEvent({ category: categories.discover, action: actions.button, value: \"View More\", label: labels.button });\r\n    history.push(`/stations/${type}`);\r\n  }\r\n};\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        assignStation,\r\n      },\r\n      dispatch\r\n    ),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    activeStationPreview: state.activeStationPreview,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(StationSection));\r\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ScrollContainer from \"react-indiana-drag-scroll\";\nimport { faCaretRight, faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"./index.scss\";\n\nexport default class GenresSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showArrows: false,\n      showLeftArrow: false,\n      showRightArrow: true,\n      diff: 0,\n    };\n  }\n\n  componentDidMount() {\n    const outer = this.scrollView.getElement().clientWidth;\n    const inner = this.scrollWrapper.clientWidth;\n\n    this.setState({ diff: inner - outer });\n\n    if (inner > outer) this.setState({ showArrows: true });\n    else this.setState({ showArrows: false });\n  }\n  render() {\n    const { showArrows, showLeftArrow, showRightArrow, diff } = this.state;\n    return (\n      <div className=\"genre_container\">\n        <div\n          className=\"edgeStart\"\n          onMouseEnter={() => {\n            let rightMoveSpeed = 2;\n            this.scrollRight = setInterval(() => {\n              rightMoveSpeed = Math.min(12, rightMoveSpeed + 0.1);\n              if (showLeftArrow) this.scrollView.getElement().scrollBy({ left: -rightMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollRight);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon className=\"icon\" icon={faCaretLeft} style={{ fontSize: 24, color: showLeftArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n        <ScrollContainer\n          className=\"itemWrapper\"\n          ref={(me) => (this.scrollView = me)}\n          onScroll={(e) => {\n            if (e === 0) this.setState({ showLeftArrow: false });\n            else this.setState({ showLeftArrow: true });\n\n            if (e === diff) this.setState({ showRightArrow: false });\n            else this.setState({ showRightArrow: true });\n          }}\n        >\n          <div className=\"innerWrapper\" ref={(me) => (this.scrollWrapper = me)}>\n            {this.props.items}\n          </div>\n        </ScrollContainer>\n        <div\n          className=\"edgeEnd\"\n          onMouseEnter={() => {\n            let leftMoveSpeed = 2;\n            this.scrollLeft = setInterval(() => {\n              leftMoveSpeed = Math.min(12, leftMoveSpeed + 0.1);\n              this.scrollView.getElement().scrollBy({ left: leftMoveSpeed });\n            }, 10);\n          }}\n          onMouseLeave={() => {\n            clearInterval(this.scrollLeft);\n          }}\n        >\n          {showArrows && <FontAwesomeIcon icon={faCaretRight} style={{ fontSize: 24, color: showRightArrow ? \"#2a2a2a\" : \"#CCC\" }} />}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Lottie from \"react-lottie\";\n\nclass ControlledLottie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isStopped: false,\n      isPaused: false,\n    };\n  }\n\n  render() {\n    const { animationData, height, width } = this.props;\n\n    // const buttonStyle = {\n    //     display: 'inline-block',\n    //     margin: '10px auto',\n    //     marginRight: '10px',\n    //     border: 'none',\n    //     color: 'white',\n    //     backgroundColor: '#647DFF',\n    //     borderRadius: '2px',\n    //     fontSize: '15px'\n\n    // };\n\n    const defaultOptions = {\n      loop: true,\n      autoplay: true,\n      animationData,\n      rendererSettings: {\n        preserveAspectRatio: \"xMidYMid slice\",\n      },\n    };\n\n    return (\n      <div className=\"controlled\">\n        <Lottie options={defaultOptions} height={height || 400} width={width || 400} isStopped={this.state.isStopped} isPaused={this.state.isPaused} />\n      </div>\n    );\n  }\n}\n\nexport default ControlledLottie;\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport { Dropdown, Button, Menu, Modal, Input } from \"antd\";\r\nimport { Range } from \"rc-slider\";\r\nimport { addPlayerListeners, removePlayerListeners, getStations, assignStation } from \"../../../actions\";\r\nimport AdvanceFilter from \"../advance_filter\";\r\nimport StationsSection from \"../../../components/stationSection\";\r\nimport PublicStation from \"../../../components/public_stations/publicStation\";\r\nimport StationDetails from \"../../../components/stationDetails\";\r\nimport GenresSection from \"../../genre_section\";\r\nimport { Animated } from \"react-animated-css\";\r\nimport { Spin } from \"antd\";\r\nimport { trackScreen, logEvent, trackModal } from \"../../../configs\";\r\nimport { get, isEqual } from \"lodash\";\r\nimport { userTypes, supersets, categories, actions, labels, defaultStationCount } from \"../../../constants\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronDown, faFilter } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport { capitolizeFirstLetter, checkForMobile } from \"../../../util\";\r\nimport PageTitle from \"../../../components/page-title\";\r\nimport UncontrolledLottie from \"../../../components/UncontrolledLottie\";\r\nimport ControlledLottie from \"../../../components/ControlledLottie\";\r\nimport AdFree from \"../../../lotties/lottie_ad_free.json\";\r\nimport AntSpinner from \"../../../components/antSpinner\";\r\nimport MobileAppCommunicator from \"../../../helpers/MobileAppCommunicator\";\r\nimport \"../index.scss\";\r\nimport Auth0Helper from \"../../../helpers/Auth0Helper\";\r\n\r\nclass CreateSoundTrack extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      artistName: \"\",\r\n      searchText: \"\",\r\n      isStation: false,\r\n      isFixHeader: false,\r\n      showStationSearch: false,\r\n      showAppModal: false,\r\n      businessType: \"other\",\r\n      browseGenres: {},\r\n      defaultGenres: {}, // Easy reset for browseGenres\r\n      browseMoods: {},\r\n      defaultMoods: {}, // Easy reset for browseMoods\r\n      browseTempoRange: {\r\n        min: 30,\r\n        max: 150,\r\n      },\r\n      browseEraRange: {\r\n        from: 1950,\r\n        to: 2020,\r\n      },\r\n      playlistModalId: null,\r\n      playlists: null, // Station Sections\r\n      calculatedPlaylists: null,\r\n      // showAdFreeModal: true,\r\n      showAdvancedSearch: false,\r\n      isFiltering: false,\r\n      currentSelectedTempo: -1,\r\n      selectedGenres: {},\r\n      selectedMoods: {},\r\n      loadNumber: defaultStationCount,\r\n    };\r\n  }\r\n\r\n  getBusinessType() {\r\n    let businessType = get(this.props, \"myLocation.company.businessType\", \"restaurant\").toLowerCase();\r\n    if (businessType.toLowerCase() === \"other\") businessType = \"other\";\r\n    this.setState({ businessType });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { inApp } = this.props;\r\n    if (!isEqual(get(this.props, \"myLocation\", null), get(prevProps, \"myLocation\", null))) {\r\n      this.getBusinessType();\r\n\r\n      if (inApp) {\r\n        let storeCode = get(this.props, \"myLocation.storeCode\", \"\");\r\n        let station = get(this.props, \"myLocation.station._id\", \"\");\r\n        let location = get(this.props, \"myLocation\", \"\");\r\n\r\n        // If we're coming from the mobile intro screen & we're logged in & have a station selected already\r\n        if (localStorage.getItem(\"mobileIntroLogin\") && Auth0Helper.isLoggedIn() && storeCode && station && location?.company?.name) {\r\n          localStorage.removeItem(\"mobileIntroLogin\");\r\n          MobileAppCommunicator.send(\"player\", \"player/\" + storeCode);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    trackScreen();\r\n    this.getBusinessType();\r\n\r\n    let stationsAlreadyLoaded = get(this.props, \"playlistList\", []);\r\n    let getPlaylists = null;\r\n\r\n    if (!stationsAlreadyLoaded || stationsAlreadyLoaded.length <= 0) getPlaylists = await this.props.actions.getStations();\r\n    let playlists = getPlaylists ? get(getPlaylists, \"playlistList\", []) : get(this.props, \"playlistList\", []);\r\n\r\n    let browseGenres = playlists.reduce((total, current) => {\r\n      Object.keys(current.genres).forEach((genre) => {\r\n        total[genre] = false;\r\n      });\r\n      return total;\r\n    }, {});\r\n\r\n    let browseMoods = playlists.reduce((total, current) => {\r\n      Object.keys(current.moods).forEach((mood) => {\r\n        total[mood] = false;\r\n      });\r\n      return total;\r\n    }, {});\r\n\r\n    this.setState({ isLoading: false, playlists, browseGenres, defaultGenres: browseGenres, browseMoods, defaultMoods: browseMoods }, () => {\r\n      this.calculateBrowse();\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.actions.removePlayerListeners();\r\n  }\r\n\r\n  scrollIntoView = (id) => {\r\n    document.getElementById(id).scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  toggleStationSearch = () => {\r\n    const { showStationSearch } = this.state;\r\n    this.setState({ showStationSearch: !showStationSearch }, () => {\r\n      if (showStationSearch) {\r\n        setTimeout(() => {\r\n          const collapse = document.getElementsByClassName(\"ant-collapse-content-active\");\r\n          if (collapse && collapse.length) collapse[0].scrollIntoView();\r\n        }, 100);\r\n      } else\r\n        logEvent({\r\n          category: categories.discover,\r\n          action: actions.advancedBrowse,\r\n          label: labels.button,\r\n        });\r\n    });\r\n  };\r\n\r\n  calculateBrowse = () => {\r\n    const { loadNumber } = this.state;\r\n\r\n    // function capable of building a percentage list of an incoming object\r\n    const buildPercentages = (obj) => {\r\n      var returnedObj = {};\r\n      var keys = Object.keys(obj).filter((key) => obj[key]);\r\n      keys.forEach((key) => {\r\n        returnedObj[key] = 1 / keys.length;\r\n      });\r\n      return returnedObj;\r\n    };\r\n\r\n    const toVector = (obj, target) => {\r\n      var vector = [];\r\n      Object.keys(target).forEach((key) => {\r\n        if (obj[key]) vector.push(obj[key]);\r\n        else vector.push(0);\r\n      });\r\n      return vector;\r\n    };\r\n\r\n    const cosSim = (A, B) => {\r\n      var dotproduct = 0;\r\n      var mA = 0;\r\n      var mB = 0;\r\n      for (var i = 0; i < A.length; i++) {\r\n        dotproduct += A[i] * B[i];\r\n        mA += A[i] * A[i];\r\n        mB += B[i] * B[i];\r\n      }\r\n      mA = Math.sqrt(mA);\r\n      mB = Math.sqrt(mB);\r\n      var similarity = dotproduct / (mA * mB);\r\n      return similarity;\r\n    };\r\n\r\n    const scoreString = (searchString, targetString) => {\r\n      var score = 0;\r\n\r\n      for (var i = 0; i < searchString.length; i++) {\r\n        for (var j = i + 1; j < searchString.length + 1; j++) {\r\n          var ngram = searchString.slice(i, j);\r\n          if (!targetString.includes(ngram)) break;\r\n          score += Math.pow(ngram.length, 1.5) / targetString.length;\r\n        }\r\n      }\r\n\r\n      return score;\r\n    };\r\n\r\n    // start by filtering by tempo\r\n    var playlists = this.state.playlists.filter((playlist) => {\r\n      if (playlist?.bpm?.mean > this.state.browseTempoRange?.max) return false;\r\n      if (playlist?.bpm?.mean < this.state.browseTempoRange?.min) return false;\r\n      return true;\r\n    });\r\n\r\n    if (!this.state.searchText) {\r\n      var targetGenres = buildPercentages(this.state.browseGenres);\r\n      var targetMoods = buildPercentages(this.state.browseMoods);\r\n\r\n      var genresSelected = Object.keys(targetGenres).length !== 0;\r\n      var moodsSelected = Object.keys(targetMoods).length !== 0;\r\n\r\n      targetGenres = toVector(targetGenres, this.state.browseGenres);\r\n      targetMoods = toVector(targetMoods, this.state.browseMoods);\r\n\r\n      var genreSimilarities = {};\r\n      if (genresSelected) {\r\n        playlists.forEach((playlist) => {\r\n          genreSimilarities[playlist._id] = cosSim(toVector(playlist.genres, this.state.browseGenres), targetGenres);\r\n        });\r\n      }\r\n\r\n      var moodSimilarities = {};\r\n      if (moodsSelected) {\r\n        playlists.forEach((playlist) => {\r\n          moodSimilarities[playlist._id] = cosSim(toVector(playlist.moods, this.state.browseMoods), targetMoods);\r\n        });\r\n      }\r\n\r\n      playlists = playlists.sort((a, b) => {\r\n        var total = 0;\r\n        if (genresSelected) total += (genreSimilarities[b._id] - genreSimilarities[a._id]) * 0.5;\r\n        if (moodsSelected) total += (moodSimilarities[b._id] - moodSimilarities[a._id]) * 0.5;\r\n        return total;\r\n      });\r\n    } else {\r\n      playlists = playlists\r\n        .map((playlist) => {\r\n          var searchScore = 0;\r\n          searchScore += scoreString(this.state.searchText, playlist.name);\r\n          if (playlist.description) searchScore += scoreString(this.state.searchText, playlist.description);\r\n          return { ...playlist, searchScore: searchScore };\r\n        })\r\n        .sort((a, b) => {\r\n          return b.searchScore - a.searchScore;\r\n        });\r\n    }\r\n\r\n    // return only the top 12\r\n    playlists = playlists.slice(0, loadNumber);\r\n    this.setState({ calculatedPlaylists: playlists });\r\n  };\r\n\r\n  showPlaylistModal = (playlistId) => {\r\n    this.setState({ playlistModalId: playlistId });\r\n    trackModal(\"Station Preview: \" + playlistId);\r\n  };\r\n\r\n  updatePreference(e) {\r\n    this.setState({ businessType: e.key });\r\n    logEvent({\r\n      category: categories.discover,\r\n      action: actions.updatePreference,\r\n      value: e.key,\r\n      label: labels.button,\r\n    });\r\n  }\r\n\r\n  _checkIfAllFalse = (arr) => {\r\n    for (const select of arr) {\r\n      if (select === true) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  _checkIsFiltering = () => {\r\n    const { searchText, browseGenres, browseMoods, currentSelectedTempo } = this.state;\r\n    const isSearching = searchText.length > 0;\r\n    const isSelectingGenre = this._checkIfAllFalse(Object.values(browseGenres)) === false;\r\n    const isSelectingMood = this._checkIfAllFalse(Object.values(browseMoods)) === false;\r\n    const isSelectingTempo = currentSelectedTempo > -1;\r\n\r\n    return isSearching || isSelectingGenre || isSelectingMood || isSelectingTempo;\r\n  };\r\n\r\n  onSetFiltering = () => {\r\n    if (this._checkIsFiltering()) this.setState({ isFiltering: true });\r\n    else this.setState({ isFiltering: false });\r\n  };\r\n\r\n  // Selects a genre\r\n  onSelectGenre = (genre) => () => {\r\n    let selectedGenres = { ...this.state.selectedGenres };\r\n    selectedGenres[genre] ? delete selectedGenres[genre] : (selectedGenres[genre] = true);\r\n\r\n    this.setState({ showAdvancedSearch: Object.keys(selectedGenres).length > 0 ? true : false, selectedGenres, browseGenres: { ...this.state.browseGenres, [genre]: !this.state.browseGenres[genre] }, loadNumber: defaultStationCount }, () => {\r\n      this.onSetFiltering();\r\n      this.calculateBrowse();\r\n      this.showClearFilters();\r\n    });\r\n  };\r\n\r\n  // Selects a mood\r\n  onSelectMood = (mood) => {\r\n    let selectedMoods = { ...this.state.selectedMoods };\r\n    selectedMoods[mood] ? delete selectedMoods[mood] : (selectedMoods[mood] = true);\r\n\r\n    this.setState({ selectedMoods, browseMoods: { ...this.state.browseMoods, [mood]: !this.state.browseMoods[mood] } }, () => {\r\n      this.onSetFiltering();\r\n      this.calculateBrowse();\r\n      this.showClearFilters();\r\n    });\r\n  };\r\n\r\n  // Selects a tempo\r\n  onSelectTempo = (tempo, index) => {\r\n    this.setState({ browseTempoRange: { min: tempo[0], max: tempo[1] }, currentSelectedTempo: index }, () => {\r\n      this.onSetFiltering();\r\n      this.calculateBrowse();\r\n      this.showClearFilters();\r\n    });\r\n  };\r\n\r\n  // Deselects tempo\r\n  onDeselectTempo = () => {\r\n    this.setState({ browseTempoRange: { min: 30, max: 150 }, currentSelectedTempo: -1 }, () => {\r\n      this.onSetFiltering();\r\n      this.calculateBrowse();\r\n      this.showClearFilters();\r\n    });\r\n  };\r\n\r\n  // Selects an era\r\n  onSelectEra = (era) => {\r\n    this.setState({ browseEraRange: { from: era[0], to: era[1] } });\r\n  };\r\n\r\n  // Updates the station search text\r\n  onSetSearchText = (e) => {\r\n    this.setState({ searchText: e.target.value }, () => {\r\n      this.onSetFiltering();\r\n      clearTimeout(this.searchTimeout);\r\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\r\n    });\r\n  };\r\n\r\n  // Clears all selections from advanced filters\r\n  clearAdvancedFilters() {\r\n    const { defaultGenres, defaultMoods } = this.state;\r\n    this.setState({ searchText: \"\", selectedGenres: {}, selectedMoods: {}, browseGenres: defaultGenres, browseMoods: defaultMoods, loadNumber: defaultStationCount, currentSelectedTempo: -1 }, () => {\r\n      this.onSetFiltering();\r\n      clearTimeout(this.searchTimeout);\r\n      this.searchTimeout = setTimeout(this.calculateBrowse, 250);\r\n    });\r\n  }\r\n\r\n  // Decides whether to show or hide advanced search menu\r\n  showClearFilters() {\r\n    const { currentSelectedTempo, selectedGenres, selectedMoods, searchText } = this.state;\r\n    if (searchText.length > 0 || Object.keys(selectedGenres).length > 0 || Object.keys(selectedMoods).length > 0 || currentSelectedTempo !== -1) return true;\r\n    else return false;\r\n  }\r\n\r\n  // Shows more stations in advanced search\r\n  loadMoreStations() {\r\n    this.setState({ loadNumber: this.state.loadNumber + defaultStationCount }, () => {\r\n      this.calculateBrowse();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isApple, inApp } = this.props;\r\n    const { showAdFreeModal, browseMoods, isLoading, playlists, businessType, playlistModalId, showAdvancedSearch, currentSelectedTempo, browseEraRange, isFiltering, browseGenres, searchText, calculatedPlaylists, selectedGenres } = this.state;\r\n\r\n    let modalWidth = checkForMobile() ? \"90%\" : \"80%\";\r\n    let globalStations = {};\r\n    let businessTypeStations = {};\r\n    let userType = get(this.props, \"user.role\", null);\r\n    let company = get(this.props, \"user.company\", \"\");\r\n    let favorites = get(this.props, \"myLocation.favorites\", []);\r\n    let hasFavorites = favorites.length > 0 ? true : false;\r\n    let favoritesQueue = {};\r\n    if (hasFavorites) favoritesQueue[\"Favorites\"] = favorites;\r\n\r\n    for (var superset of supersets.global) globalStations[superset] = [];\r\n\r\n    let businessTypeSuperset = businessType.toLowerCase() === \"other\" && userType === userTypes.Individual ? supersets[\"defaultIndividual\"] : supersets[businessType.toLowerCase()];\r\n\r\n    for (var superset of businessTypeSuperset) businessTypeStations[superset] = [];\r\n\r\n    if (!isLoading) {\r\n      for (var playlist of playlists) {\r\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\r\n          if (playlistSuperset in globalStations) globalStations[playlistSuperset].push(playlist);\r\n          if (playlistSuperset in businessTypeStations) businessTypeStations[playlistSuperset].push(playlist);\r\n        }\r\n      }\r\n    }\r\n\r\n    const businessTypeMenu = (\r\n      <Menu onClick={(e) => this.updatePreference(e)} selectedKeys={[businessType]} className=\"menu-wrapper\">\r\n        <Menu.Item key=\"bar\">Bar</Menu.Item>\r\n        <Menu.Item key=\"cafe\">Cafe</Menu.Item>\r\n        <Menu.Item key=\"gym\">Gym</Menu.Item>\r\n        <Menu.Item key=\"hotel\">Hotel</Menu.Item>\r\n        <Menu.Item key=\"other\">Other</Menu.Item>\r\n        <Menu.Item key=\"restaurant\">Restaurant</Menu.Item>\r\n        <Menu.Item key=\"salon\">Salon</Menu.Item>\r\n        <Menu.Item key=\"school\">School</Menu.Item>\r\n        <Menu.Item key=\"spa\">Spa</Menu.Item>\r\n        <Menu.Item key=\"shop\">Shop</Menu.Item>\r\n      </Menu>\r\n    );\r\n\r\n    return (\r\n      <div className={\"discoverWrapper\"} id=\"discover-container\">\r\n        <Modal visible={Boolean(playlistModalId)} onCancel={() => this.showPlaylistModal(null)} width={modalWidth} bodyStyle={{ minHeight: \"80vh\", padding: 0 }} closable={true} footer={null} style={{ borderRadius: 10, overflow: \"hidden\" }}>\r\n          <StationDetails login={this.props.login} playlistId={playlistModalId} close={() => this.showPlaylistModal(null)} />\r\n        </Modal>\r\n        <div className=\"create-body\">\r\n          {/* Display page title if we're not viewing from mobile app */}\r\n          {!inApp && (\r\n            <div className=\"discover-head-wrapper\">\r\n              <PageTitle\r\n                title={\r\n                  <span>\r\n                    Let's Find Your\r\n                    <span style={{ color: \"#D04283\" }}>&nbsp;ambii</span>-ance\r\n                  </span>\r\n                }\r\n                subtitle={\"Discover the right music for your business\"}\r\n                style={{ flex: 1 }}\r\n              />\r\n\r\n              {userType !== userTypes.Individual && (\r\n                <div className={\"discover-buttons\"}>\r\n                  <div className={\"viewOptions\"}>\r\n                    <Dropdown overlay={businessTypeMenu} trigger={[\"click\"]} className={\"preference-menu\"}>\r\n                      <Button className={\"preference-menu-button\"}>\r\n                        <span style={{ marginRight: \"5px\", color: \"black\" }}>Preference:</span>\r\n                        {capitolizeFirstLetter(businessType)}\r\n                        <FontAwesomeIcon icon={faChevronDown} style={{ marginLeft: \"8px\" }} />\r\n                      </Button>\r\n                    </Dropdown>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <Spin indicator={AntSpinner} spinning={isLoading} style={{ backgroundColor: \"#f5f5f5\" }}>\r\n            {isLoading && <div style={{ width: \"100%\", height: \"30vh\" }}></div>}\r\n            {!isLoading && (\r\n              <Animated animationIn=\"fadeIn\" isVisible={true}>\r\n                <div className={\"browseSettingsContainer \".concat(showAdvancedSearch && \"showAdvancedSearch\")}>\r\n                  <div className=\"searchWrapper\">\r\n                    <div className=\"searchInput\">\r\n                      <Input.Search className=\"searchBar\" placeholder=\"Search\" value={searchText} onChange={this.onSetSearchText} />\r\n                    </div>\r\n                    <Button onClick={() => this.setState((prevState) => ({ showAdvancedSearch: !prevState.showAdvancedSearch }))} className={showAdvancedSearch ? \"active\" : null}>\r\n                      <FontAwesomeIcon icon={faFilter} style={{ paddingRight: \"4px\" }} />\r\n                      Filters\r\n                    </Button>\r\n                    {this.showClearFilters() && (\r\n                      <Button onClick={() => this.clearAdvancedFilters()} style={{ marginLeft: \"10px\" }}>\r\n                        Clear\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"genreWrapper\">\r\n                    <div className=\"browseSelectionsContainer\">\r\n                      <GenresSection\r\n                        items={Object.keys(browseGenres).map((genre) => (\r\n                          <span\r\n                            key={genre}\r\n                            className=\"mobileGenreItem\"\r\n                            onClick={this.onSelectGenre(genre)}\r\n                            style={{\r\n                              backgroundColor: browseGenres[genre] ? \"rgba(95, 95, 95, 0.2)\" : \"transparent\",\r\n                            }}\r\n                          >\r\n                            {genre}\r\n                          </span>\r\n                        ))}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <SlideDown style={{ width: \"100%\" }}>{showAdvancedSearch ? <AdvanceFilter browseMoods={browseMoods} currentSelectedTempo={currentSelectedTempo} browseEraRange={browseEraRange} onSelectTempo={this.onSelectTempo} onDeselectTempo={this.onDeselectTempo} onSelectEra={this.onSelectEra} onSelectMood={this.onSelectMood} /> : null}</SlideDown>\r\n                </div>\r\n\r\n                {isFiltering ? (\r\n                  <div className=\"advanced-station-wrapper\">\r\n                    <div className=\"playlistsContainer\">\r\n                      {calculatedPlaylists\r\n                        ? calculatedPlaylists.map((playlist, i) => {\r\n                            return (\r\n                              <div className=\"playlistContainer\" key={get(playlist, \"_id\", i)}>\r\n                                <PublicStation showPlaylistModal={this.showPlaylistModal} assignStation={this.props.actions.assignStation} company={company} browse={true} history={this.props.history} {...playlist} />\r\n                              </div>\r\n                            );\r\n                          })\r\n                        : null}\r\n                    </div>\r\n                    <Button className={\"load-more\"} onClick={() => this.loadMoreStations()}>\r\n                      Load More\r\n                    </Button>\r\n                  </div>\r\n                ) : null}\r\n\r\n                {!isFiltering ? (\r\n                  <div>\r\n                    {hasFavorites &&\r\n                      Object.keys(favoritesQueue).map((favorite, i) => {\r\n                        return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={favorite} id={favorite} rowIndex={i} title={favorite} type={favorite} data={favoritesQueue[favorite]} source={\"discover\"} isApple={isApple} showViewAll />;\r\n                      })}\r\n                    {!isApple &&\r\n                      Object.keys(globalStations).map((superset, i) => {\r\n                        if (globalStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} rowIndex={hasFavorites ? null : i} title={superset} type={superset} data={globalStations[superset]} source={\"discover\"} showViewAll />;\r\n                      })}\r\n                    {!isApple &&\r\n                      Object.keys(businessTypeStations).map((superset) => {\r\n                        if (businessTypeStations[superset].length > 0) return <StationsSection showPlaylistModal={this.showPlaylistModal} company={company} key={superset} id={superset} title={superset} type={superset} data={businessTypeStations[superset]} source={\"discover\"} showViewAll />;\r\n                      })}\r\n                  </div>\r\n                ) : null}\r\n              </Animated>\r\n            )}\r\n          </Spin>\r\n          <div className=\"pageFooter\" />\r\n        </div>\r\n\r\n        {/* AD FREE */}\r\n        {/* <Modal\r\n          visible={showAdFreeModal}\r\n          onOk={() => this.setState({ showAdFreeModal: false })}\r\n          onCancel={() => this.setState({ showAdFreeModal: false })}\r\n          width={modalWidth}\r\n          footer={[]}\r\n          className=\"app-modal\"\r\n        >\r\n          <div className=\"connect-wrapper\">\r\n            <div className=\"connect-header\">\r\n              Welcome to <span style={{ color: '#D04283' }}>Ambii</span>\r\n            </div>\r\n            <div className=\"connect-text\">\r\n              We've set you up with 60 days of ad-free music, on us!\r\n            </div>\r\n            <div className=\"connect-text\" style={{ marginTop: '25px' }}>\r\n              After the 60 days, there's no pressure to subscribe or give us\r\n              your credit card information. Our advertisements let us promise to\r\n              be <span style={{ color: '#D04283' }}>Free. Forever!</span>\r\n            </div>\r\n            <div className=\"connect-animation\">\r\n              <UncontrolledLottie animationData={AdFree} />\r\n            </div>\r\n            <div className=\"connect-text\">\r\n              Now, simply choose any station and start playing music!\r\n            </div>\r\n            <div className=\"connect-button-group\" style={{ marginTop: '25px' }}>\r\n              <Button\r\n                type=\"primary\"\r\n                className={'big-button'}\r\n                onClick={() => this.setState({ showAdFreeModal: false })}\r\n              >\r\n                Get Started\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        addPlayerListeners,\r\n        removePlayerListeners,\r\n        getStations,\r\n        assignStation,\r\n      },\r\n      dispatch\r\n    ),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n    stations: state.stations,\r\n    playlistList: state.stations.playlistList,\r\n    genreList: state.stations.genreList,\r\n    eraList: state.stations.eraList,\r\n    moodList: state.stations.moodList,\r\n    isApple: state.auth.isApple,\r\n    inApp: state.auth.inApp,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSoundTrack));\r\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport GenreColorBar from \"../genre-color-bar\";\nimport { getBPMInfo } from \"../../util\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nclass StationTile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovered: false,\n    };\n  }\n\n  render() {\n    const { data, simple } = this.props;\n    let key = get(data, \"_id\", data);\n    let name = get(data, \"name\", \"\");\n    let bpm = get(data, \"bpm.mean\", 100).toFixed(0);\n    let genres = get(data, \"genres\", []);\n    let bpmInfo = getBPMInfo(bpm);\n\n    return (\n      <div className=\"schedule-playlist draggable-events\" title={name} data={key} onMouseEnter={() => this.setState({ hovered: true })} onMouseLeave={() => this.setState({ hovered: false })}>\n        <div className=\"flexRow station-content noselect\">\n          <div className=\"name\"> {name} </div>\n          <div className=\"bpm-wrapper\">\n            <FontAwesomeIcon icon={get(bpmInfo, \"icon\", \"\")} style={{ fontSize: 24 }} />\n          </div>\n        </div>\n        <GenreColorBar genres={genres} roundBottom={true} simple={simple} />\n      </div>\n    );\n  }\n}\n\nexport default StationTile;\n","import React, { Component } from \"react\";\nimport StationTile from \"../station-tile\";\nimport { get } from \"lodash\";\nimport \"./index.scss\";\n\nlet MIN_COUNT = 5;\n\nclass StationVerticalList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  toggleExpand() {\n    this.setState({ expanded: !this.state.expanded });\n  }\n\n  render() {\n    const { label, data } = this.props;\n    const { expanded } = this.state;\n    let displayData = [...data];\n\n    if (!expanded) displayData = displayData.slice(0, MIN_COUNT);\n\n    return (\n      <div className=\"music-section-wrapper\">\n        <div className=\"music-section-header\"> {label} </div>\n        {displayData.map((elem) => (\n          <StationTile data={elem} key={get(elem, \"_id\", elem)} simple />\n        ))}\n\n        {data.length > MIN_COUNT && (\n          <div className=\"view-more\" onClick={() => this.toggleExpand()}>\n            {expanded ? \"View Less\" : \"View More\"}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default StationVerticalList;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPenSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, isEqual } from \"lodash\";\nimport \"./index.scss\";\n\nclass ToggleInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: \"\",\n      activeInput: false,\n    };\n    this.inputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    try {\n      document.addEventListener(\"mousedown\", (e) => this.handleClickOutside(e));\n      document.addEventListener(\"keypress\", (e) => this.handleKeyDown(e));\n    } catch (err) {\n      console.log(\"caught didMount toggleInput err: \", err);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!isEqual(get(this.props, \"text\", \"\"), get(prevProps, \"text\", \"\"))) {\n      console.log(\"props: \", this.props);\n      this.setState({ text: get(this.props, \"text\", \"\") });\n    }\n\n    if (!get(this.state, \"activeInput\", false) && !isEqual(get(this.state, \"activeInput\", false), get(prevState, \"activeInput\", false))) {\n      console.log(\"onUpdate: \", this.state);\n      this.props.onUpdate(this.state.text);\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\n      document.removeEventListener(\"keypress\", this.handleKeyDown);\n    } catch (err) {\n      console.log(\"caught willUnmount toggleInput err: \", err);\n    }\n  }\n\n  // Tries to capture 'enter' press\n  handleKeyDown(e) {\n    if (get(e, \"key\", \"\").toLowerCase() === \"enter\") {\n      this.setState({ activeInput: false });\n    }\n  }\n\n  // Listens for clicks outside this component\n  handleClickOutside(e) {\n    let current = get(this, \"inputRef.current\", \"\");\n    if (current && !current.contains(e.target)) this.setState({ activeInput: false });\n  }\n\n  // Handles updating text changes\n  handleUpdate = (e) => {\n    let copy = { ...e };\n    let val = get(copy, \"target.value\", \"\");\n    this.setState({ text: val.length > 0 && val.length < 40 ? val : val.substring(0, 40) });\n  };\n\n  // Handles input focus toggle\n  toggleInput = () => {\n    try {\n      this.setState({ activeInput: !this.state.activeInput }, () => {\n        this.inputRef.current.focus(); // Autofocus the input\n      });\n    } catch (err) {\n      console.log(\"caught: \", err);\n    }\n  };\n\n  render() {\n    const { activeInput, text } = this.state;\n\n    return (\n      <div className={\"toggle-input noselect\"}>\n        {!activeInput && (\n          <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n            <div className=\"scheduleName\" onClick={() => this.toggleInput()}>\n              {text}\n            </div>\n            <FontAwesomeIcon icon={faPenSquare} className=\"icon inputIcon\" onClick={() => this.toggleInput()} />\n          </div>\n        )}\n        {activeInput && <input ref={this.inputRef} onChange={(e) => this.handleUpdate(e)} className=\"scheduleNameInput\" placeholder={text} />}\n      </div>\n    );\n  }\n}\n\nexport default ToggleInput;\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { getStations, saveSchedule, getSchedule, getSchedules } from \"../../actions\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport interactionPlugin, { Draggable } from \"@fullcalendar/interaction\"; // needed for dayClick\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faDesktop, faSmile } from \"@fortawesome/pro-light-svg-icons\";\r\nimport { Modal, Button, Spin, notification } from \"antd\";\r\nimport StationVerticalList from \"../../components/stationVerticalList\";\r\nimport _, { isEqual, get } from \"lodash\";\r\nimport { trackScreen, logEvent } from \"../../configs\";\r\nimport { categories, actions, labels, supersets } from \"../../constants\";\r\nimport { checkForMobile } from \"../../util\";\r\nimport AntSpinner from \"../../components/antSpinner\";\r\nimport ToggleInput from \"../../components/toggleInput\";\r\nimport \"./index.scss\";\r\n\r\nconst { confirm } = Modal;\r\n\r\nclass CreateSchedule extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      isMobile: checkForMobile(),\r\n      stations: [],\r\n      stationName: \"\",\r\n      mySchedule: {},\r\n      scheduleId: this.props.match.params.id === \"new\" ? null : this.props.match.params.id,\r\n      playlists: [],\r\n      showMusicPlayer: false,\r\n      isSaving: false,\r\n    };\r\n    this.calendarComponentRef = React.createRef();\r\n  }\r\n\r\n  // Adding dragable properties to external events through javascript\r\n  async componentDidMount() {\r\n    trackScreen();\r\n\r\n    if (this.props.stations.playlistList.length === 0) {\r\n      await this.props.actions.getStations().then((res) => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n    } else {\r\n      this.setState({ isLoading: false });\r\n    }\r\n\r\n    this.setUpFunction();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(get(this.props, \"player.showPlayer\", null), get(prevProps, \"player.showPlayer\", null))) {\r\n      this.setState({ showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\r\n        this.accessFullCalendarAPI();\r\n      });\r\n    }\r\n\r\n    if (prevProps.stations !== this.props.stations) {\r\n      this.setUpFunction();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    try {\r\n      window.removeEventListener(\"resize\", this.accessFullCalendarAPI);\r\n    } catch (err) {\r\n      console.log(\"caught: \", err);\r\n    }\r\n  }\r\n\r\n  //Setup Function\r\n  setUpFunction = async () => {\r\n    this.setState({ stationName: \"New Station\" });\r\n    if (this.props.match.params.id !== \"new\") {\r\n      this.setState({ stationName: get(this.state.mySchedule, \"name\", \"New Station\") });\r\n      //getting data from server if not available in redux\r\n      if (this.props.playlists.schedules.length < 1) {\r\n        let schedule = await this.props.actions.getSchedule(this.props.match.params.id);\r\n        let mySchedule = get(schedule, \"data[0]\", null);\r\n        let stationName = get(schedule, \"data[0].name\", null);\r\n        let stations = get(schedule, \"data[0].stations\", null);\r\n        this.setState({ mySchedule, stationName, stations });\r\n      } else {\r\n        let [schedule] = this.props.playlists?.schedules?.filter((value) => value._id === this.props.match.params.id);\r\n        let mySchedule = schedule;\r\n        let stationName = get(schedule, \"name\", null);\r\n        let stations = get(schedule, \"stations\", null);\r\n        this.setState({ mySchedule, stationName, stations });\r\n      }\r\n    }\r\n    let playlists = get(this.props.stations, \"playlistList\", []);\r\n\r\n    let browseGenres = playlists.reduce((total, current) => {\r\n      Object.keys(current.genres).forEach((genre) => {\r\n        total[genre] = false;\r\n      });\r\n      return total;\r\n    }, {});\r\n    let browseMoods = playlists.reduce((total, current) => {\r\n      Object.keys(current.moods).forEach((mood) => {\r\n        total[mood] = false;\r\n      });\r\n      return total;\r\n    }, {});\r\n\r\n    this.setState({ isLoading: false, playlists, browseGenres, browseMoods, showMusicPlayer: get(this.props, \"player.showPlayer\", false) }, () => {\r\n      try {\r\n        this.accessFullCalendarAPI();\r\n        window.addEventListener(\"resize\", this.accessFullCalendarAPI.bind(this));\r\n        let draggableEl = document.getElementById(\"external-events\");\r\n        new Draggable(draggableEl, {\r\n          itemSelector: \".draggable-events\",\r\n          eventData: (eventEl) => {\r\n            let title = eventEl.getAttribute(\"title\");\r\n            let id = eventEl.getAttribute(\"data\");\r\n            return { title, id };\r\n          },\r\n        });\r\n      } catch (err) {\r\n        console.log(\"caught err: \", err);\r\n      }\r\n    });\r\n    if (this.state.isMobile) logEvent({ category: categories.schedule, action: actions.viewedMobile });\r\n  };\r\n  // Calendar options\r\n  accessFullCalendarAPI() {\r\n    try {\r\n      this.setState({ isMobile: checkForMobile() });\r\n\r\n      let sideSection = document.getElementById(\"external-events\") || null;\r\n      if (sideSection) sideSection = sideSection.getBoundingClientRect().height; // Subtract music player height from side-section\r\n\r\n      let calendar = this.calendarComponentRef.current.getApi();\r\n      calendar.setOption(\"height\", sideSection); // Shouldn't need to do this, but the calendar css is stuipd\r\n      calendar.setOption(\"eventColor\", \"#2F2F2F\");\r\n    } catch (err) {\r\n      console.log(\"caught: \", err);\r\n    }\r\n  }\r\n\r\n  renderHeader = (date) => {\r\n    switch (date.getDay()) {\r\n      case 1:\r\n        return \"Monday\";\r\n      case 2:\r\n        return \"Tuesday\";\r\n      case 3:\r\n        return \"Wednesday\";\r\n      case 4:\r\n        return \"Thursday\";\r\n      case 5:\r\n        return \"Friday\";\r\n      case 6:\r\n        return \"Saturday\";\r\n      default:\r\n        return \"Sunday\";\r\n    }\r\n  };\r\n\r\n  validateEvent = (data) => {\r\n    if (data.event.start.getDate() !== data.event.end.getDate()) {\r\n      if (data.event.start.getDate() + 1 === data.event.end.getDate() && data.event.end.getHours() === 0 && data.event.end.getMinutes() === 0) {\r\n        console.log(\"Same day allowed\");\r\n      } else {\r\n        data.revert();\r\n      }\r\n    }\r\n  };\r\n\r\n  saveScheduleChanges = () => {\r\n    const { stationName, scheduleId } = this.state;\r\n\r\n    try {\r\n      this.setState({ isSaving: true }, () => {\r\n        let calendar = this.calendarComponentRef.current.getApi();\r\n        let calendarEvents = calendar.getEvents();\r\n\r\n        // Send in the correct format to server\r\n        let tempStations = [];\r\n        calendarEvents.forEach((station) => {\r\n          tempStations.push({\r\n            start: moment(station.start).format(),\r\n            end: moment(station.end).format(),\r\n            day: moment(station.start).format(),\r\n            title: station.title,\r\n            stationId: station.id !== null && station.id !== \"\" ? station.id : station.extendedProps.stationId,\r\n          });\r\n        });\r\n\r\n        this.props.actions.saveSchedule({ scheduleId, name: stationName, stations: tempStations }).then(() => {\r\n          // this.setState({ isSaving: false }, () => {\r\n          // logEvent({ category: categories.schedule, action: actions.saveSchedule, label: labels.button });\r\n          this.props.actions.getSchedules().then((res) => {\r\n            this.setState({ isSaving: false });\r\n            notification.success({ message: \"Schedule Saved\", placement: \"bottomLeft\" });\r\n            this.props.history.push(\"/schedules\");\r\n          });\r\n          // });\r\n        });\r\n      });\r\n    } catch (err) {\r\n      logEvent({ category: categories.schedule, value: err, label: labels.error });\r\n      this.setState({ isSaving: false });\r\n      console.log(\"caught: \", err);\r\n    }\r\n  };\r\n\r\n  closeSchedule = () => {\r\n    logEvent({ category: categories.schedule, action: actions.closeSchedule, label: labels.button });\r\n    this.props.history.push(\"/schedules\");\r\n  };\r\n\r\n  backToDashboard = () => {\r\n    logEvent({ category: categories.schedule, action: actions.backToDashboard, label: labels.button });\r\n    this.props.history.push(\"/nowPlaying\");\r\n  };\r\n\r\n  showErrorMessage() {\r\n    return (\r\n      <div className=\"error-div\">\r\n        <div className=\"title\">Mobile Not Supported</div>\r\n        <div className=\"subtitle\">Please view this page on desktop.</div>\r\n        <div className=\"phone\">\r\n          <FontAwesomeIcon icon={faDesktop} className=\"mobile-icon\" />\r\n          <FontAwesomeIcon icon={faSmile} className=\"frown-icon\" />\r\n        </div>\r\n        <Button className={\"optionButton\"} onClick={() => this.backToDashboard()}>\r\n          Back to Dashboard\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  eventClick(e) {\r\n    confirm({\r\n      title: \"Delete this station?\",\r\n      content: get(e, \"event.title\", \"\") + \": \" + moment(get(e, \"event.start\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.start\", \"\")).format(\"LT\") + \" - \" + moment(get(e, \"event.end\", \"\")).format(\"ddd\") + \" \" + moment(get(e, \"event.end\", \"\")).format(\"LT\"),\r\n      onOk() {\r\n        e.event.remove();\r\n      },\r\n      onCancel() {\r\n        console.log(\"Cancel\");\r\n      },\r\n    });\r\n  }\r\n\r\n  stationNameUpdate(stationName) {\r\n    this.setState({ stationName });\r\n  }\r\n\r\n  render() {\r\n    const { history } = this.props;\r\n    const { isLoading, playlists, stations, showMusicPlayer, isMobile, stationName, isSaving } = this.state;\r\n\r\n    let globalStations = {};\r\n    let businessTypeStations = {};\r\n    let favorites = get(this.props, \"myLocation.favorites\", []);\r\n\r\n    for (var superset of supersets.global) {\r\n      globalStations[superset] = [];\r\n    }\r\n\r\n    let businessTypeSuperset = supersets[\"defaultIndividual\"];\r\n\r\n    for (var superset of businessTypeSuperset) {\r\n      businessTypeStations[superset] = [];\r\n    }\r\n\r\n    if (!isLoading) {\r\n      for (var playlist of playlists) {\r\n        for (var playlistSuperset of get(playlist, \"supersets\", [])) {\r\n          if (playlistSuperset in globalStations) {\r\n            globalStations[playlistSuperset].push(playlist);\r\n          }\r\n          if (playlistSuperset in businessTypeStations) {\r\n            businessTypeStations[playlistSuperset].push(playlist);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let categorizedKeys = Object.keys(businessTypeStations);\r\n    let globalStationKeys = Object.keys(globalStations);\r\n\r\n    return (\r\n      <div className={\"schedulePageWrapper\"}>\r\n        <Spin indicator={AntSpinner} spinning={isLoading}>\r\n          {isMobile ? (\r\n            this.showErrorMessage()\r\n          ) : (\r\n            <>\r\n              <div className=\"topRowWrapper\">\r\n                <div className=\"topRowLeft\">\r\n                  <div className=\"scheduleNameWrapper\">\r\n                    <ToggleInput text={stationName} onUpdate={(e) => this.stationNameUpdate(e)} />\r\n                  </div>\r\n                  <div className=\"description\"> Drag and Drop Your Stations to Schedule When They Play </div>\r\n                </div>\r\n                <div className=\"scheduleButtonGroup\">\r\n                  <Button className={\"optionButton\"} loading={isSaving} type=\"primary\" onClick={isSaving ? null : () => this.saveScheduleChanges()}>\r\n                    Save & Close\r\n                  </Button>\r\n                  <Button className={\"optionButton\"} onClick={() => this.closeSchedule()}>\r\n                    Close\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bottomRowWrapper\" style={{ maxHeight: showMusicPlayer ? \"72vh !important\" : null }}>\r\n                <div id=\"external-events\" className=\"selectionWrapper\">\r\n                  {this.props.myLocation?.favorites?.length > 0 && <StationVerticalList label={\"Favorites\"} data={favorites} />}\r\n                  {globalStationKeys.map((superset) => (\r\n                    <StationVerticalList key={superset} label={superset} data={globalStations[superset]} />\r\n                  ))}\r\n                  {categorizedKeys.map((superset) => (\r\n                    <StationVerticalList key={superset} label={superset} data={businessTypeStations[superset]} />\r\n                  ))}\r\n                  <StationVerticalList label={\"General\"} data={playlists} />\r\n                  <div className=\"musicSectionWrapper\">\r\n                    <div className=\"musicSectionHeader\"> Browse More Soundtracks </div>\r\n                    <div className=\"musicSectionFooter\" onClick={() => history.push(\"/discover\")}>\r\n                      Discover Music\r\n                      <FontAwesomeIcon icon={faExternalLinkAlt} className=\"discoverIcon\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"calendarWrapper\">\r\n                  <div className=\"app-calendar noselect\" id=\"mycalendartest\">\r\n                    <FullCalendar\r\n                      defaultView=\"timeGridWeek\"\r\n                      header={false}\r\n                      defaultDate={\"2020-01-10T00:00:00.000Z\"}\r\n                      allDayDefault={false}\r\n                      eventDurationEditable={true}\r\n                      editable={true}\r\n                      events={stations}\r\n                      droppable={true}\r\n                      plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n                      ref={this.calendarComponentRef}\r\n                      eventDrop={this.validateEvent}\r\n                      eventReceive={(data) => {\r\n                        console.log(\"data: \", { ...data });\r\n                      }}\r\n                      slotDuration={\"00:30\"} // duration of slot interval\r\n                      eventClick={(e) => this.eventClick(e)}\r\n                      startRecur={Date.now()}\r\n                      allDaySlot={false}\r\n                      eventOverlap={false}\r\n                      columnHeaderText={this.renderHeader}\r\n                      eventResize={this.validateEvent}\r\n                      forceEventDuration={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </Spin>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        getStations,\r\n        saveSchedule,\r\n        getSchedule,\r\n        getSchedules,\r\n      },\r\n      dispatch\r\n    ),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n    stations: state.stations,\r\n    genreList: state.stations.genreList,\r\n    eraList: state.stations.eraList,\r\n    moodList: state.stations.moodList,\r\n    playlists: state.playlists,\r\n    schedules: state.schedules,\r\n    player: state.player,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateSchedule));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Animated } from \"react-animated-css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlay, faTrash } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport { assignSchedule, deleteSchedule } from \"../../actions\";\r\nimport AntSpinner from \"../antSpinner\";\r\nimport { get } from \"lodash\";\r\nimport { Spin, Modal, notification } from \"antd\";\r\nimport \"./index.scss\";\r\n\r\nconst { confirm } = Modal;\r\n\r\nclass ScheduleBlock extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hidden: true,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { wait } = this.props;\r\n\r\n    let timeout = setTimeout(() => {\r\n      this.setState({ hidden: false });\r\n      clearTimeout(timeout);\r\n    }, wait);\r\n  }\r\n\r\n  assignSchedule = (e) => {\r\n    e.stopPropagation();\r\n    this.setState({ isLoading: true }, () => {\r\n      let scheduleId = get(this.props, \"data._id\", null);\r\n\r\n      this.props.actions.assignSchedule(scheduleId).then((res) => {\r\n        if (res) {\r\n          this.setState({ isLoading: false });\r\n          this.props.history.push(\"/nowPlaying\", { isBack: true });\r\n        } else {\r\n          this.setState({ isLoading: false });\r\n          notification.error({ message: \"Error while assigning station\", placement: \"bottomLeft\" });\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  deleteSchedule = ({ e, data, props, callback }) => {\r\n    e.stopPropagation();\r\n    this.setState({ isLoading: true }, () => {\r\n      confirm({\r\n        title: \"Delete Schedule?\",\r\n        content: get(data, \"name\", \"\"),\r\n        onOk() {\r\n          let companyId = get(props, \"data.company._id\", null);\r\n          let scheduleId = get(props, \"data._id\", null);\r\n\r\n          props.actions.deleteSchedule({ companyId, scheduleId }).then((res) => {\r\n            if (!res) {\r\n              callback();\r\n              notification.error({ message: \"Error while deleting station\", placement: \"bottomLeft\" });\r\n            }\r\n          });\r\n        },\r\n        onCancel() {\r\n          callback();\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  stopLoading() {\r\n    this.setState({ isLoading: false });\r\n  }\r\n\r\n  render() {\r\n    const { data, onClick } = this.props;\r\n    const { hidden, isLoading } = this.state;\r\n    let hasData = get(data, \"stations\", []).length > 0;\r\n\r\n    return (\r\n      <>\r\n        {!hidden && (\r\n          <Animated animationIn=\"fadeIn\" isVisible={true}>\r\n            <Spin indicator={AntSpinner} spinning={isLoading}>\r\n              <div key={data._id} className=\"scheduleBlock\" style={{ backgroundColor: \"#eee\" }} onClick={() => onClick(data._id)}>\r\n                <div className={\"schedule-icon-row\"}></div>\r\n                <div className={\"schedule-text-wrapper\"} style={{ flex: 1 }}>\r\n                  <div className=\"schedule-text\">{get(data, \"name\", \"\")}</div>\r\n                </div>\r\n                <div className={\"schedule-icon-row\"}>\r\n                  {hasData && (\r\n                    <div className=\"schedule-icon\" onClick={(e) => this.assignSchedule(e)}>\r\n                      <FontAwesomeIcon icon={faPlay} className=\"icon\" />\r\n                    </div>\r\n                  )}\r\n                  <div className=\"schedule-icon\" onClick={(e) => this.deleteSchedule({ e, data, props: this.props, callback: () => this.stopLoading() })}>\r\n                    <FontAwesomeIcon icon={faTrash} className=\"icon\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Spin>\r\n          </Animated>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { actions: bindActionCreators({ assignSchedule, deleteSchedule }, dispatch) };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    stations: state.stations.data,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ScheduleBlock));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { getSchedules, editSchedule, createSchedule } from \"../../actions\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { get, isEqual } from \"lodash\";\r\nimport ScheduleBlock from \"../../components/scheduleBlock\";\r\nimport { trackScreen, logEvent } from \"../../configs\";\r\nimport { categories, actions } from \"../../constants\";\r\nimport PageTitle from \"../../components/page-title\";\r\nimport { Spin } from \"antd\";\r\nimport AntSpinner from \"../../components/antSpinner\";\r\nimport \"./index.scss\";\r\n\r\nclass Schedules extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      creatingSchedule: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    trackScreen();\r\n    if (this.props.playlists.schedules.length < 1) {\r\n      this.getUserSchedules();\r\n    } else {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // If webpage is loaded here (/schedules), do the following after props are fully loaded\r\n    if (!isEqual(get(this.props, \"myLocation.storeCode\", null), get(prevProps, \"myLocation.storeCode\", null))) {\r\n      console.log(\"update props: \", this.props);\r\n      this.getUserSchedules();\r\n    }\r\n  }\r\n\r\n  getUserSchedules = () => {\r\n    this.props.actions.getSchedules().then((res) => {\r\n      if (res) this.setState({ isLoading: false });\r\n    });\r\n  };\r\n\r\n  createNewSchedule() {\r\n    this.props.history.push(\"/createSchedule/new\");\r\n  }\r\n\r\n  editSchedule(scheduleId) {\r\n    logEvent({ category: categories.schedule, action: actions.createSchedule, value: scheduleId });\r\n    this.props.history.push(`/createSchedule/${scheduleId}`);\r\n  }\r\n\r\n  render() {\r\n    const { playlists } = this.props;\r\n    const { isLoading, creatingSchedule } = this.state;\r\n\r\n    return (\r\n      <div className=\"scheduleWrapper\">\r\n        <PageTitle\r\n          title={\r\n            <span>\r\n              Your <span style={{ color: \"#D04283\" }}>Schedules</span>\r\n            </span>\r\n          }\r\n          subtitle={\"Schedule out your stations for the whole week!\"}\r\n        />\r\n        <Spin indicator={AntSpinner} spinning={isLoading}>\r\n          <div className=\"scheduleBlockWrapper noselect\">\r\n            <div className=\"newSchedule\" onClick={() => (!creatingSchedule ? this.createNewSchedule() : null)}>\r\n              <div className=\"plusCircle\">\r\n                <FontAwesomeIcon icon={faPlus} className=\"icon\" />\r\n              </div>\r\n              <div className=\"newScheduleText\">Create Schedule</div>\r\n            </div>\r\n\r\n            {get(playlists, \"schedules\", []).map((elem, i) => (\r\n              <ScheduleBlock key={get(elem, \"_id\", elem)} wait={i * 300} data={elem} onClick={(id) => this.editSchedule(id)} />\r\n            ))}\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        getSchedules,\r\n        editSchedule,\r\n        createSchedule,\r\n      },\r\n      dispatch\r\n    ),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n    stations: state.stations,\r\n    playlistList: state.stations.playlistList,\r\n    genreList: state.stations.genreList,\r\n    eraList: state.stations.eraList,\r\n    moodList: state.stations.moodList,\r\n    playlists: state.playlists,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Schedules));\r\n","import React, { Component } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Select, Modal, Popover, Spin, notification, message } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { frequencies } from \"../../constants\";\r\nimport { faTimes } from \"@fortawesome/pro-light-svg-icons\";\r\nimport { faVolume, faEdit, faStop } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport { deleteMessage, updateFrequency, getMessages, setInStoreMessages } from \"../../actions\";\r\nimport \"./index.scss\";\r\nimport AntSpinner from \"../../components/antSpinner\";\r\n\r\nimport { faExclamation, faStopCircle } from \"@fortawesome/pro-solid-svg-icons\";\r\n\r\nconst { confirm } = Modal;\r\nconst { Option } = Select;\r\n\r\nclass MessageCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      messageData: this.props.message,\r\n      isPlaying: this.props.isPlaying,\r\n      isSaving: false,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.isPlaying !== this.props.isPlaying) {\r\n      if (this.props.isPlaying === false) {\r\n        this.setState({ isPlaying: false });\r\n      }\r\n    }\r\n  }\r\n\r\n  // Updates the message frequency\r\n  updateMessageFrequency({ e, messageData, user }) {\r\n    this.setState({ messageData: { ...messageData, frequency: e } }, () => {\r\n      this.props.actions.updateFrequency({ id: get(messageData, \"_id\", \"\"), frequency: e }).then((res) => {\r\n        if (res) this.props.actions.getMessages();\r\n      });\r\n    });\r\n  }\r\n\r\n  // Allows user to edit a message settings\r\n  editMessage({ messageData, props }) {\r\n    props.history.push(\"/createInStoreMessaging\", { ...messageData, locationId: get(this.props, \"myLocation._id\", \"\") });\r\n  }\r\n\r\n  // Prompts user to delete a message\r\n  delete({ messageData, props, setIsSavingFalse }) {\r\n    let messageTitle = messageData.title ? get(messageData, \"title\", \"\") : get(messageData, \"fileName\", \"\");\r\n    let messageDescription = messageData.message ? get(messageData, \"message\", \"\") : get(messageData, \"description\", \"No description given\");\r\n    confirm({\r\n      title: \"Delete Message?\",\r\n      content: messageTitle + \": \" + messageDescription,\r\n\r\n      onOk() {\r\n        props.actions.deleteMessage(get(messageData, \"_id\", \"\")).then((res) => {\r\n          if (res) {\r\n            props.actions.setInStoreMessages(props.inStoreMessaging.messages.filter((value) => value._id !== messageData._id));\r\n            notification.success({ message: \"Message Deleted\", description: messageTitle, placement: \"bottomLeft\" });\r\n            setIsSavingFalse();\r\n          }\r\n        });\r\n      },\r\n      onCancel() {\r\n        console.log(\"Cancel\");\r\n        setIsSavingFalse();\r\n      },\r\n    });\r\n  }\r\n\r\n  setIsSavingFalse = () => {\r\n    this.setState({ isSaving: false });\r\n  };\r\n\r\n  render() {\r\n    const { message, user, setPreviewUrl, myLocation, stopTrack } = this.props;\r\n    const { messageData, isPlaying } = this.state;\r\n\r\n    return (\r\n      <div className=\"messageCard\">\r\n        <Spin indicator={AntSpinner} spinning={this.state.isSaving}>\r\n          <div className=\"messageCardheader\">\r\n            {isPlaying === false ? (\r\n              <FontAwesomeIcon\r\n                icon={faVolume}\r\n                className={\"messageCardPreview\"}\r\n                style={{ marginRight: \"10px\" }}\r\n                onClick={() => {\r\n                  setPreviewUrl(get(messageData, \"url\", \"\"));\r\n                  this.setState({ isPlaying: true });\r\n                }}\r\n              />\r\n            ) : (\r\n              <FontAwesomeIcon\r\n                icon={faStopCircle}\r\n                className={\"messageCardStop\"}\r\n                style={{ marginRight: \"10px\" }}\r\n                onClick={() => {\r\n                  stopTrack();\r\n                  this.setState({ isPlaying: false });\r\n                }}\r\n              />\r\n            )}\r\n            {/* {!message.title && (\r\n              <Popover content={<div>Save the message first before using it</div>} title={\"Unfinished Message\"} trigger={\"hover\"}>\r\n                <FontAwesomeIcon icon={faExclamation} className={\"unfinishedIcon\"} />\r\n              </Popover>\r\n            )} */}\r\n            <div className={\"messageTitle\"}> {get(messageData, \"title\", \"\") || get(message, \"fileName\", \"\")} </div>\r\n            <FontAwesomeIcon icon={faEdit} className={\"icon\"} style={{ marginLeft: \"10px\" }} onClick={() => this.editMessage({ user, messageData, props: this.props })} />\r\n            <FontAwesomeIcon\r\n              icon={faTimes}\r\n              className={\"icon\"}\r\n              style={{ marginLeft: \"10px\" }}\r\n              onClick={() => {\r\n                this.delete({ user, messageData, props: this.props, setIsSavingFalse: this.setIsSavingFalse });\r\n                this.setState({ isSaving: true });\r\n              }}\r\n            />\r\n          </div>\r\n          <Select\r\n            disabled={!message.title}\r\n            defaultValue={get(message, \"frequency['\" + get(myLocation, \"_id\", \"\") + \"']\", \"\")}\r\n            onChange={(e) => {\r\n              this.updateMessageFrequency({ e, messageData, user });\r\n            }}\r\n          >\r\n            {frequencies.map((frequency, i) => (\r\n              <Option key={get(frequency, \"time\", i)} value={get(frequency, \"time\", \"60\")}>\r\n                {get(frequency, \"title\", \"Error\")}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        </Spin>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { actions: bindActionCreators({ deleteMessage, updateFrequency, getMessages, setInStoreMessages }, dispatch) };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n    inStoreMessaging: state.inStoreMessaging,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(MessageCard));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { getMessages } from \"../../actions\";\r\nimport { Button, Icon, notification, Spin } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport PageTitle from \"../../components/page-title\";\r\nimport MessageCard from \"../../components/messageCard\";\r\nimport ReactAudioPlayer from \"react-audio-player\";\r\nimport AntSpinner from \"../../components/antSpinner\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlus } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport Dragger from \"antd/lib/upload/Dragger\";\r\nimport { API_URL, AMBII_API_KEY } from \"../../configs\";\r\nimport \"./index.scss\";\r\n\r\nclass InStoreMessaging extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isPlaying: false,\r\n      previewTrackUrl: null,\r\n      isLoading: true,\r\n      selectedFile: null,\r\n      activeMessages: [],\r\n      inactiveMessages: [],\r\n      unfinishedMp3: [],\r\n    };\r\n  }\r\n\r\n  onChangeHandler = (event) => {\r\n    this.setState({ selectedFile: event.target.files[0] });\r\n  };\r\n\r\n  componentDidMount() {\r\n    //Only updating when instore messages changes\r\n    if (this.props.inStoreMessaging.messages && Object.keys(this.props.myLocation).length > 1) {\r\n      this.setState({\r\n        isLoading: false,\r\n        activeMessages: get(this.props.inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(this.props.myLocation, \"_id\", \"\") + \"']\", \"\")) > 0),\r\n        inactiveMessages: get(this.props.inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(this.props.myLocation, \"_id\", \"\") + \"']\", \"\")) === 0 && message.title),\r\n        unfinishedMp3: get(this.props.inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(this.props.myLocation, \"_id\", \"\") + \"']\", \"\")) === 0 && !message.title),\r\n      });\r\n\r\n      if (Object.keys(this.props.inStoreMessaging.messages).length < 1) {\r\n        this.setState({ isLoading: true });\r\n        this.props.actions.getMessages().then((res) => {\r\n          if (res) this.setState({ isLoading: false });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // If webpage is loaded here (/inStoreMessaging), do the following after props are fully loaded\r\n\r\n    if (prevProps.myLocation !== this.props.myLocation) {\r\n      this.setState({ isLoading: true }, () => {\r\n        this.props.actions.getMessages().then((res) => {\r\n          if (res) this.setState({ isLoading: false });\r\n        });\r\n      });\r\n    }\r\n\r\n    if (prevProps.inStoreMessaging !== this.props.inStoreMessaging) {\r\n      this.setState({\r\n        activeMessages: get(this.props.inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(this.props.myLocation, \"_id\", \"\") + \"']\", \"\")) > 0),\r\n        inactiveMessages: get(this.props.inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(this.props.myLocation, \"_id\", \"\") + \"']\", \"\")) === 0 && message.title),\r\n        unfinishedMp3: get(this.props.inStoreMessaging, \"messages\", []).filter((message) => parseInt(get(message, \"frequency['\" + get(this.props.myLocation, \"_id\", \"\") + \"']\", \"\")) === 0 && !message.title),\r\n      });\r\n    }\r\n  }\r\n\r\n  playTrack() {\r\n    this.setState({ isPlaying: true }, () => {\r\n      this.rap.audioEl.play();\r\n    });\r\n  }\r\n\r\n  stopTrack = () => {\r\n    this.setState({ isPlaying: false, previewTrackUrl: null }, () => {\r\n      this.rap.audioEl.pause();\r\n    });\r\n  };\r\n\r\n  setPreviewUrl(e) {\r\n    this.setState({ previewTrackUrl: e });\r\n  }\r\n\r\n  beforeUpload(file) {\r\n    const isMP3 = file.type === \"audio/mpeg\";\r\n    const isProperSize = file.size / 1024 / 1024 < 25;\r\n\r\n    if (!isMP3) notification.error({ message: \"You can only upload MP3 files!\", placement: \"bottomLeft\" });\r\n    if (!isProperSize) notification.error({ message: \"File must smaller than 50MB!\", placement: \"bottomLeft\" });\r\n    return isMP3 && isProperSize;\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const { previewTrackUrl, isLoading, activeMessages, inactiveMessages, unfinishedMp3 } = this.state;\r\n\r\n    return (\r\n      <div className=\"messageWrapper\">\r\n        <PageTitle\r\n          title={\r\n            <span>\r\n              In-Store <span style={{ color: \"#D04283\" }}> Messages </span>\r\n            </span>\r\n          }\r\n          subtitle=\"Custom announcements to help drive customer action\"\r\n        />\r\n        <div className=\"centerMessages\">\r\n          <div className=\"viewMessagesContainer\">\r\n            <div>\r\n              <div style={{ display: \"none\" }}>\r\n                <ReactAudioPlayer\r\n                  ref={(element) => {\r\n                    this.rap = element;\r\n                  }}\r\n                  src={previewTrackUrl}\r\n                  autoPlay={false}\r\n                  controls={false}\r\n                  muted={false}\r\n                  volume={1}\r\n                  onCanPlay={() => this.playTrack()}\r\n                  onEnded={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\r\n                  onError={() => this.setState({ isPlaying: false, previewTrackUrl: null })}\r\n                />\r\n              </div>\r\n              <div className=\"heading heading-medium\" style={{ marginTop: \"15px\" }}>\r\n                New Message\r\n              </div>\r\n              <Spin indicator={AntSpinner} spinning={isLoading}>\r\n                <div className=\"messageCreatingWrapper\">\r\n                  <Button onClick={() => this.props.history.push(\"/createInStoreMessaging\")} size=\"large\" className=\"btnCreateMessage\">\r\n                    Create New Message\r\n                    <FontAwesomeIcon icon={faPlus} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\r\n                  </Button>\r\n\r\n                  <div className=\"uploadISM\">\r\n                    <Dragger\r\n                      accept={\".mp3\"}\r\n                      name={\"sampleFile\"}\r\n                      beforeUpload={(e) => this.beforeUpload(e)}\r\n                      action={`${API_URL}/auth/uploadISM/`}\r\n                      headers={{\r\n                        Authorization: \"Bearer \" + localStorage.getItem(\"ambii_auth_jwt\"),\r\n                        ambii_api_key: AMBII_API_KEY,\r\n                      }}\r\n                      onChange={(info) => {\r\n                        const { status } = info.file;\r\n                        if (status === \"done\") {\r\n                          this.props.history.push({ pathname: \"/createInStoreMessaging\", state: { uploaded: true, ...get(info, \"file.response.data.newMessage\", \"\") } });\r\n                          notification.success({ message: \"Upload Success\", placement: \"bottomLeft\" });\r\n                        } else if (status === \"error\") {\r\n                          notification.error({ message: \"Upload Failed\", placement: \"bottomLeft\" });\r\n                        }\r\n                      }}\r\n                      showUploadList={{ showRemoveIcon: false }}\r\n                    >\r\n                      <p className=\"ant-upload-drag-icon\">\r\n                        <Icon type=\"inbox\" style={{ color: \"#d04283ae\" }} />\r\n                      </p>\r\n                      <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\r\n                      <p className=\"ant-upload-hint\">Upload Custom in store message in mp3 format</p>\r\n                      {/* </Spin> */}\r\n                    </Dragger>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* <Spin indicator={AntSpinner} spinning={isLoading}> */}\r\n                <div className={\"message-wrapper\"}>\r\n                  {activeMessages.length > 0 && (\r\n                    <>\r\n                      <div className=\"heading heading-medium\">Active Messages </div>\r\n                      {activeMessages.map((m, i) => (\r\n                        <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} isPlaying={this.state.isPlaying} stopTrack={this.stopTrack} />\r\n                      ))}\r\n                    </>\r\n                  )}\r\n\r\n                  {inactiveMessages.length > 0 && (\r\n                    <>\r\n                      <div className=\"heading heading-medium\" style={{ marginTop: \"15px\" }}>\r\n                        Inactive Messages\r\n                      </div>\r\n                      {inactiveMessages.map((m, i) => (\r\n                        <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} isPlaying={this.state.isPlaying} stopTrack={this.stopTrack} />\r\n                      ))}\r\n                    </>\r\n                  )}\r\n\r\n                  {unfinishedMp3.length > 0 && (\r\n                    <>\r\n                      <div className=\"heading heading-medium\" style={{ marginTop: \"15px\" }}>\r\n                        Unfinished Messages\r\n                      </div>\r\n                      {unfinishedMp3.map((m, i) => (\r\n                        <MessageCard key={get(m, \"_id\", i)} message={m} companyId={get(user, \"company._id\", null)} setPreviewUrl={(e) => this.setPreviewUrl(e)} isPlaying={this.state.isPlaying} previewTrackUrl={this.state.previewTrackUrl} stopTrack={this.stopTrack} />\r\n                      ))}\r\n                    </>\r\n                  )}\r\n                </div>\r\n                {/* </Spin> */}\r\n              </Spin>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { actions: bindActionCreators({ getMessages }, dispatch) };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n    inStoreMessaging: state.inStoreMessaging,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(InStoreMessaging));\r\n","import { faAngleRight } from \"@fortawesome/pro-regular-svg-icons\";\r\nimport { faCreditCard, faLockAlt, faStoreAlt, faUser } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Divider } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport { Link, matchPath, withRouter } from \"react-router-dom\";\r\nimport \"./index.scss\";\r\n\r\nconst SettingPanel = ({ match }) => {\r\n  const [state, setState] = useState({\r\n    user: false,\r\n    business: false,\r\n    payment: false,\r\n    security: false,\r\n  });\r\n\r\n  return (\r\n    <div className=\"setting-panel\">\r\n      <div className={\"menu-row\"}>\r\n        <Link\r\n          to=\"/settings/user\"\r\n          className={`menu-item ${match.params.setting === \"user\" ? \"active\" : null}`}\r\n          onMouseEnter={() => {\r\n            setState({ user: true });\r\n          }}\r\n          onMouseLeave={() => {\r\n            setState({ user: false });\r\n          }}\r\n        >\r\n          <div className={\"menu-icon\"}>\r\n            <FontAwesomeIcon icon={faUser} />\r\n          </div>\r\n          <div className=\"option-text\">Edit User</div>\r\n          {(match.params.setting === \"user\" || state.user) && (\r\n            <div className={\"hover-arrow\"}>\r\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\r\n            </div>\r\n          )}\r\n        </Link>\r\n      </div>\r\n      <Divider />\r\n\r\n      <div className={\"menu-row\"}>\r\n        <Link\r\n          to=\"/settings/business\"\r\n          className={`menu-item ${match.params.setting === \"business\" ? \"active\" : null}`}\r\n          onMouseEnter={() => {\r\n            setState({ business: true });\r\n          }}\r\n          onMouseLeave={() => {\r\n            setState({ business: false });\r\n          }}\r\n        >\r\n          <div className={\"menu-icon\"}>\r\n            <FontAwesomeIcon icon={faStoreAlt} />\r\n          </div>\r\n          <div className=\"option-text\">Edit Business</div>\r\n          {(match.params.setting === \"business\" || state.business) && (\r\n            <div className={\"hover-arrow\"}>\r\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\r\n            </div>\r\n          )}\r\n        </Link>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      <div className={\"menu-row\"}>\r\n        <Link\r\n          to=\"/settings/payment\"\r\n          className={`menu-item ${match.params.setting === \"payment\" ? \"active\" : null}`}\r\n          onMouseEnter={() => {\r\n            setState({ payment: true });\r\n          }}\r\n          onMouseLeave={() => {\r\n            setState({ payment: false });\r\n          }}\r\n        >\r\n          <div className={\"menu-icon\"}>\r\n            <FontAwesomeIcon icon={faCreditCard} />\r\n          </div>\r\n          <div className=\"option-text\">Payment</div>\r\n          {(match.params.setting === \"payment\" || state.payment) && (\r\n            <div className={\"hover-arrow\"}>\r\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\r\n            </div>\r\n          )}\r\n        </Link>\r\n      </div>\r\n\r\n      {/* <Divider /> */}\r\n\r\n      {/* <div className={\"menu-row\"}>\r\n        <Link\r\n          to=\"/settings/security\"\r\n          className={`menu-item ${match.params.setting === \"security\" ? \"active\" : null}`}\r\n          onMouseOver={() => {\r\n            setState({ security: true });\r\n          }}\r\n          onMouseOut={() => {\r\n            setState({ security: false });\r\n          }}\r\n        >\r\n          <div className={\"menu-icon\"}>\r\n            <FontAwesomeIcon icon={faLockAlt} />\r\n          </div>\r\n          <div className=\"option-text\">Password & Security</div>\r\n          {(match.params.setting === \"security\" || state.security) && (\r\n            <div className={\"hover-arrow\"}>\r\n              <FontAwesomeIcon icon={faAngleRight}></FontAwesomeIcon>\r\n            </div>\r\n          )}\r\n        </Link>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(SettingPanel);\r\n","import React from \"react\";\r\nimport \"./index.scss\";\r\n\r\nconst CustomInput = ({ placeholder = null, type = \"text\", label = \"default label\", name, onChange, ...otherInputProps }) => {\r\n  return (\r\n    <div className=\"inputContainer\">\r\n      <div className=\"inputLabel\">{label}</div>\r\n      <div className=\"inputWrapper\">\r\n        <input placeholder={placeholder} type={type} name={name} className=\"inputBox\" onChange={onChange} {...otherInputProps} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomInput;\r\n","import { notification } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { HTTP } from \"../configs\";\r\nimport { setSubscription, setUser } from \"./dispatch\";\r\n\r\nexport function addSubscription(data) {\r\n  return async (dispatch) => {\r\n    return new Promise((resolve) => {\r\n      HTTP(\"post\", \"/auth/subscription/\", data)\r\n        .then((res) => {\r\n          let data = get(res, \"data.data\", {});\r\n          dispatch(setSubscription(get(data, \"subscription\", null)));\r\n          dispatch(setUser(get(data, \"updatedUser\", {})));\r\n          resolve(res.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not add subscription\"), placement: \"bottomLeft\" });\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function cancelSubscription(data) {\r\n  return async (dispatch) => {\r\n    return new Promise((resolve) => {\r\n      HTTP(\"post\", \"/auth/cancelSubscription\", data)\r\n        .then((res) => {\r\n          let data = get(res, \"data.data\", {});\r\n          dispatch(setSubscription(get(data, \"subscription\", null)));\r\n          resolve(res.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not cancel subscription\"), placement: \"bottomLeft\" });\r\n          resolve(false);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function fetchCardDetails(data) {\r\n  return async (dispatch) => {\r\n    return new Promise((resolve, reject) => {\r\n      HTTP(\"post\", \"/auth/fetchCardDetails\", data)\r\n        .then((response) => {\r\n          return resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not fetch card details\"), description: \"fetching card details from server failed\", placement: \"bottomLeft\" });\r\n          reject(error);\r\n        });\r\n    });\r\n  };\r\n}\r\n","import { Button, notification } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport CustomInput from \"../custom-input\";\r\nimport { useStripe, useElements, CardNumberElement, CardExpiryElement, CardCvcElement } from \"@stripe/react-stripe-js\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addSubscription } from \"../../actions/payments\";\r\nimport \"./index.scss\";\r\n\r\nconst PaymentForm = ({ toggle }) => {\r\n  const state = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  const { user, location } = state;\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [enterLoading, setEnterLoading] = useState(false);\r\n  const [cardBillingDetails, setCardBillingDetails] = useState({\r\n    nameOnCard: \"\",\r\n    city: \"\",\r\n    postal_code: \"\",\r\n    line1: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCardBillingDetails({ ...cardBillingDetails, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: elements.getElement(CardNumberElement, CardExpiryElement, CardCvcElement),\r\n\r\n      billing_details: {\r\n        email: user.email,\r\n        name: cardBillingDetails.nameOnCard,\r\n        phone: user.company.phoneNumber,\r\n        address: { city: cardBillingDetails.city, postal_code: cardBillingDetails.postal_code, line1: cardBillingDetails.line1 },\r\n      },\r\n    });\r\n    if (error) {\r\n      console.log(error);\r\n      notification.error({\r\n        message: \"Information Incomplete\",\r\n        description: error.message,\r\n        placement: \"bottomLeft\",\r\n      });\r\n      setEnterLoading(false);\r\n    } else {\r\n      //dispatching addSubscription action\r\n      await dispatch(addSubscription({ payment_method: paymentMethod.id, email: user.email, location })).then(res => {\r\n        if (!res.success) {\r\n          setEnterLoading(false);\r\n          notification.error({\r\n            message: \"Payment Error\",\r\n            description: \"Something went wrong with your payment\",\r\n            placement: \"bottomLeft\",\r\n          });\r\n        }\r\n      })\r\n    }\r\n  };\r\n\r\n  const cardNumberElementOptions = {\r\n    showIcon: false,\r\n    iconStyle: \"solid\",\r\n    style: {\r\n      base: {\r\n        \"fontFamily\": '\"Helvetica Neue\", Helvetica, sans-serif',\r\n        \"fontSmoothing\": \"antialiased\",\r\n        \"fontSize\": \"16px\",\r\n        \"position\": \"relative\",\r\n        \"::placeholder\": {\r\n          color: \"transparent\",\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  const cardCvcAndExpElementOptions = {\r\n    style: {\r\n      base: {\r\n        \"fontFamily\": '\"Helvetica Neue\", Helvetica, sans-serif',\r\n        \"fontSmoothing\": \"antialiased\",\r\n        \"fontSize\": \"16px\",\r\n        \"::placeholder\": {\r\n          color: \"transparent\",\r\n        },\r\n      },\r\n    },\r\n  };\r\n  return (\r\n    <>\r\n      {toggle ? (\r\n        <div className=\"bottom-section\">\r\n          <div className=\"payment-method\">\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"card-details\">\r\n                <div className=\"cardElementContainer\">\r\n                  <div className=\"cardLabel\">Card Number</div>\r\n                  <CardNumberElement options={cardNumberElementOptions} />\r\n                </div>\r\n                <div className=\"cardCvcAndExpElementOptions\">\r\n                  <div className=\"cardLabel\">Expiration</div>\r\n                  <CardExpiryElement options={cardCvcAndExpElementOptions} />\r\n                </div>\r\n                <div className=\"cardCvcAndExpElementOptions\">\r\n                  <div className=\"cardLabel\">CVC</div>\r\n                  <CardCvcElement options={cardCvcAndExpElementOptions} />\r\n                </div>\r\n              </div>\r\n              <div className=\"billing-details\">\r\n                <CustomInput type=\"text\" name=\"nameOnCard\" label=\"Name on Card\" onChange={handleChange} />\r\n                <CustomInput type=\"text\" name=\"line1\" label=\"Street Address\" onChange={handleChange} />\r\n              </div>\r\n              <div className=\"location-details\">\r\n                <CustomInput type=\"text\" name=\"city\" label=\"City\" onChange={handleChange} />\r\n                <CustomInput type=\"number\" name=\"postal_code\" label=\"Zip Code\" onChange={handleChange} />\r\n              </div>\r\n              <Button type=\"primary\" size=\"large\" htmlType=\"submit\" className=\"activate-button\" disabled={!stripe} loading={enterLoading} onClick={() => setEnterLoading(true)}>\r\n                Activate\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaymentForm;\r\n","import { Button, Form, Modal, notification, Radio, Skeleton } from \"antd\";\r\nimport React from \"react\";\r\nimport creditcard from \"../../common/assets/images/credit-card.svg\";\r\nimport visa from \"../../common/assets/images/visa.svg\";\r\nimport amex from \"../../common/assets/images/amex.svg\";\r\nimport mastercard from \"../../common/assets/images/mastercard.svg\";\r\nimport { connect } from \"react-redux\";\r\nimport { cancelSubscription, fetchCardDetails } from \"../../actions/payments\";\r\nimport \"./index.scss\";\r\n\r\nclass ActivatedSubscription extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cardDetails: null,\r\n      otherResposeDetails: null,\r\n      subscriptionData: null,\r\n      expDate: null,\r\n      enterLoading: false,\r\n      visible: false,\r\n      formButton: false,\r\n      reason: null,\r\n    };\r\n  }\r\n  \r\n\r\n  fetchCardDetails = async () => {\r\n    const { fetchCardDetails, user } = this.props;\r\n    if (user?.stripeCustomer) {\r\n      const response = await fetchCardDetails({ stripeCustomer: user.stripeCustomer });\r\n      if (response.success === true) {\r\n        const myDate = new Date(response.data.customer.subscriptions.data[0]?.current_period_end * 1000);\r\n        const expDate = myDate.toDateString();\r\n        this.setState({ cardDetails: response.data[0].card, otherResposeDetails: response.data, subscriptionData: response.data.customer.subscriptions.data[0], expDate: expDate });\r\n      } else {\r\n        notification.error({ message: \"Fetching card details failed!\", placement: \"bottomLeft\" });\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchCardDetails();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.user !== this.props.user) {\r\n      this.fetchCardDetails();\r\n    }\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    this.setState({ visible: true });\r\n  };\r\n\r\n  renderSwitch(param) {\r\n    switch (param) {\r\n      case \"visa\":\r\n        return visa;\r\n      case \"amex\":\r\n        return amex;\r\n      case \"mastercard\":\r\n        return mastercard;\r\n      default:\r\n        return creditcard;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { cardDetails, expDate, enterLoading, reason } = this.state;\r\n    const { toggle } = this.props;\r\n    return toggle ? (\r\n      <div className=\"cancelView active\">\r\n        <h3 style={{ color: \"white\", fontWeight: \"bolder\" }}>Payment</h3> <br />\r\n        {!cardDetails ? (\r\n          <Skeleton active />\r\n        ) : (\r\n          <>\r\n            <div className=\"text-content\">\r\n              <p>Your Premium plan will renew on {expDate}.</p>\r\n              <p>You will be charged $15.99</p>\r\n            </div>\r\n            <div className=\"cardDetails\">\r\n              <div className=\"cardLogo\">\r\n                <img src={this.renderSwitch(cardDetails?.brand.toLowerCase())} alt=\"...\" height=\"50\" width=\"50\" />\r\n              </div>\r\n              <div className=\"cardInfo\">\r\n                <p>\r\n                  {cardDetails?.brand.toUpperCase()} **** {cardDetails?.last4}\r\n                </p>\r\n                <p>\r\n                  Expires: {cardDetails?.exp_month}/{cardDetails?.exp_year}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Button type=\"secondary\" style={{ float: \"right\" }} htmlType=\"submit\" loading={enterLoading} onClick={() => this.setState({ enterLoading: true })}>\r\n            Cancel this Subscription\r\n          </Button>\r\n        </form>\r\n        <Modal\r\n          title=\"Are you sure ?\"\r\n          visible={this.state.visible}\r\n          centered\r\n          onOk={async () => {\r\n            if (reason) {\r\n              this.setState({ enterLoading: false, formButton: true });\r\n              const { location, cancelSubscription } = this.props;\r\n\r\n              await cancelSubscription({ subId: location?.subscription?.stripeSubscription, location, reason }).then(res => {\r\n                if(!res.success) {\r\n                  notification.error({\r\n                    message: \"Something went wrong\",\r\n                    description: \"Something went wrong when cancelling the payment\",\r\n                    placement: \"bottomLeft\",\r\n                  });\r\n                  this.setState({ formButton: false });\r\n                }\r\n              })\r\n            } else {\r\n              notification.error({\r\n                message: \"Please Select a reason\",\r\n                description: \"Please Select a reason before cancelling your subscription\",\r\n                placement: \"bottomLeft\",\r\n              });\r\n            }\r\n          }}\r\n          onCancel={() => {\r\n            this.setState({ enterLoading: false, visible: false });\r\n          }}\r\n          okButtonProps={{ loading: this.state.formButton }}\r\n          okText=\"Yes, Cancel Subscription\"\r\n        >\r\n          <Form className=\"modalForm\">\r\n            <Form.Item label=\"Just so we know, why did you cancel?\">\r\n              <Radio.Group\r\n                onChange={(e) => {\r\n                  this.setState({ reason: e.target.value });\r\n                }}\r\n                className=\"radioGroup\"\r\n              >\r\n                <Radio className=\"radioBtn\" value=\"Too expensive\">\r\n                  Too expensive\r\n                </Radio>\r\n                <Radio className=\"radioBtn\" value=\"Not enough product offering\">\r\n                  Not enough product offering\r\n                </Radio>\r\n                <Radio className=\"radioBtn\" value=\"I don't mind ads\">\r\n                  I don't mind ads\r\n                </Radio>\r\n                <Radio className=\"radioBtn\" value=\"Still planning on using Ambii, but the free tier\">\r\n                  Still planning on using Ambii, but the free tier\r\n                </Radio>\r\n              </Radio.Group>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth.user,\r\n    location: state.auth.location,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  cancelSubscription: (data) => dispatch(cancelSubscription(data)),\r\n  fetchCardDetails: (data) => dispatch(fetchCardDetails(data)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivatedSubscription);\r\n","import { Button, message, notification, Spin } from \"antd\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport CustomInput from \"../custom-input\";\r\nimport \"./index.scss\";\r\nimport { updateUser } from \"../../actions/settings\";\r\nimport { setUser } from \"../../actions\";\r\n\r\nclass UserSettings extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    ...this.props.user,\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { updateUser, user, setUser } = this.props;\r\n    const { firstName = user.firstName, lastName = user.lastName, phoneNo = user.phoneNo } = this.state;\r\n    if (firstName && lastName !== \"\") {\r\n      const response = await updateUser({ userId: user._id, firstName, lastName, phoneNo });\r\n\r\n      if (response.success !== true) {\r\n        notification.error({\r\n          message: \"Updating Details Failed\",\r\n          description: \"Something went wrong while updating user details\",\r\n          placement: \"bottomLeft\",\r\n        });\r\n      } else {\r\n        setUser({ ...user, firstName, lastName, phoneNo });\r\n        this.setState({ firstName: firstName, lastName: lastName, phoneNo: phoneNo });\r\n      }\r\n    } else {\r\n      if (!firstName) notification.error({ message: \"First Name is required\", placement: \"bottomLeft\" });\r\n\r\n      if (!lastName) notification.error({ message: \"Last Name is required\", placement: \"bottomLeft\" });\r\n\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.user !== this.props.user) {\r\n      notification.success({ message: \"User Saved\", placement: \"bottomLeft\" });\r\n      this.setState({ loading: false, ...this.props.user });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"contentView\">\r\n        <div className=\"userDetailsWrapper\">\r\n          <h1 className=\"heading\">User Details</h1>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className=\"inputsWrapper\">\r\n              <CustomInput name=\"firstName\" value={this.state.firstName} placeholder={\"* Enter First Name\"} label=\"First Name\" onChange={this.handleChange} />\r\n              <CustomInput name=\"lastName\" value={this.state.lastName} placeholder={\"* Enter Last Name\"} label=\"Last Name\" onChange={this.handleChange} />\r\n              {/* <CustomInput name=\"email\" placeholder={user.email} label=\"Email\" onChange={this.handleChange} /> */}\r\n              <div className=\"phoneInput\">\r\n                <CustomInput name=\"phoneNo\" value={parseInt(this.state?.phoneNo)} placeholder={this.state.phoneNo ? null : \"No Number Assigned\"} label=\"Phone no.\" type=\"number\" onChange={this.handleChange} />\r\n              </div>\r\n            </div>\r\n            <Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading} onClick={() => this.setState({ loading: true })} size=\"large\" style={{ float: \"left\" }}>\r\n              Save\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//Dispatch\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  updateUser: (data) => dispatch(updateUser(data)),\r\n  setUser: (data) => dispatch(setUser(data)),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserSettings);\r\n","import { notification } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { HTTP } from \"../configs\";\r\n\r\nexport function updateUser(data) {\r\n  return async (dispatch) => {\r\n    return new Promise((resolve, reject) => {\r\n      HTTP(\"post\", \"/auth/updateUser/\", data)\r\n        .then((response) => {\r\n          return resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not update user\"), placement: \"bottomLeft\" });\r\n          reject(error);\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport function updateLocation(data) {\r\n  return async (dispatch) => {\r\n    return new Promise((resolve, reject) => {\r\n      HTTP(\"post\", \"/auth/updateLocation/\", data)\r\n        .then((response) => {\r\n          return resolve(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          notification.error({ message: get(error, \"response.message\", \"Could not update location\"), placement: \"bottomLeft\" });\r\n          reject(error);\r\n        });\r\n    });\r\n  };\r\n}\r\n","import { AutoComplete, Button, Form, message, notification, Spin } from \"antd\";\r\nimport FormItem from \"antd/lib/form/FormItem\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setLocation } from \"../../actions\";\r\nimport { updateLocation } from \"../../actions/settings\";\r\nimport { timezones, states } from \"../../constants\";\r\nimport { get } from \"lodash\";\r\n\r\nimport CustomInput from \"../custom-input\";\r\nimport \"./index.scss\";\r\n\r\nclass BusinessSettings extends React.Component {\r\n  state = {\r\n    loading: false,\r\n    timezones: [], // Masterlist of data\r\n    timezoneData: {}, // Map to search through\r\n    timezoneRes: [], // Results to show\r\n    ...this.props.location,\r\n    selectedTimezone: \"\",\r\n    states: [],\r\n    stateData: {},\r\n    statesRes: [],\r\n    selectedState: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    let timezoneRes = [];\r\n    let statesRes = [];\r\n    let keys = Object.keys(timezones);\r\n    let stateKeys = Object.keys(states);\r\n\r\n    stateKeys.forEach((state) => {\r\n      statesRes.push(state);\r\n    });\r\n    keys.forEach((timezone) => {\r\n      timezoneRes.push(timezone);\r\n    });\r\n    let timezoneRecommendation = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n    let selectedTimezone = timezoneRecommendation;\r\n    this.setState({ timezoneRes, selectedTimezone, statesRes });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.location !== this.props.location) {\r\n      this.setState({ loading: false, ...this.props.location });\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  checkIfValidTimezone(timezone) {\r\n    if (!timezone) return false;\r\n    else {\r\n      if (timezones[timezone]) return true;\r\n      else return false;\r\n    }\r\n  }\r\n  checkIfValidState(state) {\r\n    if (!state) return false;\r\n    else {\r\n      if (states[state]) return true;\r\n      else return false;\r\n    }\r\n  }\r\n  onSearch = (searchText) => {\r\n    let keys = Object.keys(timezones);\r\n    this.setState({ timezone: searchText });\r\n    let timezoneRes = keys.filter((s) => s.toLowerCase().includes(searchText.toLowerCase()));\r\n    this.setState({ selectedTimezone: searchText, timezoneRes: searchText.length <= 0 ? keys : timezoneRes });\r\n  };\r\n\r\n  onSearchState = (searchText) => {\r\n    let keys = Object.keys(states);\r\n    this.setState({ state: searchText });\r\n    let statesRes = keys.filter((s) => s.toLowerCase().includes(searchText.toLowerCase()));\r\n    this.setState({ selectedTimezone: searchText, statesRes: searchText.length <= 0 ? keys : statesRes });\r\n  };\r\n\r\n  onSelect = (value) => {\r\n    this.setState({ timezone: value });\r\n  };\r\n\r\n  onSelectState = (value) => {\r\n    this.setState({ state: value });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { updateLocation, location, setLocation } = this.props;\r\n    const { name = location.name, phoneNo = location.phoneNo, addressLineOne = location.addressLineOne, addressLineTwo = location.addressLineTwo, city = location.city, state = location.state, postalCode = location.postalCode, timezone = location.timezone } = this.state;\r\n    let validTimezone = this.checkIfValidTimezone(get(this.state, \"timezone\", \"\"));\r\n    let validState = this.checkIfValidState(get(this.state, \"state\", \"\"));\r\n    if (name && addressLineOne && city && state && postalCode && timezone && validState && validTimezone) {\r\n      const response = await updateLocation({ locationId: location._id, name, phoneNo, addressLineOne, addressLineTwo, city, state, postalCode, timezone });\r\n\r\n      if (response.success !== true) {\r\n        this.setState({ loading: false });\r\n        notification.error({\r\n          message: \"Update Failed\",\r\n          description: \"Something went wrong while updating the location details\",\r\n          placement: \"bottomLeft\",\r\n        });\r\n      } else {\r\n        setLocation({ ...location, name, phoneNo, addressLineOne, addressLineTwo, city, state, postalCode, timezone });\r\n        this.setState({ name, phoneNo, addressLineOne, addressLineTwo, city, state, postalCode, timezone, loading: false });\r\n        notification.success({ message: \"Location Saved\", placement: \"bottomLeft\" });\r\n      }\r\n    } else {\r\n      if (!state) notification.error({ message: \"State is required\", placement: \"bottomLeft\" });\r\n      if (!name) notification.error({ message: \"Name is required\", placement: \"bottomLeft\" });\r\n      if (!city) notification.error({ message: \"City is required\", placement: \"bottomLeft\" });\r\n      if (!addressLineOne) notification.error({ message: \"Address Line 1 is required\", placement: \"bottomLeft\" });\r\n      if (!postalCode) notification.error({ message: \"Postal Code is required\", placement: \"bottomLeft\" });\r\n      if (!timezone) notification.error({ message: \"Timezone is required\", placement: \"bottomLeft\" });\r\n      if (!validState) notification.error({ message: \"Invalid State\", description: \"Use the dropdown for state selection\", placement: \"bottomLeft\" });\r\n      if (!validTimezone) notification.error({ message: \"Invalid Timezone\", description: \"Use the dropdown for timezone selection\", placement: \"bottomLeft\" });\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n\r\n    return (\r\n      <div className=\"contentView\">\r\n        <div className=\"businessSettingWrapper\">\r\n          <h1 className=\"heading\">Business Information</h1>\r\n          <form className=\"business-form\" onSubmit={this.handleSubmit}>\r\n            <CustomInput name=\"name\" value={this.state?.name} placeholder={\"* Enter Business Name\"} label=\"Business Name\" onChange={this.handleChange} />\r\n            <CustomInput name=\"phoneNo\" value={parseInt(this.state?.phoneNo)} placeholder={this.state?.phoneNo ? null : \"No number assigned\"} type=\"number\" label=\"Business Phone No.\" onChange={this.handleChange} />\r\n            <CustomInput name=\"addressLineOne\" value={this.state?.addressLineOne} placeholder={\"* Enter Address Line 1\"} label=\"Address 1\" onChange={this.handleChange} />\r\n            <CustomInput name=\"addressLineTwo\" value={this.state?.addressLineTwo} placeholder={\"Enter Address Line 2\"} label=\"Address 2\" onChange={this.handleChange} />\r\n            <div className=\"adjacent-wrapper\">\r\n              <div className=\"thirty-width\">\r\n                <CustomInput name=\"city\" value={this.state?.city} placeholder={\"* Enter City\"} label=\"City\" onChange={this.handleChange} />\r\n              </div>\r\n              <div className=\"thirty-width\">\r\n                <div className=\"state\">\r\n                  <FormItem className=\"form-item\">\r\n                    {getFieldDecorator(\"states\", {\r\n                      initialValue: this.state.state,\r\n                    })(\r\n                      <div className=\"autoCompleteStyle\">\r\n                        <div className=\"inputContainer\">\r\n                          <div className=\"inputLabel\">State</div>\r\n                          <div className=\"inputWrapper\">\r\n                            <AutoComplete placeholder={\"* Enter State\"} value={this.state.state} dataSource={this.state.statesRes} onSelect={(e) => this.onSelectState(e)} onSearch={(e) => this.onSearchState(e)} />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </FormItem>\r\n                </div>\r\n              </div>\r\n              <div className=\"thirty-width\">\r\n                <CustomInput name=\"postalCode\" value={this.state?.postalCode} placeholder={\"* Enter Postal Code\"} label=\"Zip Code\" onChange={this.handleChange} />\r\n              </div>\r\n            </div>\r\n            {/* <div className=\"adjacent-wrapper\">\r\n             \r\n              <div className=\"seventy-width\">\r\n                <CustomInput name=\"country\" value={this.state?.country} label=\"Country\" placeholder={location.country} onChange={this.handleChange} />\r\n              </div>\r\n            </div> */}\r\n            <div className=\"timezone\">\r\n              <FormItem className=\"form-item\">\r\n                {getFieldDecorator(\"timezone\", {\r\n                  initialValue: this.state.timezone,\r\n                })(\r\n                  <div className=\"autoCompleteStyle\">\r\n                    <div className=\"inputContainer\">\r\n                      <div className=\"inputLabel\">Change Location Timezone</div>\r\n                      <div className=\"inputWrapper\">\r\n                        <AutoComplete placeholder={\"* Enter Timezone\"} value={this.state.timezone} dataSource={this.state.timezoneRes} style={{ width: \"100%\" }} onSelect={(e) => this.onSelect(e)} onSearch={(e) => this.onSearch(e)} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </FormItem>\r\n            </div>\r\n\r\n            <Button size=\"large\" type=\"primary\" htmlType=\"submit\" loading={this.state.loading} onClick={() => this.setState({ loading: true })} style={{ marginLeft: 10, marginTop: -10 }}>\r\n              Save\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//Dispatch\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  updateLocation: (data) => dispatch(updateLocation(data)),\r\n  setLocation: (data) => dispatch(setLocation(data)),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    location: state.auth.location,\r\n  };\r\n};\r\n\r\nconst WrappedApp = Form.create()(BusinessSettings);\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedApp);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport { getMessages } from \"../../actions\";\r\nimport { Button, Spin } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport PageTitle from \"../../components/page-title\";\r\nimport AntSpinner from \"../../components/antSpinner\";\r\nimport SettingPanel from \"../../components/setting_panel\";\r\nimport PaymentForm from \"../../components/payment-form\";\r\nimport ActivatedSubscription from \"../../components/activatedSubscription\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronDown, faChevronUp } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport UserSettings from \"../../components/user-settings\";\r\nimport BusinessSettings from \"../../components/business-settings\";\r\nimport \"./index.scss\";\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      formToggle: false,\r\n    };\r\n  }\r\n\r\n  renderSwitch(param) {\r\n    const { myLocation } = this.props;\r\n    const { formToggle } = this.state;\r\n    let subscribed = myLocation?.subscription?.subscribed;\r\n\r\n    switch (param) {\r\n      case \"payment\":\r\n        return (\r\n          <div className=\"contentView\">\r\n            <div className=\"top-section\">\r\n              <h1 style={{ padding: \"0px 20px\" }}>Plan</h1>\r\n              <div className=\"contentWrapper\">\r\n                <div className={`content ${!subscribed ? \"active\" : null}`}>\r\n                  <div className=\"left-section\">\r\n                    <h1>Free</h1>\r\n                    {!subscribed ? <p>current plan</p> : <p>ambii service with ads</p>}\r\n                  </div>\r\n                  <div className=\"right-section\">\r\n                    <span style={{ fontSize: 18, textAlign: \"right\" }}>$0/mo</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"contentWrapper\">\r\n                <div className={`content ${subscribed ? \"active\" : null} ${formToggle ? \"removeBorderRadius\" : null}`}>\r\n                  <div className=\"left-section\">\r\n                    <h1>Premium</h1>\r\n                    {subscribed ? <p>current plan</p> : <p>activate for an ad-free experience</p>}\r\n                  </div>\r\n                  <div className=\"right-section\">\r\n                    <span style={{ fontSize: 18, textAlign: \"right\" }}>$15.99/mo</span>\r\n                    <Button\r\n                      type={!subscribed ? \"primary\" : \"secondary\"}\r\n                      onClick={() => {\r\n                        this.setState({ formToggle: !formToggle });\r\n                      }}\r\n                    >\r\n                      <FontAwesomeIcon icon={formToggle ? faChevronDown : faChevronUp} className={\"connect-icon\"} style={{ marginRight: \"10px\" }} />\r\n                      {formToggle ? \"Hide Details\" : \"Show Details\"}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                {!subscribed ? <PaymentForm toggle={formToggle} /> : <ActivatedSubscription toggle={formToggle} />}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case \"business\":\r\n        return <BusinessSettings />;\r\n\r\n      case \"user\":\r\n        return <UserSettings />;\r\n\r\n      default:\r\n        return <Redirect to=\"/settings/user\"></Redirect>;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user, match } = this.props;\r\n    const { isLoading } = this.state;\r\n\r\n    return !user ? (\r\n      <div className=\"settingsWrapper\">\r\n        <div className=\"headerWrapper\">\r\n          <PageTitle\r\n            title={\r\n              <span>\r\n                User <span style={{ color: \"#D04283\" }}> Settings </span>\r\n              </span>\r\n            }\r\n            subtitle=\"Change your information here\"\r\n          />\r\n        </div>\r\n        <Spin indicator={AntSpinner} spinning={isLoading}></Spin>\r\n      </div>\r\n    ) : (\r\n      <div className=\"settingsWrapper\">\r\n        <div className=\"headerWrapper\">\r\n          <PageTitle\r\n            title={\r\n              <span>\r\n                User <span style={{ color: \"#D04283\" }}> Settings </span>\r\n              </span>\r\n            }\r\n            subtitle=\"Change your information here\"\r\n          />\r\n        </div>\r\n        <div className=\"settingsView\">\r\n          <div className=\"settingPanel\">\r\n            <SettingPanel />\r\n          </div>\r\n\r\n          {this.renderSwitch(match.params.setting)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { actions: bindActionCreators({ getMessages }, dispatch) };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Settings));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { getMessages, createPreviewMessage, editMessage, createMessage, getVoiceOptions, updateTheUploadedISM, setInStoreMessages } from \"../../actions\";\r\nimport { Button, Input, Modal, notification, Select } from \"antd\";\r\nimport { get } from \"lodash\";\r\nimport { frequencies, full_language_names, proper_voice_name } from \"../../constants\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faVolume, faPlusCircle, faEdit, faPause, faStop, faStopCircle } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport ReactAudioPlayer from \"react-audio-player\";\r\nimport PageTitle from \"../../components/page-title\";\r\nimport md5 from \"md5\";\r\nimport \"./index.scss\";\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst ButtonGroup = Button.Group;\r\n\r\nclass CreateInStoreMessaging extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      message: \"\",\r\n      title: \"\",\r\n      language: \"English (US)\",\r\n      languageCode: \"en-US\",\r\n      voice: \"en-US-Wavenet-A\",\r\n      frequency: \"30\",\r\n      speed: 1.0,\r\n      voiceOptions: {},\r\n      sortedLanguageArray: [],\r\n      editingExistingMessage: false, // Are we editing an existing ISM\r\n      isSaving: false, // Are we currently saving an ISM\r\n      previewMessageUrl: \"\", // Track URL to play (voice)\r\n      isPlaying: false, // Are we currently playing a track (voice)\r\n      isPreviewing: false, // Are we currently previewing a messaging\r\n      postPreviewChanges: false, // Have any changes been made since we previewed\r\n      savedPreviews: {},\r\n      description: \"\",\r\n      isModalVisible: false,\r\n      formButton: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let locallySavedPreviews = JSON.parse(localStorage.getItem(\"savedISMPreviews\"));\r\n    this.props.actions.getVoiceOptions().then((voiceOptions) => {\r\n      if (get(this.props, \"location.state._id\", null)) {\r\n        let data = get(this.props, \"location.state\", {});\r\n        this.setState({ voiceOptions, title: get(data, \"title\", \"\"), message: get(data, \"message\", \"\"), language: full_language_names[get(data, \"language\", \"\")], languageCode: get(data, \"language\", \"\"), voice: get(data, \"voice\", \"\"), speed: get(data, \"speed\", 1.0), frequency: get(data, \"frequency[\" + get(data, \"locationId\", \"\") + \"]\", \"\"), editingExistingMessage: true, sortedLanguageArray: Object.keys(voiceOptions).sort(), savedPreviews: locallySavedPreviews || {}, description: get(data, \"description\", \"\") });\r\n      } else this.setState({ voiceOptions, speed: 1, sortedLanguageArray: Object.keys(voiceOptions).sort(), savedPreviews: locallySavedPreviews || {} });\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.editingExistingMessage !== this.state.editingExistingMessage)\r\n      if (this.props.location.state.uploaded === true)\r\n        if (!this.state.title) {\r\n          this.setState({ title: this.props.location.state.fileName });\r\n        }\r\n  }\r\n\r\n  playTrack() {\r\n    this.setState({ isPlaying: true }, () => {\r\n      this.rap.audioEl.play();\r\n    });\r\n  }\r\n\r\n  stopTrack = () => {\r\n    this.setState({ isPlaying: false, previewMessageUrl: null }, () => {\r\n      this.rap.audioEl.pause();\r\n    });\r\n  };\r\n\r\n  setPreviewUrl(e) {\r\n    console.log(\"hit setPreviewUrl\");\r\n    this.setState({ previewMessageUrl: e });\r\n  }\r\n\r\n  renderLanguageOptions() {\r\n    const { sortedLanguageArray } = this.state;\r\n    return sortedLanguageArray.map((language) => <Option key={language}> {language} </Option>);\r\n  }\r\n\r\n  renderVoiceOptions() {\r\n    const { language, voiceOptions } = this.state;\r\n    if (!language) return;\r\n    else {\r\n      let voiceOptionList = Object.keys(voiceOptions).length > 0 ? voiceOptions[language] : [];\r\n      voiceOptionList.sort((a, b) => (proper_voice_name[a[\"simpleName\"]] > proper_voice_name[b[\"simpleName\"]] ? 1 : -1));\r\n      return voiceOptionList.map((voice) => (\r\n        <Option key={voice[\"name\"]} parent={voice[\"parent\"]}>\r\n          {proper_voice_name[voice[\"simpleName\"]] || voice[\"simpleName\"]}\r\n        </Option>\r\n      ));\r\n    }\r\n  }\r\n\r\n  // Checks if hash already exists. If so, returns the hash.\r\n  checkIfHashExists() {\r\n    const { savedPreviews } = this.state;\r\n    let hash = this.getMessageHash();\r\n    let hashExists = savedPreviews[hash];\r\n    if (hashExists) return hash;\r\n    else return false;\r\n  }\r\n\r\n  // Creates the MD5 hash for the current message settings\r\n  getMessageHash() {\r\n    const { title, message, languageCode, voice, speed, frequency } = this.state;\r\n    let hash = md5(title.concat(message).concat(languageCode).concat(voice).concat(speed).concat(frequency));\r\n    return hash;\r\n  }\r\n\r\n  // Creates a disposable preview MP3 we can play\r\n  previewMessage() {\r\n    const { message, languageCode, voice, speed, frequency } = this.state;\r\n    if (this?.props?.location?.state?.uploaded !== true) {\r\n      if (this.checkIfValidISM() && !this.state.isPreviewing) {\r\n        // Create a hash based off the current message config\r\n        let hash = this.getMessageHash();\r\n\r\n        if (!this.checkIfHashExists()) {\r\n          this.setState({ isPreviewing: true }, () => {\r\n            this.props.actions.createPreviewMessage({ voice, language: languageCode, message, speed, hash }).then((res) => {\r\n              if (res) {\r\n                let previewMessageUrl = get(res, \"data\", \"\");\r\n                this.setState({ previewMessageUrl, isPreviewing: false, savedPreviews: { ...this.state.savedPreviews, [hash]: previewMessageUrl } }, () => {\r\n                  localStorage.setItem(\"savedISMPreviews\", JSON.stringify(this.state.savedPreviews)); // Save to local storage in case of page-reload\r\n                  this.playTrack();\r\n                });\r\n              } else this.onFailure(\"There was an error when creating your preview file\");\r\n            });\r\n          });\r\n        } else {\r\n          this.setState({ previewMessageUrl: this.state.savedPreviews[hash], isPreviewing: false }, () => {\r\n            this.playTrack();\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      let hash = this.getMessageHash();\r\n\r\n      if (!this.checkIfHashExists()) {\r\n        this.setState({ isPreviewing: true }, () => {\r\n          this.props.actions.createPreviewMessage({ hash, speed, messageId: this.props.location.state._id }).then((res) => {\r\n            if (res) {\r\n              let previewMessageUrl = this.props.location.state.url || res.data;\r\n              this.setState({ previewMessageUrl, isPreviewing: false, savedPreviews: { ...this.state.savedPreviews, [hash]: previewMessageUrl } }, () => {\r\n                localStorage.setItem(\"savedISMPreviews\", JSON.stringify(this.state.savedPreviews)); // Save to local storage in case of page-reload\r\n                this.playTrack();\r\n              });\r\n            } else this.onFailure(\"There was an error in playing your uploaded file\");\r\n          });\r\n        });\r\n      } else {\r\n        this.setState({ previewMessageUrl: this.state.savedPreviews[hash], isPreviewing: false }, () => {\r\n          this.playTrack();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // Attempts to create an ISM\r\n  saveMessage() {\r\n    const { savedPreviews, editingExistingMessage, title, message, languageCode, voice, speed, frequency, description } = this.state;\r\n\r\n    if (this.checkIfValidISM() && !this.state.isSaving) {\r\n      this.setState({ isSaving: true }, () => {\r\n        if (editingExistingMessage) {\r\n          // Editing an existing ISM\r\n          this.props.actions.editMessage({ locationId: get(this.props, \"myLocation._id\", \"\"), messageId: get(this.props, \"location.state._id\", \"\"), title, voice, language: languageCode, message, speed, frequency, savedPreviews, hash: this.checkIfHashExists(), description }).then((res) => {\r\n            if (res) {\r\n              this.props.actions.getMessages().then((res) => {\r\n                if (res) this.onSuccess();\r\n              });\r\n            } else this.onFailure();\r\n          });\r\n        } else {\r\n          // Creating a new ISM\r\n          this.props.actions.createMessage({ title, voice, language: languageCode, message, speed, frequency, savedPreviews, hash: this.checkIfHashExists() }).then((res) => {\r\n            if (res) {\r\n              this.props.actions.getMessages().then((res) => {\r\n                if (res) this.onSuccess();\r\n              });\r\n            } else this.onFailure();\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // General fail message if message fails\r\n  onSuccess() {\r\n    this.setState({ isSaving: false }, () => {\r\n      notification.success({ message: \"Message Saved\", placement: \"bottomLeft\" });\r\n      localStorage.removeItem(\"savedISMPreviews\"); // Remove any existing savedPreviews from local storage\r\n      this.props.history.push(\"/inStoreMessaging\");\r\n    });\r\n  }\r\n\r\n  // General fail message if message fails\r\n  onFailure(msg) {\r\n    this.setState({ isSaving: false }, () => {\r\n      notification.error({ message: msg || \"Failed to save message\", placement: \"bottomLeft\" });\r\n    });\r\n  }\r\n\r\n  // Checks to see if each ISM field is valid. Otherwise, returns a field-specific error\r\n  checkIfValidISM() {\r\n    const { title, message, language, voice, frequency, speed } = this.state;\r\n\r\n    if (!title) {\r\n      notification.warn({ message: \"Please add a title to your message\", placement: \"bottomLeft\" });\r\n      return false;\r\n    }\r\n    if (!message || message.length < 10) {\r\n      notification.warn({ message: \"Please add a longer message\", placement: \"bottomLeft\" });\r\n      return false;\r\n    }\r\n    if (!language) {\r\n      notification.warn({ message: \"Please select a language\", placement: \"bottomLeft\" });\r\n      return false;\r\n    }\r\n    if (!voice) {\r\n      notification.warn({ message: \"Please select a voice\", placement: \"bottomLeft\" });\r\n      return false;\r\n    }\r\n    if (!frequency) {\r\n      notification.warn({ message: \"Please select a frequency\", placement: \"bottomLeft\" });\r\n      return false;\r\n    }\r\n    if (!speed) {\r\n      notification.warn({ message: \"Please select a speed\", placement: \"bottomLeft\" });\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { editingExistingMessage, isSaving, isPreviewing, language, voice, frequency, message, title, speed, previewMessageUrl } = this.state;\r\n\r\n    return (\r\n      <div className=\"messageWrapper\">\r\n        <PageTitle\r\n          backArrow\r\n          backArrowPress={editingExistingMessage && !this.props.location.state.title ? () => this.setState({ isModalVisible: true }) : () => this.props.history.push(\"/inStoreMessaging\")}\r\n          title={\r\n            editingExistingMessage ? (\r\n              <div>\r\n                Edit <span style={{ color: \"#D04283\" }}> Message </span>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                Create <span style={{ color: \"#D04283\" }}> Message </span>\r\n              </div>\r\n            )\r\n          }\r\n        />\r\n        <div className=\"centerMessages\">\r\n          <div className=\"createMessagesContainer\">\r\n            <div style={{ display: \"none\" }}>\r\n              <ReactAudioPlayer\r\n                ref={(element) => {\r\n                  this.rap = element;\r\n                }}\r\n                src={previewMessageUrl}\r\n                autoPlay={false}\r\n                controls={false}\r\n                muted={false}\r\n                volume={1}\r\n                onCanPlay={() => this.playTrack()}\r\n                onEnded={() => this.setState({ isPlaying: false, previewMessageUrl: null })}\r\n                onError={() => this.setState({ isPlaying: false, previewMessageUrl: null })}\r\n              />\r\n            </div>\r\n\r\n            <div className={\"ism-item\"}>\r\n              <div className=\"heading-medium\">Message Name </div>\r\n              <Input onChange={(e) => this.setState({ title: e.target.value })} value={title} />\r\n            </div>\r\n            {this.props?.location?.state?.uploaded !== true ? (\r\n              <div className={\"ism-item\"}>\r\n                <div className=\"heading-medium\">Message </div>\r\n                <TextArea placeholder=\"Max 200 Characters\" value={message} maxLength={200} onChange={(e) => this.setState({ message: e.target.value })} rows={4} />\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.props?.location?.state?.uploaded === true ? (\r\n              <div className={\"ism-item\"}>\r\n                <div className=\"heading-medium\">Description </div>\r\n                <Input onChange={(e) => this.setState({ description: e.target.value })} value={this.state?.description} />\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.props?.location?.state?.uploaded !== true ? (\r\n              <div className={\"ism-item\"}>\r\n                <div className=\"heading-medium\">Language</div>\r\n                <Select value={language ? language : \"Please select a language\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ language: v.key, languageCode: \"\", voice: \"\" })}>\r\n                  {this.renderLanguageOptions()}\r\n                </Select>\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.props?.location?.state?.uploaded !== true ? (\r\n              <div className={\"ism-item\"}>\r\n                <div className=\"heading-medium\">Voice </div>\r\n                <Select value={voice ? voice : \"Please select a voice\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ voice: v.key, languageCode: get(v, \"props.parent\", \"\") })}>\r\n                  {this.renderVoiceOptions()}\r\n                </Select>\r\n              </div>\r\n            ) : null}\r\n\r\n            <div className={\"ism-item\"}>\r\n              <div className=\"heading-medium\">Frequency </div>\r\n              <Select value={frequency ? frequency : \"Please select a frequency\"} style={{ width: \"fill\" }} onChange={(e, v) => this.setState({ frequency: v.key })}>\r\n                {frequencies.map((freq, i) => (\r\n                  <Option key={get(freq, \"time\", i)} value={get(freq, \"time\", \"60\")}>\r\n                    {get(freq, \"title\", \"Error\")}\r\n                  </Option>\r\n                ))}\r\n              </Select>\r\n            </div>\r\n            {this.props?.location?.state?.uploaded === true ? null : (\r\n              <div className={\"ism-item\"}>\r\n                <div className=\"heading-medium\">Speed</div>\r\n                <ButtonGroup>\r\n                  <Button type={speed === 0.75 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 0.75 })}>\r\n                    Slow\r\n                  </Button>\r\n                  <Button type={speed === 1 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 1 })}>\r\n                    Normal\r\n                  </Button>\r\n                  <Button type={speed === 1.25 ? \"primary\" : \"secondary\"} onClick={() => this.setState({ speed: 1.25 })}>\r\n                    Fast\r\n                  </Button>\r\n                </ButtonGroup>\r\n              </div>\r\n            )}\r\n\r\n            <div className={\"ism-button-group\"}>\r\n              {/* Preview Button */}\r\n\r\n              {this.state.isPlaying === false ? (\r\n                <Button onClick={() => this.previewMessage()} size=\"large\" loading={isPreviewing} className={\"ism-button\"}>\r\n                  <FontAwesomeIcon icon={faVolume} className={\"icon\"} />\r\n                  Preview Message\r\n                </Button>\r\n              ) : (\r\n                <Button onClick={() => this.stopTrack()} size=\"large\" className={\"ism-button\"}>\r\n                  <FontAwesomeIcon icon={faStopCircle} className={\"icon\"} />\r\n                  Stop Message\r\n                </Button>\r\n              )}\r\n\r\n              {/* Save Button */}\r\n              {this.props?.location?.state?.uploaded !== true ? (\r\n                <Button onClick={() => this.saveMessage()} size=\"large\" loading={isSaving} className={\"ism-button\"}>\r\n                  {editingExistingMessage ? (\r\n                    <>\r\n                      <FontAwesomeIcon icon={faEdit} className={\"icon\"} />\r\n                      Save Changes\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FontAwesomeIcon icon={faPlusCircle} className={\"icon\"} />\r\n                      Create Message\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    size=\"large\"\r\n                    className=\"ism-button\"\r\n                    loading={isSaving}\r\n                    onClick={async () => {\r\n                      const { savedPreviews, title, message, languageCode, voice, speed, frequency, description } = this.state;\r\n                      if (frequency === \"\" || description.length < 5) {\r\n                        if (frequency === \"\") notification.error({ message: \"Frequency Required\", placement: \"bottomLeft\" });\r\n                        if (description.length < 5) notification.error({ message: \"Description too short\", description: \"Please enter a longer description\", placement: \"bottomLeft\" });\r\n                      } else {\r\n                        const response = await this.props.actions.updateTheUploadedISM({ companyId: get(this.props, \"user.company._id\", \"\"), locationId: get(this.props, \"myLocation._id\", \"\"), title, voice, language: languageCode, message, speed, frequency, savedPreviews, messageId: this.props.location.state._id, description: this.state.description, editingExistingMessage });\r\n                        this.setState({ isSaving: true });\r\n                        if (response.success === true) {\r\n                          this.props.actions.getMessages().then((res) => {\r\n                            if (res) this.onSuccess();\r\n                          });\r\n                          // this.props.history.push(\"/inStoreMessaging\");\r\n                        } else {\r\n                          notification.error({ message: \"Updating Message Failed\", description: \"Something went wrong while updating your message \", placement: \"bottomLeft\" });\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    {editingExistingMessage ? (\r\n                      <>\r\n                        <FontAwesomeIcon icon={faEdit} className={\"icon\"} />\r\n                        Save Changes\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <FontAwesomeIcon icon={faPlusCircle} className={\"icon\"} />\r\n                        Create Message\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </>\r\n              )}\r\n              <Modal\r\n                visible={this.state.isModalVisible}\r\n                title=\"Are you sure ?\"\r\n                onOk={() => {\r\n                  this.setState({ formButton: true });\r\n                  let alreadyExisted = this.props.inStoreMessaging.messages.filter((value) => value._id === this.props.location.state._id);\r\n                  if (alreadyExisted.length < 1) {\r\n                    this.props.actions.getMessages().then((res) => {\r\n                      if (res) {\r\n                        this.setState({ isModalVisible: false });\r\n                        this.props.history.push(\"/inStoreMessaging\");\r\n                      }\r\n                    });\r\n                  } else {\r\n                    this.props.history.push(\"/inStoreMessaging\");\r\n                  }\r\n                }}\r\n                onCancel={() => this.setState({ isModalVisible: false, formButton: false })}\r\n                okButtonProps={{ loading: this.state.formButton }}\r\n              >\r\n                <p>\r\n                  You haven't saved the message yet! <br />\r\n                  You need to save the message before using it\r\n                </p>\r\n                <p>You can also save the message later</p>\r\n              </Modal>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { actions: bindActionCreators({ createPreviewMessage, editMessage, createMessage, getVoiceOptions, updateTheUploadedISM, getMessages, setInStoreMessages }, dispatch) };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n    inApp: state.auth.inApp,\r\n    inStoreMessaging: state.inStoreMessaging,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateInStoreMessaging));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Button, Input, Select } from \"antd\";\r\nimport UncontrolledLottie from \"../../components/UncontrolledLottie\";\r\nimport ControlledLottie from \"../../components/ControlledLottie\";\r\n\r\nimport \"./index.scss\";\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nclass Sandbox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sandbox-wrapper\">\r\n        <ControlledLottie animationData={\"\"} height={1440} width={1440} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { actions: bindActionCreators({}, dispatch) };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.auth.user,\r\n    myLocation: state.auth.location,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Sandbox));\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Landing from \"../containers/landing\";\r\nimport SignUp from \"../containers/welcome/signUp\";\r\nimport LogIn from \"../containers/login\";\r\nimport Create from \"../containers/create/\";\r\nimport Discover from \"../containers/create/discover\";\r\nimport StationDetails from \"../components/stationDetails\";\r\nimport CreateSchedule from \"../containers/createSchedule\";\r\nimport Schedules from \"../containers/schedules\";\r\nimport InStoreMessaging from \"../containers/inStoreMessaging\";\r\nimport SettingsPage from \"../containers/settings\";\r\nimport CreateInStoreMessaging from \"../containers/createInStoreMessaging\";\r\nimport Sandbox from \"../containers/sandbox\";\r\nimport Auth0Helper from \"../helpers/Auth0Helper\";\r\nimport BusinessSettings from \"../components/business-settings\";\r\nimport UserSettings from \"../components/user-settings\";\r\n\r\nlet routes = [\r\n  {\r\n    path: \"/\",\r\n    exact: true,\r\n    isChild: false,\r\n    private: false,\r\n    component: () => <Redirect to=\"/discover\" />,\r\n  },\r\n  {\r\n    path: \"/landing\",\r\n    exact: false,\r\n    isChild: false,\r\n    private: false,\r\n    component: () => <Landing />,\r\n  },\r\n  {\r\n    path: \"/login\",\r\n    exact: true,\r\n    isChild: false,\r\n    private: false,\r\n    component: () => {\r\n      Auth0Helper.login();\r\n      return <Discover />;\r\n    },\r\n  },\r\n  {\r\n    path: \"/signUp\",\r\n    exact: true,\r\n    isChild: false,\r\n    private: false,\r\n    component: () => {\r\n      Auth0Helper.signUp();\r\n      return <Discover />;\r\n    },\r\n  },\r\n  {\r\n    path: \"/nowPlaying\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: true,\r\n    component: () => <Create />,\r\n  },\r\n  {\r\n    path: \"/discover\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: false,\r\n    component: () => <Discover />,\r\n  },\r\n  {\r\n    path: \"/station/:id\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: false,\r\n    component: () => <StationDetails />,\r\n  },\r\n  {\r\n    path: \"/createschedule/:id\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: true,\r\n    component: () => <CreateSchedule />,\r\n  },\r\n  {\r\n    path: \"/schedules\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: true,\r\n    component: () => <Schedules />,\r\n  },\r\n  {\r\n    path: \"/inStoreMessaging\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: true,\r\n    component: () => <InStoreMessaging />,\r\n  },\r\n  {\r\n    path: \"/createInStoreMessaging\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: true,\r\n    component: () => <CreateInStoreMessaging />,\r\n  },\r\n  {\r\n    path: \"/sandbox\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: true,\r\n    component: () => <Sandbox />,\r\n  },\r\n  {\r\n    path: \"/settings\",\r\n    exact: true,\r\n    isChild: true,\r\n    private: true,\r\n    component: () => <Redirect to=\"/settings/user\" />,\r\n  },\r\n  {\r\n    path: \"/settings/:setting\",\r\n    exact: true,\r\n    isChild: false,\r\n    private: true,\r\n    component: () => <SettingsPage />,\r\n  },\r\n  // {\r\n  //   path: \"/test\",\r\n  //   exact: true,\r\n  //   isChild: false,\r\n  //   private: false,\r\n  //   component: () => <BusinessSettings />,\r\n  // },\r\n];\r\n\r\nexport default routes;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { get } from \"lodash\";\r\nimport { Menu, message, Dropdown, Button, notification } from \"antd\";\r\nimport { API_URL, logEvent } from \"../../configs\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBars, faAcorn, faMicrophone, faClock, faSignalStream, faCog, faStoreAlt } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport { categories, actions, images } from \"../../constants\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport Auth0Helper from \"../../helpers/Auth0Helper\";\r\nimport { faSignOut } from \"@fortawesome/pro-regular-svg-icons\";\r\nimport { getTrackNumberByTrack } from \"../../util\";\r\nimport \"./index.scss\";\r\n\r\nmessage.config({\r\n  top: \"5%\",\r\n  duration: 1,\r\n});\r\n\r\nlet resizeListener = null;\r\n\r\nclass AppHeader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      current: undefined,\r\n      windowSize: window.innerWidth,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let str = get(this.props, \"location.pathname\", \"\");\r\n    var activePath = str.replace(\"/\", \"\");\r\n    this.setState({ current: activePath });\r\n    resizeListener = window.addEventListener(\"resize\", (e) => {\r\n      this.setState({ windowSize: e.target.innerWidth });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    try {\r\n      window.removeEventListener(\"resize\", resizeListener);\r\n      resizeListener = null;\r\n    } catch (err) {\r\n      console.log(\"error while unmounting header: \", err);\r\n    }\r\n  }\r\n\r\n  handleClick = async (route) => {\r\n    const { myLocation } = this.props;\r\n\r\n    if (route === \"features\" || route === \"price\") {\r\n      notification.info({ message: \"Service Unavailable\", placement: \"bottomLeft\" });\r\n    } else if (route === \"signout\") {\r\n      this.logInOut();\r\n    } else {\r\n      let hasStation = get(myLocation, \"station._id\", null);\r\n      if (route === \"nowPlaying\" && !hasStation) {\r\n        notification.warn({ message: \"Please select a station before viewing your dashboard\", placement: \"bottomLeft\" });\r\n        return;\r\n      }\r\n      this.setState({ current: route });\r\n      message.destroy();\r\n      this.props.history.push(\"/\" + route);\r\n    }\r\n  };\r\n\r\n  logInOut = () => {\r\n    if (Auth0Helper.isLoggedIn()) {\r\n      try {\r\n        logEvent({ category: categories.general, action: actions.signout });\r\n        Auth0Helper.logout();\r\n      } catch (err) {\r\n        console.log(\"Caught logout err: \", err);\r\n      }\r\n    } else {\r\n      Auth0Helper.login();\r\n    }\r\n  };\r\n\r\n  checkIfActiveTab(tab) {\r\n    if (!tab) return \"\";\r\n    return get(this.props, \"location.pathname\", \"\").toLowerCase().includes(tab.toLowerCase());\r\n  }\r\n\r\n  printStuff() {\r\n    const { myLocation, player } = this.props;\r\n    let trackSchedule = get(myLocation, \"trackSchedule\", {});\r\n    let queue = get(trackSchedule, \"queue\", []);\r\n    let currentTrack = get(myLocation, \"currentTrack\", {});\r\n\r\n    console.log({ entireReduxStore: this.props.state, props: this.props, myLocation, player, trackSchedule, queue, currentTrack, pos: getTrackNumberByTrack(currentTrack, queue) });\r\n  }\r\n\r\n  render() {\r\n    const { inApp } = this.props;\r\n    const { windowSize, current } = this.state;\r\n\r\n    const mobileHeaderMenu = (\r\n      <Menu mode=\"horizontal\" onClick={(e) => this.handleClick(e.key)} selectedKeys={[current]} className=\"menu-wrapper\">\r\n        <Menu.Item className=\"mobileButtonItem\" key=\"nowPlaying\">\r\n          <div className=\"mobileButtonIcon\">\r\n            <FontAwesomeIcon icon={faStoreAlt} />\r\n          </div>\r\n          <div className=\"mobileButtonText\">Dashboard</div>\r\n        </Menu.Item>\r\n        <Menu.Item className=\"mobileButtonItem\" key=\"discover\">\r\n          <div className=\"mobileButtonIcon\">\r\n            <FontAwesomeIcon icon={faSignalStream} />\r\n          </div>\r\n          <div className=\"mobileButtonText\">Stations</div>\r\n        </Menu.Item>\r\n        <Menu.Item className=\"mobileButtonItem\" key=\"schedules\">\r\n          <div className=\"mobileButtonIcon\">\r\n            <FontAwesomeIcon icon={faClock} />\r\n          </div>\r\n          <div className=\"mobileButtonText\">Schedules</div>\r\n        </Menu.Item>\r\n        <Menu.Item className=\"mobileButtonItem\" key=\"inStoreMessaging\">\r\n          <div className=\"mobileButtonIcon\">\r\n            <FontAwesomeIcon icon={faMicrophone} />\r\n          </div>\r\n          <div className=\"mobileButtonText\">Messaging</div>\r\n        </Menu.Item>\r\n        <Menu.Item className=\"mobileButtonItem\" key=\"settings\">\r\n          <div className=\"mobileButtonIcon\">\r\n            <FontAwesomeIcon icon={faCog} />\r\n          </div>\r\n          <div className=\"mobileButtonText\">Settings</div>\r\n        </Menu.Item>\r\n        {Auth0Helper.isLoggedIn() ? (\r\n          <Menu.Item key=\"signout\" className=\"mobileButtonItem\">\r\n            <div className=\"mobileButtonIcon\">\r\n              <FontAwesomeIcon icon={faSignOut} rotation={180} />\r\n            </div>\r\n            <div className=\"mobileButtonText\">Sign Out</div>\r\n          </Menu.Item>\r\n        ) : (\r\n          <Menu.Item key=\"signout\"> Sign In</Menu.Item>\r\n        )}\r\n      </Menu>\r\n    );\r\n\r\n    const route = get(this.props, \"route\", null);\r\n    let isCreateSchedulePage = null;\r\n    let devMode = API_URL.includes(\"localhost\") || API_URL.includes(\"-dev\");\r\n    if (route) isCreateSchedulePage = route.toUpperCase().includes(\"createSchedule\".toUpperCase()) ? true : false;\r\n    let headStyle = isCreateSchedulePage ? \"header-container headerTwo\" : \"header-container headerOne\";\r\n\r\n    return (\r\n      <div className={headStyle}>\r\n        <div className={\"logo-wrapper\"}>\r\n          <img src={images.appLogo} className=\"header_logo pointer noselect\" onClick={() => this.props.history.push(\"/nowPlaying\")} alt=\"logo\" />\r\n        </div>\r\n        <div style={{ flex: 0 }}>{devMode && inApp ? \"inApp Mode\" : \"\"}</div>\r\n\r\n        {windowSize <= 760 ? (\r\n          <div className={\"mobileButtonsContainer\"}>\r\n            <Dropdown overlay={mobileHeaderMenu} trigger={[\"click\"]}>\r\n              <Button>\r\n                <FontAwesomeIcon icon={faBars} />\r\n              </Button>\r\n            </Dropdown>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"mainButtonsContainer noselect\">\r\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"nowPlaying\") ? \" mainButtonActive\" : \"\")} key=\"nowPlaying\" onClick={() => this.handleClick(\"nowPlaying\")}>\r\n                <div className=\"mainButtonsContent\">\r\n                  <div className=\"mainButtonsIcon\">\r\n                    <FontAwesomeIcon icon={faStoreAlt} />\r\n                  </div>\r\n                  <div className=\"mainButtonsText\"> Dashboard </div>\r\n                </div>\r\n                <div className=\"mainButtonsBottomBar\" />\r\n              </div>\r\n\r\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"discover\") || this.checkIfActiveTab(\"browse\") ? \" mainButtonActive\" : \"\")} key=\"discover\" onClick={() => this.handleClick(\"discover\")}>\r\n                <div className=\"mainButtonsContent\">\r\n                  <div className=\"mainButtonsIcon\">\r\n                    <FontAwesomeIcon icon={faSignalStream} />\r\n                  </div>\r\n                  <div className=\"mainButtonsText\">Stations</div>\r\n                </div>\r\n                <div className=\"mainButtonsBottomBar\" />\r\n              </div>\r\n\r\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"schedules\") || this.checkIfActiveTab(\"createSchedule\") ? \" mainButtonActive\" : \"\")} key=\"schedules\" onClick={() => this.handleClick(\"schedules\")}>\r\n                <div className=\"mainButtonsContent\">\r\n                  <div className=\"mainButtonsIcon\">\r\n                    <FontAwesomeIcon icon={faClock} />\r\n                  </div>\r\n                  <div className=\"mainButtonsText\">Schedules</div>\r\n                </div>\r\n                <div className=\"mainButtonsBottomBar\" />\r\n              </div>\r\n\r\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"inStoreMessaging\") || this.checkIfActiveTab(\"inStoreMessaging\") ? \" mainButtonActive\" : \"\")} key=\"inStoreMessaging\" onClick={() => this.handleClick(\"inStoreMessaging\")}>\r\n                <div className=\"mainButtonsContent\">\r\n                  <div className=\"mainButtonsIcon\">\r\n                    <FontAwesomeIcon icon={faMicrophone} />\r\n                  </div>\r\n                  <div className=\"mainButtonsText\"> Messaging </div>\r\n                </div>\r\n                <div className=\"mainButtonsBottomBar\" />\r\n              </div>\r\n\r\n              <div className={\"mainButtons\" + (this.checkIfActiveTab(\"settings\") || this.checkIfActiveTab(\"settings\") ? \" mainButtonActive\" : \"\")} key=\"settings\" onClick={() => this.handleClick(\"settings\")}>\r\n                <div className=\"mainButtonsContent\">\r\n                  <div className=\"mainButtonsIcon\">\r\n                    <FontAwesomeIcon icon={faCog} />\r\n                  </div>\r\n                  <div className=\"mainButtonsText\"> Settings </div>\r\n                </div>\r\n                <div className=\"mainButtonsBottomBar\" />\r\n              </div>\r\n            </div>\r\n            <Button key=\"signout\" onClick={() => this.logInOut()}>\r\n              {Auth0Helper.isLoggedIn() ? \"Sign Out\" : \"Sign In\"}\r\n            </Button>\r\n          </>\r\n        )}\r\n        {devMode && <FontAwesomeIcon className={\"icon\"} style={{ paddingLeft: \"10px\", fontSize: \"32px\" }} icon={faAcorn} onClick={() => this.printStuff()} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({}, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n    player: state.player,\r\n    myLocation: state.auth.location,\r\n    inApp: state.auth.inApp,\r\n    state: state,\r\n  };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withAuth0(AppHeader)));\r\n","import React, { Component } from \"react\";\nimport { get, isEqual } from \"lodash\";\nimport Slider from \"react-rangeslider\";\nimport \"./index.scss\";\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myVolume: 0,\n    };\n  }\n\n  componentDidMount() {\n    // Sets initial state when volume slider pops-up\n    this.setState({ myVolume: get(this.props, \"volume\", 0) });\n  }\n\n  componentDidUpdate(prevProps) {\n    // Handles mute / unmute\n    if (!isEqual(get(this.props, \"volume\", 0), get(prevProps, \"volume\", 0))) {\n      this.setState({ myVolume: get(this.props, \"volume\", 0) });\n    }\n  }\n\n  // Handles volume slider change\n  handleChange = (myVolume) => {\n    this.props.changeVolume(myVolume * 0.01);\n  };\n\n  // Returns the volume as a %\n  calculateVolumeHeight() {\n    return 100 * this.state.myVolume;\n  }\n\n  render() {\n    const { myVolume } = this.state;\n\n    return (\n      <div className={\"volume-slider-wrapper\"}>\n        <div className=\"slider orientation-reversed\">\n          <div className=\"slider-group\">\n            <div className=\"slider-vertical\">\n              <Slider min={0} max={100} value={this.calculateVolumeHeight(myVolume)} orientation=\"vertical\" onChange={this.handleChange} tooltip={false} onChangeStart={(e) => this.props.startDrag(e)} onChangeComplete={(e) => this.props.endDrag(e)} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VolumeSlider;\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlay, faPause, faStepForward, faVolume, faVolumeUp, faVolumeMute } from \"@fortawesome/pro-solid-svg-icons\";\r\nimport { faTimes, faGrinBeamSweat } from \"@fortawesome/pro-light-svg-icons\";\r\nimport ReactAudioPlayer from \"react-audio-player\";\r\nimport { checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError } from \"../../actions\";\r\nimport { get, isEqual } from \"lodash\";\r\nimport VolumeSlider from \"./volume-slider\";\r\nimport { categories, actions, labels } from \"../../constants\";\r\nimport { logEvent } from \"../../configs\";\r\nimport { getTime } from \"../../util\";\r\nimport { isSafari } from \"react-device-detect\";\r\nimport \"./index.scss\";\r\n\r\nclass MusicBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let localVolume = parseFloat(localStorage.getItem(\"volume\"));\r\n    this.state = {\r\n      currentTime: \"0:00\",\r\n      duration: \"0:00\",\r\n      volume: localVolume ? localVolume : localVolume.toString() === \"0\" ? 0 : 0.3,\r\n      previousVolume: localVolume || 0.3,\r\n      showVolumeControl: false,\r\n      dragging: false,\r\n      url: null,\r\n      isrc: null,\r\n    };\r\n  }\r\n\r\n  // Checks if hovered elem belongs to volume slider\r\n  checkIfVolumeSlider(e) {\r\n    if (!e) return false;\r\n    let path = get(e, \"path\", []);\r\n    for (let i = 0; i < path.length; i++) if (path[i].id === \"volume-wrapper\") return true;\r\n    return false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.rap.audioEl.addEventListener(\"timeupdate\", (e) => {\r\n      this.setState({ currentTime: e.target.currentTime, duration: e.target.duration });\r\n    });\r\n\r\n    window.addEventListener(\"mouseover\", (e) => {\r\n      if (this.checkIfVolumeSlider(e) || this.state.dragging) {\r\n        if (!this.state.showVolumeControl) this.setState({ showVolumeControl: true });\r\n      } else if (this.state.showVolumeControl) this.setState({ showVolumeControl: false });\r\n    });\r\n\r\n    let currentTrack = get(this.props, \"currentTrack\", \"\");\r\n    this.updateTrackState();\r\n    this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\r\n\r\n    // Get duration from initial track\r\n    this.setState({ duration: get(currentTrack, \"duration\", null) });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    try {\r\n      this.player.removeEventListener(\"timeupdate\");\r\n      window.removeEventListener(\"mouseover\");\r\n    } catch (err) {\r\n      console.log(\"caught error on music-bar unmount\", err);\r\n    }\r\n  }\r\n\r\n  // Updates the local current track's url & isrc\r\n  updateTrackState() {\r\n    this.setState({ url: get(this.props, \"player.trackMap[\" + get(this.props, \"currentTrack.isrc\", \"\") + \"].url\", \"\"), isrc: get(this.props, \"currentTrack.isrc\", null) });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(get(this.props, \"myLocation.currentTrack.isrc\", null), get(prevProps, \"myLocation.currentTrack.isrc\", null))) {\r\n      console.log(\"nowPlaying: \", { currentTrack: get(this.props, \"currentTrack.title\", \"\"), duration: getTime(get(this.props, \"currentTrack.duration\", \"\")), station: get(this.props, \"myLocation.station.name\", \"\") });\r\n      this.props.actions.checkIfAdvertisement(get(this.props, \"currentTrack\", {}));\r\n      this.updateTrackState();\r\n    }\r\n\r\n    // If the station was changed automatically\r\n    if (!isEqual(get(this.props, \"myLocation.station._id\", null), get(prevProps, \"myLocation.station._id\", null))) {\r\n      console.log(\"<================ CHANGED STATION B ================>\", this.props);\r\n      this.props.actions.setTrackNumber(0);\r\n      this.updateTrackState();\r\n\r\n      // Mainly for Safari, as it won't auto-play new stations\r\n      if (isSafari && get(this.props, \"player.isPlaying\")) {\r\n        this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\r\n        this.rap.audioEl.play();\r\n      }\r\n    }\r\n\r\n    // Play / Pause change\r\n    if (!isEqual(get(this.props, \"player.isPlaying\", false), get(prevProps, \"player.isPlaying\", false))) {\r\n      let isPlaying = get(this.props, \"player.isPlaying\", false);\r\n      if (isPlaying) this.rap.audioEl.play();\r\n      else this.rap.audioEl.pause();\r\n    }\r\n  }\r\n\r\n  getCurrentTrack() {\r\n    const { url, isrc } = this.state;\r\n    let currentTrackISRC = get(this.props, \"currentTrack.isrc\", \"\");\r\n    let currentTrackUrl = get(this.props, \"player.trackMap[\" + currentTrackISRC + \"].url\", get(this.props, \"currentTrack.url\", \"\"));\r\n\r\n    // Catch for same song, but different link\r\n    if (isrc && url && isrc === currentTrackISRC && url !== currentTrackUrl) return url; // Stops track from restarting when toggling explicit\r\n    return currentTrackUrl; // Return currentTrackUrl normally\r\n  }\r\n\r\n  playTrack() {\r\n    this.setState({ isPlaying: true }, () => {\r\n      let promise = this.rap.audioEl.play();\r\n\r\n      // Needed due to https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\r\n      if (promise !== undefined) {\r\n        promise\r\n          .then(() => {\r\n            // Player started autoplaying\r\n            this.props.actions.setIsPlaying(true);\r\n          })\r\n          .catch(() => {\r\n            // Player blocked from autoplaying\r\n            this.props.actions.setIsPlaying(false);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  togglePlay() {\r\n    this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\r\n  }\r\n\r\n  // Toggles player mute\r\n  toggleMute() {\r\n    const { previousVolume } = this.state;\r\n    this.setState({ volume: this.state.volume > 0 ? 0 : previousVolume }, () => {\r\n      localStorage.setItem(\"volume\", this.state.volume);\r\n    });\r\n  }\r\n\r\n  // Sets the volume of the player\r\n  setVolume(volume) {\r\n    this.setState({ volume, previousVolume: volume }, () => {\r\n      localStorage.setItem(\"volume\", this.state.volume);\r\n    });\r\n  }\r\n\r\n  // Sets boolean on if user is dragging volume slider\r\n  toggleVolumeDrag(dragging) {\r\n    this.setState({ dragging });\r\n  }\r\n\r\n  async closePlayer() {\r\n    this.props.actions.setIsPlaying(false);\r\n    logEvent({ category: categories.dashboard, action: actions.closePlayer, label: labels.button });\r\n    await this.props.actions.disconnectPlayer();\r\n  }\r\n\r\n  songError(e) {\r\n    console.log(\"Song error: \", { e, props: this.props });\r\n    this.skipSong(0);\r\n  }\r\n\r\n  skipSong(songCompletion) {\r\n    this.props.actions.skipSong({ songCompletion }).then((res) => {\r\n      if (res === \"DEVICE_ALREADY_PAIRED\") {\r\n        this.props.actions.playerError({\r\n          error: true,\r\n          title: \"Another Device Has Connected!\",\r\n          message: \"Please press the 'play' button if you wish to reconnect with this device.\",\r\n          icon: <FontAwesomeIcon icon={faGrinBeamSweat} className={\"connect-icon\"} />,\r\n        });\r\n      }\r\n\r\n      try {\r\n        // Mainly for Safari, as it won't auto-play the next track\r\n        if (isSafari) this.props.actions.setIsPlaying(!get(this.props, \"player.isPlaying\"));\r\n        this.rap.audioEl.play();\r\n      } catch (err) {\r\n        console.log(\"skipSong err: \", err);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isPlaying, skipDisabled } = get(this.props, \"player\", {});\r\n    const { volume, showVolumeControl, currentTime, duration } = this.state;\r\n\r\n    let currentTrack = get(this.props, \"currentTrack\", {});\r\n    const songCompletion = ((currentTime / duration) * 100).toFixed(2);\r\n\r\n    let hasArtistOverflow = false;\r\n    let hasTrackOverflow = false;\r\n\r\n    let playerInfoWrapper = document.getElementById(\"player-info-wrapper\") || null;\r\n    let artistOverflow = document.getElementById(\"player-artist-info\") || null;\r\n    let trackOverflow = document.getElementById(\"player-track-info\") || null;\r\n\r\n    if (playerInfoWrapper && artistOverflow && trackOverflow) {\r\n      playerInfoWrapper = playerInfoWrapper.getBoundingClientRect().width - 60;\r\n      artistOverflow = artistOverflow.getBoundingClientRect().width;\r\n      trackOverflow = trackOverflow.getBoundingClientRect().width;\r\n\r\n      if (playerInfoWrapper < artistOverflow) hasArtistOverflow = true;\r\n      if (playerInfoWrapper < trackOverflow) hasTrackOverflow = true;\r\n    }\r\n\r\n    return (\r\n      <div className=\"music-bar-wrapper noselect\" id={\"music-player-controller\"}>\r\n        <div className=\"react-music-player\">\r\n          <ReactAudioPlayer\r\n            ref={(element) => {\r\n              this.rap = element;\r\n            }}\r\n            src={this.getCurrentTrack()}\r\n            autoPlay={false}\r\n            controls={false}\r\n            muted={volume === 0 ? true : false}\r\n            volume={volume}\r\n            onCanPlay={() => this.playTrack()}\r\n            onEnded={() => this.skipSong(songCompletion)}\r\n            onError={(e) => this.songError(e)}\r\n            preload={\"auto\"}\r\n          />\r\n        </div>\r\n        <div className=\"music-bar-scrub-wrapper\">\r\n          <div className=\"music-bar-scrubber\" style={{ width: songCompletion + \"%\" }} />\r\n        </div>\r\n        <div className=\"music-bar-content-wrapper\">\r\n          <div className=\"music-bar-item flexRow left-controls\" id={\"player-info-wrapper\"}>\r\n            <img className=\"preview-image\" src={get(currentTrack, \"picture\", null)} alt={\"\"} />\r\n            <div className=\"preview-text\">\r\n              <div className=\"song-artist\">\r\n                <span id={\"player-artist-info\"} className={hasArtistOverflow ? \"marquee\" : \"\"}>\r\n                  {get(currentTrack, \"artist[0]\", \"NA\")}\r\n                </span>\r\n              </div>\r\n              <div className=\"song-title\">\r\n                <span id={\"player-track-info\"} className={hasTrackOverflow ? \"marquee\" : \"\"}>\r\n                  {get(currentTrack, \"title\", \"NA\")}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"music-bar-item flexRow center-controls\">\r\n            {isPlaying ? <FontAwesomeIcon icon={faPause} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} /> : <FontAwesomeIcon icon={faPlay} className={\"music-bar-icon\"} onClick={() => this.togglePlay()} />}\r\n            {<FontAwesomeIcon icon={faStepForward} className={\"music-bar-icon\".concat(skipDisabled ? \" disabled\" : \"\")} onClick={() => (skipDisabled ? null : this.skipSong(songCompletion))} />}\r\n          </div>\r\n\r\n          <div className=\"music-bar-item right-controls\">\r\n            <div className=\"time-display\">\r\n              <span id={\"current-song-time\"}>{getTime(currentTime)}</span> &nbsp;/&nbsp; <span id={\"current-song-duration\"}>{getTime(duration)}</span> <span id={\"invis-current-song-time\"}>{songCompletion}</span>\r\n            </div>\r\n\r\n            {/* Volume controls */}\r\n            <div className=\"volume-icon\" id={\"volume-wrapper\"}>\r\n              {showVolumeControl && <VolumeSlider volume={volume} changeVolume={(newVolume) => this.setVolume(newVolume)} startDrag={() => this.toggleVolumeDrag(true)} endDrag={() => this.toggleVolumeDrag(false)} />}\r\n              {volume === 0 ? <FontAwesomeIcon icon={faVolumeMute} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : volume < 0.7 ? <FontAwesomeIcon icon={faVolume} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} /> : <FontAwesomeIcon icon={faVolumeUp} className={\"music-bar-icon\"} style={{ margin: 0 }} onClick={() => this.toggleMute()} />}\r\n            </div>\r\n\r\n            <FontAwesomeIcon icon={faTimes} className={\"music-bar-icon close-icon\"} onClick={() => this.closePlayer()} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { actions: bindActionCreators({ checkIfAdvertisement, skipSong, setIsPlaying, setTrackNumber, disconnectPlayer, playerError }, dispatch) };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { player: state.player, myLocation: state.auth.location, currentTrack: state.auth.location.currentTrack };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicBar);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport { setInApp, auth0setLogin, startSockets } from \"./actions\";\r\nimport Routes from \"./routes/index\";\r\nimport AppHeader from \"./components/header\";\r\nimport { Modal, Spin, Layout } from \"antd\";\r\nimport { startGoogleAnalytics } from \"./configs\";\r\nimport { get } from \"lodash\";\r\nimport MusicBar from \"./components/music-bar\";\r\nimport AntSpinner from \"./components/antSpinner\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport Auth0Helper from \"./helpers/Auth0Helper\";\r\nimport SignUp from \"./containers/welcome/signUp\";\r\nimport MobileAppCommunicator from \"./helpers/MobileAppCommunicator\";\r\nimport \"./App.scss\";\r\n\r\nAuth0Helper.initialize();\r\n\r\nclass AmbiiRouter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    Auth0Helper.getLock().on(\"authenticated\", (data) => {\r\n      this.initiateLogin(data?.idToken);\r\n    });\r\n\r\n    // Emitted when there is an unrecoverable error, for instance when no connection is available. Has the error as the only argument.\r\n    Auth0Helper.getLock().on(\"unrecoverable_error\", (err) => {\r\n      console.log(\"auth0 - unrecoverable_error: \", { err });\r\n    });\r\n\r\n    // emitted when authorization fails. Has error as the only argument.\r\n    Auth0Helper.getLock().on(\"authorization_error\", (err) => {\r\n      console.log(\"auth0 - authorization_error: \", { err });\r\n    });\r\n\r\n    Auth0Helper.getLock().checkSession({}, (err, data) => {\r\n      console.log(\"hit auth0 check session: \", { err, data });\r\n      this.setState({ isLoading: false }, () => {\r\n        if (!err && data?.idToken) this.initiateLogin(data?.idToken);\r\n        else {\r\n          if (localStorage.getItem(\"ambii_auth_jwt\")) Auth0Helper.logout();\r\n          if (get(err, \"code\", \"\") === \"login_required\") Auth0Helper.login();\r\n          this.setState({ isLoading: false });\r\n        }\r\n      });\r\n    });\r\n\r\n    // Check if we're inApp when the app loads\r\n    let inApp = get(window, \"location.search\", \"\").includes(\"inApp\") || localStorage.getItem(\"inApp\");\r\n    if (inApp) this.props.actions.setInApp(true);\r\n\r\n    if (window.ReactNativeWebView) {\r\n      window.addEventListener(\"message\", (msg) => {\r\n        let data = get(msg, \"data.data\", null); // Data from mobile\r\n        let endpoint = get(msg, \"data.endpoint\", null); // Endpoint from mobile\r\n        let mobileAuth = Auth0Helper.isLoggedIn() ? true : false;\r\n\r\n        // Listener logic\r\n        switch (endpoint) {\r\n          case \"auth\":\r\n            MobileAppCommunicator.send(\"auth\", mobileAuth);\r\n            break;\r\n          case \"introLogin\":\r\n            localStorage.setItem(\"mobileIntroLogin\", true);\r\n            MobileAppCommunicator.send(\"introLogin\", null);\r\n            break;\r\n          case \"login\":\r\n            Auth0Helper.login();\r\n            MobileAppCommunicator.send(\"login\", \"Login Success\");\r\n            break;\r\n          case \"logout\":\r\n            Auth0Helper.logout();\r\n            MobileAppCommunicator.send(\"logout\", \"Logout Success\");\r\n            break;\r\n          default:\r\n            // MobileAppCommunicator.send(\"default\", null);\r\n            break;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (Auth0Helper.isLoggedIn() && this.state.isLoading) {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  }\r\n\r\n  initiateLogin(jwt) {\r\n    localStorage.setItem(\"ambii_auth_jwt\", jwt);\r\n    this.props.actions.auth0setLogin();\r\n  }\r\n\r\n  render() {\r\n    const { player, auth, inApp } = this.props;\r\n    let showMusicPlayer = get(player, \"showPlayer\", false);\r\n\r\n    return (\r\n      <Router>\r\n        <div>\r\n          {Routes.map((route, index) => {\r\n            return (\r\n              <Route\r\n                key={index}\r\n                path={route.path}\r\n                exact={route.exact}\r\n                render={() => {\r\n                  if (!this.state.isLoading && !Auth0Helper.isLoggedIn() && route.private) Auth0Helper.login();\r\n                  if (Auth0Helper.isLoggedIn() || !route.private) {\r\n                    return (\r\n                      <>\r\n                        {auth?.user?.company && !auth?.user?.company?.name ? (\r\n                          <Modal visible={true} onCancel={this.onCancel} width={900} className=\"modal-container\" closable={false} footer={false}>\r\n                            <div className={\"signup-modal-title\"}>\r\n                              {\"Welcome to \"}\r\n                              <span style={{ color: \"#d04283\" }}>{\"ambii\"}</span>\r\n                            </div>\r\n                            <SignUp />\r\n                          </Modal>\r\n                        ) : null}\r\n                        <div className=\"explore_container\">\r\n                          {!inApp && <AppHeader showMenu=\"userlogin\" route={route.path} />}\r\n                          {/* <AppHeader showMenu=\"userlogin\" route={route.path} /> */}\r\n                          <div className={\"contentWrapper\".concat(showMusicPlayer ? \" player-visible\" : \"\")}>{route.component()}</div>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <Layout className=\"explore_container\">\r\n                        {!inApp && <AppHeader id=\"myHeader\" showMenu=\"landing\" />}\r\n                        {/* <AppHeader id=\"myHeader\" showMenu=\"landing\" /> */}\r\n                        <div className=\"loading-app\">\r\n                          <div className=\"loading-app-text\">\r\n                            Logging Into <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\r\n                          </div>\r\n                          <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\r\n                        </div>\r\n                      </Layout>\r\n                    );\r\n                  }\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapDispatchToPropsRouter(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({ auth0setLogin, setInApp }, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToPropsRouter(state) {\r\n  return {\r\n    auth: state.auth,\r\n    player: state.player,\r\n    inApp: state.auth.inApp,\r\n  };\r\n}\r\n\r\nvar RouterWithAuth = connect(mapStateToPropsRouter, mapDispatchToPropsRouter)(withAuth0(AmbiiRouter));\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      initAnalytics: false,\r\n    };\r\n\r\n    startGoogleAnalytics();\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.props.actions.startSockets();\r\n  }\r\n\r\n  render() {\r\n    const { player } = this.props;\r\n    let showMusicPlayer = get(player, \"showPlayer\", false);\r\n\r\n    return !this.state.isLoading ? (\r\n      <>\r\n        <RouterWithAuth props={{ showMusicPlayer }} />\r\n        {showMusicPlayer && <MusicBar />}\r\n      </>\r\n    ) : (\r\n      <div className=\"loading-app\">\r\n        <div className=\"loading-app-text\">\r\n          Loading <span style={{ color: \"#d04283\" }}>Ambii - Music for Business</span>\r\n        </div>\r\n        <Spin indicator={AntSpinner} spinning={true} size={\"large\"}></Spin>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({ startSockets }, dispatch),\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n    player: state.player,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withAuth0(App));\r\n","import React, { Component } from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { connect } from \"react-redux\"; //to pass functions\r\nimport { bindActionCreators } from \"redux\";\r\nimport App from \"../App\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Elements, loadStripe } from \"@stripe/react-stripe-js\";\r\n\r\nclass RootContainer extends Component {\r\n  componentDidCatch(error) {\r\n    this.setState({ error });\r\n  }\r\n\r\n  render() {\r\n    const { store, stripePromise } = this.props;\r\n    return (\r\n      <Provider store={store}>\r\n        <div>\r\n          <Elements stripe={stripePromise}>\r\n            <App />\r\n          </Elements>\r\n        </div>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n    loader: state.loader,\r\n  };\r\n}\r\n\r\n/* Map Actions to Props */\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators({}, dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RootContainer);\r\n","/* eslint-disable no-undef */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\"This web app is being served cache-first by a service \" + \"worker. To learn more, visit https://bit.ly/CRA-PWA\");\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\"New content is available and will be used when all \" + \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { AppContainer } from \"react-hot-loader\";\r\nimport \"rc-slider/assets/index.css\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\nimport configureStore from \"./redux-store/storeConfiguration\";\r\nimport RootContainer from \"./containers/rootContainer\";\r\nimport \"./common/styles/styles.scss\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { STRIPE_KEY } from \"./configs\";\r\n\r\nconst store = configureStore();\r\n\r\nconst stripePromise = loadStripe(STRIPE_KEY);\r\nif (document.location.hostname !== \"localhost\" && document.location.hostname !== \"business-dev.ambii.io\") console.log = () => {};\r\nrender(\r\n  <AppContainer>\r\n    <RootContainer store={store} stripePromise={stripePromise} />\r\n  </AppContainer>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/ios.c969fdc0.png\";","module.exports = __webpack_public_path__ + \"static/media/playstore.6b8a494d.png\";","module.exports = __webpack_public_path__ + \"static/media/credit-card.10e3740d.svg\";","module.exports = __webpack_public_path__ + \"static/media/visa.c8009c93.svg\";","module.exports = __webpack_public_path__ + \"static/media/amex.a9eddb34.svg\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.543bc93b.svg\";","module.exports = __webpack_public_path__ + \"static/media/androidBtn.e65a89bc.png\";","module.exports = __webpack_public_path__ + \"static/media/appleBtn.99f1ed98.png\";","module.exports = __webpack_public_path__ + \"static/media/appLogo.811d25b4.png\";","module.exports = __webpack_public_path__ + \"static/media/bg1.069f3dec.png\";","module.exports = __webpack_public_path__ + \"static/media/bg2.5a06bbee.png\";","module.exports = __webpack_public_path__ + \"static/media/bg3.9f68fc4b.png\";","module.exports = __webpack_public_path__ + \"static/media/bg4.815bb5d4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg5.b7d2890a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg6.435f2fc0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ambii_logo_inverse.188927ed.png\";"],"sourceRoot":""}